if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.2154");}window.YandexZen=window.YandexZen||{},window.YandexZen.app=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=126)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";function r(e,t){return e===t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,s=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e(t[s],n[s]))return!1;return!0}(t,n,arguments)||(s=e.apply(null,arguments)),n=arguments,s}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,a=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),d=s(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return d.resultFunc=a,d.recomputations=function(){return o},d.resetRecomputations=function(){return o=0},d}}t.__esModule=!0,t.defaultMemoize=s,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var o=t.createSelector=i(s)},function(e,t,n){"use strict";n.r(t);var r=n(31);n.d(t,"createStore",function(){return r.b});var s=n(57);n.d(t,"combineReducers",function(){return s.a});var i=n(55);n.d(t,"bindActionCreators",function(){return i.a});var o=n(54);n.d(t,"applyMiddleware",function(){return o.a});var a=n(30);n.d(t,"compose",function(){return a.a});n(56)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){e.exports=n(117)()},,function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,i){var o=n.slice();return s.forEach(function(s,a){void 0===o[a]?o[a]=t(s,i):e(s)?o[a]=r(n[a],s,i):-1===n.indexOf(s)&&o.push(t(s,i))}),o}function r(s,i,o){var a=Array.isArray(i),c=o||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(s)?l(s,i,o):t(i,o):function(n,s,i){var o={};return e(n)&&Object.keys(n).forEach(function(e){o[e]=t(n[e],i)}),Object.keys(s).forEach(function(a){e(s[a])&&n[a]?o[a]=r(n[a],s[a],i):o[a]=t(s[a],i)}),o}(s,i,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),s=r.svg,i=r.xlink,o={};o[s.name]=s.uri,o[i.name]=i.uri;var a,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(o,t||{}))+">"+e+"</svg>"},l=r.svg,d=r.xlink,u={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[d.name]=d.uri,a)},p=function(e){this.config=n(u,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},_=function(e){return Array.prototype.slice.call(e,0)},b=navigator.userAgent,E={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},y=function(e){var t=[];return _(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},v=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},C=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),_(e.querySelectorAll("symbol")).forEach(function(e){_(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var w=r.xlink.uri,S="xlink:href",O=/[{}|\\\^\[\]`"<>]/g;function x(e){return e.replace(O,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var T,I=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],N=I.map(function(e){return"["+e+"]"}).join(","),R=function(e,t,n,r){var s=x(n),i=x(r);(function(e,t){return _(e).reduce(function(e,n){if(!n.attributes)return e;var r=_(n.attributes),s=t?r.filter(t):r;return e.concat(s)},[])})(e.querySelectorAll(N),function(e){var t=e.localName,n=e.value;return-1!==I.indexOf(t)&&-1!==n.indexOf("url("+s)}).forEach(function(e){return e.value=e.value.replace(s,i)}),function(e,t,n){_(e).forEach(function(e){var r=e.getAttribute(S);if(r&&0===r.indexOf(t)){var s=r.replace(t,n);e.setAttributeNS(w,S,s)}})}(t,s,i)},P={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},A=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var s=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=s,this.node=null;var i=this.config;if(i.autoConfigure&&this._autoConfigure(t),i.syncUrlsWithBaseTag){var o=document.getElementsByTagName("base")[0].getAttribute("href");s.on(P.MOUNT,function(){return r.updateUrls("#",o)})}var a=this._handleLocationChange.bind(this);this._handleLocationChange=a,i.listenLocationChangeEvent&&window.addEventListener(i.locationChangeEvent,a),i.locationChangeAngularEmitter&&k(i.locationChangeEvent),s.on(P.MOUNT,function(e){i.moveGradientsOutsideSymbol&&C(e)}),s.on(P.SYMBOL_MOUNT,function(e){i.moveGradientsOutsideSymbol&&C(e.parentNode),(E.isIE||E.isEdge)&&y(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=E.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(P.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(P.SYMBOL_MOUNT,e.node)}),_(r.querySelectorAll("symbol")).forEach(function(e){var t=f.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(P.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(P.MOUNT,r),r},t.prototype.render=function(){return m(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,v(e)+"#",v(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),M=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,s=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return s||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),s=1;e=t.shift();)e()}),function(e){s?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?T=window.__SVG_SPRITE__:(T=new A({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=T);var D=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?T.attach(e):T.mount(document.body,!0)};return document.body?D():M(D),T})}).call(this,n(19))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var s=n&&!0===n.clone;return s&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,s,i){var o=n.slice();return s.forEach(function(s,a){void 0===o[a]?o[a]=t(s,i):e(s)?o[a]=r(n[a],s,i):-1===n.indexOf(s)&&o.push(t(s,i))}),o}function r(s,i,o){var a=Array.isArray(i),c=o||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(s)?l(s,i,o):t(i,o):function(n,s,i){var o={};return e(n)&&Object.keys(n).forEach(function(e){o[e]=t(n[e],i)}),Object.keys(s).forEach(function(a){e(s[a])&&n[a]?o[a]=r(n[a],s[a],i):o[a]=t(s[a],i)}),o}(s,i,o)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),s=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),i=s.svg,o=s.xlink,a={};a[i.name]=i.uri,a[o.name]=o.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(19))},function(e,t,n){e.exports=n(120)()},function(e,t){e.exports=window.ReactDOM},,function(e,t){e.exports=function(e){let t=!1;const n=(...n)=>{t||e(...n)};return n.cancel=(()=>{t=!0,"function"==typeof e.onCancel&&e.onCancel()}),n}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";e.exports=n(94)},,function(e,t,n){var r;!function(t){"use strict";var s=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function o(){this.reads=[],this.writes=[],this.raf=i.bind(t),s("initialized",this)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){s("flush");var t,n=e.writes,r=e.reads;try{s("flushing reads",r.length),c(r),s("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&a(e);if(t){if(s("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),s("flush scheduled"))}function c(e){var t;for(s("run tasks");t=e.shift();)t()}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}o.prototype={constructor:o,measure:function(e,t){s("measure");var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){s("mutate");var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return s("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(s("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var d=t.fastdom=t.fastdom||new o;"f"=="function"[0]?void 0===(r=function(){return d}.call(d,n,d,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=d)}("undefined"!=typeof window?window:this)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=n(114)()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(69),s="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||s||Function("return this")()).Symbol,o=Object.prototype,a=o.hasOwnProperty,c=o.toString,l=i?i.toStringTag:void 0;var d=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var s=c.call(e);return r&&(t?e[l]=n:delete e[l]),s},u=Object.prototype.toString;var p=function(e){return u.call(e)},h="[object Null]",m="[object Undefined]",f=i?i.toStringTag:void 0;var g=function(e){return null==e?void 0===e?m:h:f&&f in Object(e)?d(e):p(e)};var _=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},E="[object Object]",y=Function.prototype,v=Object.prototype,k=y.toString,C=v.hasOwnProperty,w=k.call(Object);t.a=function(e){if(!b(e)||g(e)!=E)return!1;var t=_(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==w}},function(e,t,n){var r=n(115);e.exports=m,e.exports.parse=i,e.exports.compile=function(e,t){return c(i(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=h;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,o=0,a="",c=t&&t.delimiter||"/";null!=(n=s.exec(e));){var u=n[0],p=n[1],h=n.index;if(a+=e.slice(o,h),o=h+u.length,p)a+=p[1];else{var m=e[o],f=n[2],g=n[3],_=n[4],b=n[5],E=n[6],y=n[7];a&&(r.push(a),a="");var v=null!=f&&null!=m&&m!==f,k="+"===E||"*"===E,C="?"===E||"*"===E,w=n[2]||c,S=_||b;r.push({name:g||i++,prefix:f||"",delimiter:w,optional:C,repeat:k,partial:v,asterisk:!!y,pattern:S?d(S):y?".*":"[^"+l(w)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,s){for(var i="",c=n||{},l=(s||{}).pretty?o:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!=typeof u){var p,h=c[u.name];if(null==h){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(p=l(h[m]),!t[d].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(p)+"`");i+=(0===m?u.prefix:u.delimiter)+p}}else{if(p=u.asterisk?a(h):l(h),!t[d].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+p+'"');i+=u.prefix+p}}else i+=u}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var s=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)o+=l(c);else{var d=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),o+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var m=l(n.delimiter||"/"),f=o.slice(-m.length)===m;return s||(o=(f?o.slice(0,-m.length):o)+"(?:"+m+"(?=$))?"),o+=i?"$":s&&f?"":"(?="+m+"|$)",u(new RegExp("^"+o,p(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],s=0;s<e.length;s++)r.push(m(e[s],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return h(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,i,o,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,i,o,a],d=0;(c=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,i,o,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,i,o,a],d=0;(c=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,n){function r(){var e=i;s(e)&&e.a.parentNode&&n(e.g)}var i=e;t(e.b,r),t(e.c,r),s(e)}function o(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,l=null,d=null;function u(){return null===d&&(d=!!document.fonts),d}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,t){var s=this,o=e||"BESbswy",l=0,d=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===c)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=d?t():document.fonts.load(h(s,'"'+s.family+'"'),o).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),f=new Promise(function(e,t){l=setTimeout(t,d)});Promise.race([f,m]).then(function(){clearTimeout(l),e(s)},function(){t(s)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=g&&-1!=_||-1!=g&&-1!=b||-1!=_&&-1!=b)&&((t=g!=_&&g!=b&&_!=b)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==E&&_==E&&b==E||g==y&&_==y&&b==y||g==v&&_==v&&b==v)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(s))}var u=new n(o),m=new n(o),f=new n(o),g=-1,_=-1,b=-1,E=-1,y=-1,v=-1,k=document.createElement("div");k.dir="ltr",r(u,h(s,"sans-serif")),r(m,h(s,"serif")),r(f,h(s,"monospace")),k.appendChild(u.a),k.appendChild(m.a),k.appendChild(f.a),document.body.appendChild(k),E=u.a.offsetWidth,y=m.a.offsetWidth,v=f.a.offsetWidth,function e(){if((new Date).getTime()-p>=d)k.parentNode&&k.parentNode.removeChild(k),t(s);else{var n=document.hidden;!0!==n&&void 0!==n||(g=u.a.offsetWidth,_=m.a.offsetWidth,b=f.a.offsetWidth,c()),l=setTimeout(e,50)}}(),i(u,function(e){g=e,c()}),r(u,h(s,'"'+s.family+'",sans-serif')),i(m,function(e){_=e,c()}),r(m,h(s,'"'+s.family+'",serif')),i(f,function(e){b=e,c()}),r(f,h(s,'"'+s.family+'",monospace'))})})},e.exports=o}()},,,function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],s=t.slice(0,-1);return function(){return s.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(20),s=n(38),i=n.n(s),o={INIT:"@@redux/INIT"};function a(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,d=[],u=d,p=!1;function h(){u===d&&(u=d.slice())}function m(){return l}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),u.push(e),function(){if(t){t=!1,h();var n=u.indexOf(e);u.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=d=u,n=0;n<t.length;n++)t[n]();return e}return g({type:o.INIT}),(s={dispatch:g,subscribe:f,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:o.INIT})}})[i.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[i.a]=function(){return this},e},s}},,function(e,t,n){"use strict";e.exports=n(118)},function(e){e.exports={header:{height:"166px"},feed:{marginBetweenRows:"8px"},zenOne:{header:{height:"74px"}}}},function(e){e.exports={a:"14px"}},function(e){e.exports={b:"20px",a:"396px"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,i,o,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,s,i,o,a],d=0;(c=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){e.exports=n(123)},function(e,t,n){var r,s;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(s="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=s),!0,e.exports=i(),!!0){var o=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=o,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,s,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{o=JSON.stringify(s),/^[\{\[]/.test(o)&&(s=o)}catch(e){}s=n.write?n.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in i)i[l]&&(c+="; "+l,!0!==i[l]&&(c+="="+i[l]));return document.cookie=t+"="+s+c}t||(o={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<d.length;p++){var h=d[p].split("="),m=h.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var f=h[0].replace(u,decodeURIComponent);if(m=n.read?n.read(m,f):n(m,f)||m.replace(u,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===f){o=m;break}t||(o[f]=m)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,s=Array.isArray(t),i=Array.isArray(n);if(s&&i){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(s!=i)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,d=n instanceof RegExp;if(l&&d)return t.toString()==n.toString();if(l!=d)return!1;for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1;return!0}return!1}},,,,,function(e,t){e.exports=!1},,function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};s(n(0));var r=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(105),s=n(104),i=n(102),o=Object.defineProperty;t.f=n(27)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),s)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(51),s=n(101);e.exports=n(27)?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(30),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,o){var a,c=e(n,i,o),l=c.dispatch,d={getState:c.getState,dispatch:function(e){return l(e)}};return a=t.map(function(e){return e(d)}),l=r.a.apply(void 0,a)(c.dispatch),s({},c,{dispatch:l})}}}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function s(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),s={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(s[o]=r(a,t))}return s}n.d(t,"a",function(){return s})},function(e,t,n){"use strict"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(31);n(20),n(56);function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var r=!1,i={},o=0;o<c.length;o++){var l=c[o],d=n[l],u=e[l],p=d(u,t);if(void 0===p){var h=s(l,t);throw new Error(h)}i[l]=p,r=r||p!==u}return r?i:e}}},function(e){e.exports={a:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e){e.exports={a:"24px"}},function(e){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},function(e,t,n){"use strict";(function(e){t.a=(({className:t})=>e.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},e.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"})))}).call(this,n(0))},function(e,t,n){"use strict";(function(e){t.a=(({className:t})=>e.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},e.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"})))}).call(this,n(0))},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff"}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(s){return"function"==typeof s?s(n,r,e):t(s)}}}}t.__esModule=!0;var s=r();s.withExtraArgument=r,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t,n){"use strict";var r=n(21),s=n.n(r),i={},o=0;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,a=r.path,c=r.exact,l=void 0!==c&&c,d=r.strict,u=void 0!==d&&d,p=r.sensitive;if(null==a)return n;var h=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=i[n]||(i[n]={});if(r[e])return r[e];var a=[],c={re:s()(e,a,t),keys:a};return o<1e4&&(r[e]=c,o++),c}(a,{end:l,strict:u,sensitive:void 0!==p&&p}),m=h.re,f=h.keys,g=m.exec(e);if(!g)return null;var _=g[0],b=g.slice(1),E=e===_;return l&&!E?null:{path:a,url:"/"===a&&""===_?"/":_,isExact:E,params:f.reduce(function(e,t,n){return e[t.name]=b[n],e},{})}}},function(e,t){e.exports={getPartnerMetrikaCounterIds:({partner:e})=>{switch(e){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871,nativeFeedMetrikaCounterId:52453471}},function(e,t,n){"use strict";var r=n(33),s=(n(0),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={};o[r.ForwardRef]={$$typeof:!0,render:!0};var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var h=u(n);h&&h!==p&&e(t,h,r)}var m=c(n);l&&(m=m.concat(l(n)));for(var f=o[t.$$typeof]||s,g=o[n.$$typeof]||s,_=0;_<m.length;++_){var b=m[_];if(!(i[b]||r&&r[b]||g&&g[b]||f&&f[b])){var E=d(n,b);try{a(t,b,E)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(19))},function(e,t,n){"use strict";n.r(t);var r=n(24),s=n.n(r);const i=new s.a("regular-ysans"),o=new s.a("bold-ysans"),a=new s.a("medium-ysans");window._fontsLoadPromise=Promise.all([i.load(),o.load(),a.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(e=>{console.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)})},function(e,t,n){"use strict";n.r(t);var r=class{constructor(){this._events={}}on(e,t,n){this._events[e]||(this._events[e]=[]),this._events[e].push({listener:t,context:n})}off(e,t){if(!this._events[e])return;const n=this._events[e],{length:r}=n;for(let e=0;e<r;e++)if(n[e].listener===t)return void n.splice(e,1)}once(e,t,n){const r=()=>{this.off(e,t),this.off(e,r)};this.on(e,t,n),this.on(e,r)}addListener(...e){return this.on(...e)}removeListener(...e){return this.off(...e)}emit(e,...t){this._events[e]&&this._events[e].slice().forEach(({listener:e,context:n})=>{e.apply(n,t)})}};const s=/[?&]([^&#]*)/,i=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(s);if(!n)break;r+=n[0].length;const[i,o=""]=n[1].split("=");i&&(t[decodeURIComponent(i)]=decodeURIComponent(o))}return t},o=e=>{const t=Object.keys(e);return 0===t.length?"":t.reduce((t,n)=>{if(!n||void 0===e[n])return t;return`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`},"")},a=(e,t)=>{const n=Object.assign({},i(e),t),r=e.indexOf("?"),s=e.indexOf("#"),a=-1!==s?s:e.length,c=-1!==r?r:a;return e.slice(0,c)+o(n)+e.slice(a)};var c=n(40),l=n.n(c);var d=(e,t)=>{const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const i=n[s];-1===t.indexOf(i)&&(r[i]=e[i])}return r};const u={};var p={get:async e=>u[e],put:async(e,t)=>{u[e]=t},remove:async e=>{delete u[e]},isEnabled:()=>!0};const h="zen-db",m="zen-api-cache",f="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let g;function _(e,t){return(f?(g||(g=new Promise((e,t)=>{const n=f.open(h,1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore(m)}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{g=null})})})),g):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,s)=>{const i=n.transaction(m,e);i.oncomplete=(()=>{r()}),i.onerror=(()=>{s(i.error)}),t(i.objectStore(m))}))}var b={get(e){let t;return _("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>_("readwrite",n=>{n.put(t,e)}),delete:e=>_("readwrite",t=>{t.delete(e)}),clear:()=>_("readwrite",e=>{e.clear()}),keys(){const e=[];return _("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}};var E={get:e=>b.get(e),put:(e,t)=>b.set(e,t),remove:e=>b.delete(e),isEnabled:()=>"undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)};const{hasOwnProperty:y}=Object.prototype,v=e=>Array.isArray(e)?e.slice():Object.assign({},e),k=e=>e&&"object"==typeof e,C=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],y.call(e,t)!==y.call(n,t)?n:null}},w=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},S=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},O=(e,t)=>{const n=S(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!k(r)||!y.call(r,t))return;r=r[t]}return r},x=(e,t,n)=>{if(!k(e))throw new Error("Value is not an object.");const r=S(t),s=v(e);let i=s,o=!1;for(let e=0;e<r.length;e++){const t=r[e],s=e===r.length-1;if(Array.isArray(i)&&w(t),s){const e=y.call(i,t),r=e?i[t]:void 0,s=i[t]="function"==typeof n?n(r):n;e&&Object.is(r,s)||(o=!0)}else if(y.call(i,t)){if(!k(i[t]))throw new Error("Value is not an object.");i=i[t]=v(i[t])}else i=i[t]={},o=!0}return o?s:e};var T={get:O,set:x,del:(e,t)=>{if(!k(e))throw new Error("Value is not an object.");const n=S(t);if(1===n.length){const t=n[0];return C(e,t)||e}const r=v(e);let s=r,i=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(s)&&w(t),!y.call(s,t))break;if(!k(s[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(s[t]=C(s[t],r))&&(i=!0)}else s=s[t]=v(s[t])}return i?r:e},modify:(e,t,n)=>x(e,t,n(O(e,t)))};const I="card",N="post",R="direct",P="iceboarding-grid",A="magic_card",M="gif",D="story",L="featuring_promo",B="carousel_card",j="personal_carousel",F="comment",U="profile-activity-onboarding",z="small",V="big",H="free",W={LEFT:"left",CENTER:"center",RIGHT:"right"},$=new Set(["similar","user-feedback-question"]),G={one_column:{columnCount:1,layoutableTypes:[I,M,R,"hint_eula",P,"similar",A,D,L],availableSizes:{[I]:[z],[R]:[z],hint_eula:[z],[P]:[z],similar:[z],[A]:[z],[M]:[z],[D]:[z],"user-feedback-question":[z],[L]:[z],[B]:[z],[F]:[z],[U]:[z]},initialDisplayedRowsNumber:6,rowDisplayStep:8},two_column:{columnCount:2,layoutableTypes:[],availableSizes:{}},two_column_small_cards:{columnCount:2,layoutableTypes:[],availableSizes:{[I]:[z],[R]:[z],hint_eula:[z],[P]:[z],similar:[z],[A]:[z],[M]:[z],[D]:[z],"user-feedback-question":[z],[F]:[z],[U]:[z]}},three_column:{columnCount:3},three_column_first_big:{columnCount:3},three_column_small_cards:{columnCount:3},common:{layoutableTypes:[I,N,R,A,M,D,L,"card-placeholder",F,U],availableSizes:{[I]:[z,V],[N]:[z],[R]:[z],hint_eula:[H],[P]:[H],similar:[H],[A]:[V],[M]:[z,V],[D]:[z],"card-placeholder":[z,V],placeholder:[H],"user-feedback-question":[H],similar_interests:[H],[L]:[z],[B]:[H],[j]:[H],[F]:[z],[U]:[z]},initialDisplayedRowsNumber:6,rowDisplayStep:9}},q=e=>Object.keys(e).reduce((t,n)=>{const{text:r,text_color:s,background_color:i}=e[n];return t[n]={text:r,textColor:s,backgroundColor:i},t},{});function K(e){if(e)return Object.keys(e).reduce((t,n)=>{const{bulk_params:r,stat_events:s,links:i}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,statEvents:s,links:i}})},{})}const Y=({id:e,type:t,status:n,title:r,logo:s,logo_sizes:i,framed_logo:o,logo_background_color:a,title_background_color:c,title_color:l,feed_link:d,feed_api_link:u,subtitle:p,description:h,subscribers:m,social_links:f,verified:g,nirvana:_,link:b})=>({id:e,type:t,status:n,title:r,logo:s,subtitle:p,description:h,subscribers:m,verified:g,nirvana:_,framedLogo:o,logoSizes:i,logoBackgroundColor:a,titleBackgroundColor:c,titleColor:l,feedLink:d,feedApiLink:u,socialLinks:f,link:b}),Q=e=>Object.assign({},Y(e.source),{statParams:K(e.stat_params)}),Z=e=>e.items.map(Q),J=({source:e,bulk_params:t,stat_events:n})=>Object.assign({},Y(e),{bulkParams:e.bulk_params||t,statEvents:e.stat_events||n});function X(e){return{id:e.id,type:j,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:e.items.map(ee),statEvents:e.stat_events,bulkParams:e.bulk_params}}const ee=e=>({id:e.id,type:e.type,source:Q(e),statEvents:e.stat_events,bulkParams:e.bulk_params});function te(e="item"){return`${e}_${Math.random()*Date.now()}`}const ne=e=>{const{country_id:t,language_ids:n,countries:r,languages:s}=e;return{countryId:t,languageIds:n.reduce((e,t)=>(e[t]=!0,e),{}),countries:r.map(({code:e,langs:t,name:n})=>({code:e,langs:t,name:n})),languages:s}},re=e=>{if(e)return"direct"===e.type?{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}:"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot}:void 0};function se(e){return{id:e.id,title:e.title||" ",text:e.text||" ",bulkParams:e.bulk_params,statEvents:e.stat_events,source:Y(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data}}function ie(e){return Object.assign({ad:re(e.ad),domain:e.domain,domainTitle:e.domain_title,link:e.link,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,read:e.read,feedback:de(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges},se(e))}function oe(e){return e.image&&e.big_card_image,Object.assign({type:I,isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:Se(e),rocket:!!e.zen_logo,pixels:e.pixels},ie(e))}const ae=({link:e,preview:t,width:n,height:r})=>{const s={link:e,preview:t};return(n||r)&&(s.hasSize=!0,s.width=n,s.height=r),s},ce=({json:e,length:t})=>({json:e,length:t}),le=({background:e,background_color:t,text_color:n,link_color:r})=>({background:ae(e),backgroundColor:t,textColor:n,linkColor:r});function de(e){const t=e.feedback_info;return t&&t.is_liked?"liked":t&&t.is_disliked?"disliked":null}const ue=e=>{const{has_sound:t,heartbeat_pos:n,id:r,loop:s,player:i,provider:o,userAgent:a,additional_params:c,autoplay:l}=e;return{hasSound:t,heartbeatTimes:n,id:r,loop:s,player:i,provider:o,userAgent:a,additionalParams:c,autoplay:l}};function pe(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),Object.assign({type:M,video:ue(e.video),stats:e.stats,statParams:K(e.stat_params)},ie(e))}function he(e){if("direct"!==T.get(e,"items.0.provider")||!T.get(e,"items.0.content"))return console.error(`Ad parsing error: ${JSON.stringify(e)}`),null;const t=e.items[0],{content:n}=t,r=t.stat_events,s=t.bulk_params;let i=!1;if(n.image&&n.image.length){const[,e,t]=n.image;e/t>4/3&&(i=!0)}return{id:te(R),type:R,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||" ",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:i,statEvents:r,bulkParams:s}}function me(e){const{source_id:t,image:n,background_color:r,text_color:s,name:i,name_background_color:o}=e;return{id:t,image:n,name:i,textColor:s,textBackgroundColor:o,imageBackgroundColor:r}}const fe=({link:e,title:t,image:n,name:r,stat_events:s,bulk_params:i})=>({link:e,title:t,image:n,name:r,statEvents:s,bulkParams:i}),ge=e=>({sources:Z(e),category:e.category&&fe(e.category)}),_e=e=>{const t=e.items.filter(({type:e})=>"carousel"===e).map(({sources:e})=>e);let n;return 0!==t.length&&(n=[].concat(...t).map(Q)),{sources:n,list:e.items.filter(({type:e})=>"list_item"===e).map(fe).reduce((e,t)=>(e[t.name]=t,e),{})}},be=({items:e=[]})=>e.reduce((e,t)=>(t.type===M&&e.push(pe(t)),e),[]),Ee=({external_url:e})=>({externalUrl:e}),ye={"no-user":Ee,"user-info":({email:e,name:t,avatar:n})=>({email:e,name:t,avatar:n}),"blocked-count":({count:e,external_url:t})=>({count:e,externalUrl:t}),language:({country:e,external_url:t})=>({country:e,externalUrl:t}),feedback:Ee,eula:Ee,logout:Ee,video:({stat_events:e,bulk_params:t,disabled:n})=>({statEvents:e,bulkParams:t,disabled:n}),autoplay:()=>({})},ve={"no-user":"noUser","user-info":"userInfo","blocked-count":"blockedCount"},ke=e=>{const t=e.items.reduce((e,t)=>{if(ye.hasOwnProperty(t.type)){e[ve[t.type]||t.type]=ye[t.type](t)}return e},{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t};function Ce(e){const t=[],n=[],r=[],s=[];e.forEach(e=>{switch(e.type){case"channel":case"interest":r.push(Q({source:e,stat_params:e.stat_params}));break;case"small_card":t.push(function(e){const t={title:e.title||" ",text:e.text||" ",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:re(e.ad),rocket:!!e.zen_logo,cardColors:null,mainColor:null,feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}(e));break;case"ad":n.push(he(e));break;case"rtb":s.push(Object.assign({},e,{ad:re(e.ad)}))}});const i=r.map(({id:e})=>e);return{docs:t,direct:n,sources:r,sourcesIds:i,rtb:s}}const we=e=>({id:te("similar"),type:"similar",items:Ce(e.items)});function Se(e){if(!e.custom_user_feedback_data)return null;try{return{questions:e.custom_user_feedback_data.questions.map(({id:e,type:t,display_type:n,text:r,answers:s})=>({id:e,type:t,display_type:n,text:r,answers:s.map(({id:e,type:t,text:n,stats:r})=>({id:e,type:t,text:n,isChecked:!1,stats:{statEvents:r.stat_events,bulkParams:r.bulk_params}}))}))}}catch(e){return console.warn("Error parsing custom_user_feedback_data",e),null}}function Oe(e){return{id:e.id,type:e.type,source:J(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:q(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}}const xe=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n]}}),t};var Te=e=>{switch(e.type){case I:return oe(e);case N:return function(e){const t={type:N,id:e.id,style:le(e.style),link:e.link,similarLink:e.similar_link,source:Y(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:re(e.ad),commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges,requireUserData:e.require_user_data};return e.rich_text&&(t.richText=ce(e.rich_text)),e.image&&(t.image=ae(e.image)),t.read=e.was_read,t.feedback=e.feedback_status,t.domainTitle=e.source.title,t}(e);case M:return pe(e);case"ad":return he(e);case P:return function(e){const t={id:te(P),type:e.type,sources:e.sources.map(me),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}(e);case"hint_eula":return function(e){return{id:e.id,type:e.type,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}}(e);case D:return function(e){const t=oe(e);return t.type=D,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}(e);case"card-placeholder":case"placeholder":return function(e){return{id:e.item_id.toString(),type:e.type,statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case"similar_interests":return function(e){const{id:t,type:n,title:r,items:s}=e;return{id:t,type:n,title:r,items:s.map(e=>Q({source:e,stat_params:e.stat_params}))}}(e);case L:return function(e){return{id:e.id,type:L,source:J(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:q(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case B:return function(e){return{id:e.id,type:B,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map(Oe),statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case j:return X(e);case F:return function(e){return Object.assign({type:F,comment:e.comments&&e.comments[0]},se(e))}(e);case U:return function(e){return{type:U,mode:e.mode,id:e.id}}(e);default:return console.warn(`Unsupported doc type: ${e.type}`),null}};function Ie(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}var Ne=e=>{let t=null;if(e.items){const n=e.items.reduce((t,n)=>{if(n){const r=Te(n);r&&t.push(Object.assign({},r,{packId:e.rid}))}return t},[]);t=n.length>0?n:null}let n=null;e.interests_onboarding&&(n={sources:Z(e.interests_onboarding),statParams:K(e.interests_onboarding.stat_params)});let r=null;return e.pinned_carousel&&(r=X(e.pinned_carousel)),Object.assign({},e,{id:e.rid,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,items:t,onboardingInterests:n,pinnedCarousel:r,isIceStart:e.ice_start,experimentsData:e.experiments_data||null,clientDefinition:e.client_definition||null,user:Ie(e.user),commentsDoc:e.comments_doc?Te(e.comments_doc):null})};n(39);const Re=()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]},Pe=()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]},Ae={PACK_SHOWN:"packShown",BULK_EVENT_LOGGED:"bulkEventLogger",API_RESPONSE_TTL_EXPIRED:"apiResponseTtlExpired",API_RESPONSE_ERROR_TTL_EXPIRED:"apiResponseErrorTtlExpired",NOT_SHOWN_PACK_UPDATED:"notShownPackUpdated",LAST_SHOWN_PACK_UPDATED:"lastShownPackUpdated"},Me={ONBOARDING:"onboarding",EXPORT:"export",MORE:"more",BULK:"bulk",CLIENT_LOGS:"client_logs",SUBS:"subs",PROFILE:"profile",COUNTRY_LANG:"language",BLOCKED:"blocked",PREFERENCES:"preferences",SUBSCRIBERS:"subscribers",CATEGORY:"category",CATEGORIES:"categories",SUGGEST:"suggest",BLOCKED_SUGGEST:"blocked_suggest",VIDEO_RECOMMEND:"video_recommend",PUBLISHER_CONFIG:"publisher_config",COMMENTS_COUNTER:"comments_counter",SEND_APP_LINK_SMS:"send_app_link_sms",SOCIAL_PROFILE:"social_profile",SOCIAL_ACTIVITY_FEED:"social_activity_feed",SOCIAL_PROFILE_EDIT:"social_profile_edit",SOCIAL_INTERESTS_FEEDBACK:"social_interests_feedback",PROFILE_ONBOARDING_SHOWN:"profile_onboarding_shown",PROFILE_COMPLETE_ONBOARDING:"profile_complete_onboarding"},De={SESSION_CACHE:"cacheStorage",MULTI_SESSION_CACHE:"multiCacheStorage"},Le={NETWORK:"network",CACHE_BEFORE_NETWORK:"cache-before-network",CACHE_AFTER_NETWORK:"cache-after-network"},Be=5e3,je="not-shown-pack",Fe="last-shown-pack",Ue=e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")},ze=(e,t)=>{const{receivedAt:n,ttl:r,storeTtl:s}=e,i=t?s:r;if(!("number"==typeof n&&"number"==typeof i&&n+i>Date.now()))throw new Error(`Invalid cache ${t?"store-ttl":"ttl"}.`)},Ve=e=>{if(!e.items)throw new Error("Invalid api response to put in cache.")},He=(e,t,n,r)=>{const s=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled)&&("number"!=typeof e.clid||e.clid===t.clid)&&("number"!=typeof e.referrerClid||e.referrerClid===t.referrerClid)&&("string"!=typeof e.referrerPlace||e.referrerPlace===t.referrerPlace)&&("string"!=typeof e.countryCode||e.countryCode===t.countryCode)&&l()(e.feedFilter,t.feedFilter)&&l()(e.zenFeatures&&d(e.zenFeatures,r),t.zenFeatures&&d(t.zenFeatures,r));let i=!0;if(e&&Array.isArray(e.clientExperiments)){const r=((e,t)=>{let n=[];return e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments),t.experimentsData&&Object.keys(t.experimentsData).forEach(e=>{const r=t.experimentsData[e];r&&r.exp&&n.push(e)}),n})(t,n);i=e.clientExperiments.every(e=>r.includes(e))}if(!s||!i)throw new Error("ZenApi cache is not valid.")};var We=class{constructor(e,t){this._zenApi=e,this._eventEmitter=t}_getStorage(){const e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case De.MULTI_SESSION_CACHE:if(E.isEnabled())return E;if(p.isEnabled())return p;break;case De.SESSION_CACHE:if(p.isEnabled())return p}throw new Error("ZenApi cache is not enabled.")}_getRecordKey(e){const t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace;if(!n)throw new Error("ZenApi cache.namespace is not configured.");return`${n}-${e}`}async _get(e,t){const n=this._getStorage(),r=this._getRecordKey(e),s=await n.get(r);return this.validateRecord(s,t),s}async _put(e,t,n,r){const s=this._getStorage(),i=this._getRecordKey(e),o=this.createRecord(t,n,r);await s.put(i,o)}async _remove(e){const t=this._getStorage(),n=this._getRecordKey(e);await t.remove(n)}getValidationParams(){const e=this._zenApi.getConfig(),{clid:t,referrerClid:n,referrerPlace:r,feedFilter:s,countryCode:i,clientExperiments:o,userInfo:a,zenFeatures:c,isAdblockEnabled:l}=e,{oauthToken:d,login:u,deviceId:p,profileId:h,yandexuid:m}=a;return{clid:t,referrerClid:n,referrerPlace:r,feedFilter:s,countryCode:i,clientExperiments:o,userId:d||u||Pe()||p||h||m||Re(),zenFeatures:c,isAdblockEnabled:l}}createRecord(e,t,n){const r=this._zenApi.getConfig(),{apiResponseValidator:s}=r,i=Ne(t);return Ve(i),s(i),{type:e,apiResponse:t,params:n}}validateRecord(e,{byStoreTtl:t=!1,ignoredZenFeatures:n=[]}={}){Ue(e);const r=this._zenApi.getConfig(),{apiResponseValidator:s}=r,i=Ne(e.apiResponse),o=this.getValidationParams(r);ze(i,t),He(o,e.params,i,n),Ve(i),s(i)}async getNotShownPack(e){return this._get(je,e)}async getLastShownPack(e){return this._get(Fe,e)}async putNotShownPack(e,t,n=this.getValidationParams()){await this._put(je,e,t,n),this._eventEmitter.emit(Ae.NOT_SHOWN_PACK_UPDATED,e,t,n)}async putLastShownPack(e,t,n=this.getValidationParams()){await this._put(Fe,e,t,n),this._eventEmitter.emit(Ae.LAST_SHOWN_PACK_UPDATED,e,t,n)}async removeNotShownPack(){return this._remove(je)}async removeLastShownPack(){return this._remove(Fe)}},$e=e=>new Promise(t=>setTimeout(()=>t(),e));const Ge={credentials:"include",timeout:6e4},qe={Accept:"application/json;"},Ke=e=>{const{ok:t,url:n,status:r,statusText:s}=e;if(!t)throw new Error(`${n} ${r} (${s})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json;")?e.json():e.text()})(e)},Ye=(e,t)=>{const n=Object.assign({},Ge,t),r=n.params?a(e,n.params):e;return new Promise((e,t)=>{fetch(r,n).then(Ke).then(e,t),$e(n.timeout).then(()=>{t(new Error("Request timeout."))})})},Qe=(e,t={})=>{const n=Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:Date.now()})});return Ye(e,n)},Ze=(e={})=>{const t=Object.assign({},qe,e.headers);let{body:n,method:r="POST"}=e;return t["Content-Type"]||(t["Content-Type"]="application/json;",n&&"string"!=typeof n&&(n=JSON.stringify(n))),Object.assign({},e,{method:r,headers:t,body:n})},Je=(e,t={})=>Ye(e,Ze(t)),Xe=(e,t={})=>Ye(e,Ze(t));var et=class{constructor(e){this._zenApiInstance=e}_getExtraHeaders(){const e={},{userInfo:t,zenFeatures:n,clientExperiments:r}=this._zenApiInstance.getConfig();return t.oauthToken&&(e.Authorization=`OAuth ${t.oauthToken}`),Object.keys(n).length>0&&(e["Zen-Features"]=JSON.stringify(n)),e["Zen-Client-Experiments"]=["zen-version:2.179.1",...Array.isArray(r)&&r.length>0?r:[]].join(", "),e}async makeApiRequest(e,t={}){const n=t.noExtraHeaders?{}:this._getExtraHeaders(),{method:r}=t,s={params:t.params,headers:Object.assign({},n,t.headers),mode:t.mode,method:r};let i;if(t.body){const n=Object.assign({},s,{body:t.body});i="PUT"===r?await Xe(e,n):await Je(e,n)}else i=await Qe(e,s);return i}};const tt={UPDATE_PRELOAD:"updatePreload"};var nt=class{constructor(){this._eventEmitter=new r,this._config={limits:{docImages:10}}}onNetworkResponse(e){const t=this._getUrlsToPreload(e);this._eventEmitter.emit(tt.UPDATE_PRELOAD,t)}addListener(e,t){this._eventEmitter.addListener(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_getUrlsToPreload(e){let t=[];return e&&e.items&&(t=t.concat(e.items.map(e=>e.cardBackgroundWhiteImage).filter(Boolean).slice(0,this._config.limits.docImages))),t}};const rt=(e,t)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{n=null,e(...r)},t)}},st={GET_BEFORE_NETWORK:"GET_BEFORE_NETWORK",PUT_AFTER_NETWORK:"PUT_AFTER_NETWORK",GET_AFTER_NETWORK:"GET_AFTER_NETWORK"},it={default:[st.GET_BEFORE_NETWORK,st.PUT_AFTER_NETWORK,st.GET_AFTER_NETWORK],reload:[st.PUT_AFTER_NETWORK,st.GET_AFTER_NETWORK],"no-cache":[st.PUT_AFTER_NETWORK],"no-store":[]},ot={host:null,clid:null,referrerClid:null,referrerPlace:null,countryCode:null,zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:{[Me.ONBOARDING]:null,[Me.MORE]:null,[Me.BULK]:null,[Me.SUBS]:null,[Me.PROFILE]:null,[Me.BLOCKED]:null,[Me.PREFERENCES]:null,[Me.SUBSCRIBERS]:null,[Me.CATEGORIES]:null,[Me.CATEGORY]:null,[Me.SUGGEST]:null,[Me.BLOCKED_SUGGEST]:null,[Me.VIDEO_RECOMMEND]:null,[Me.COUNTRY_LANG]:null,[Me.COMMENTS_COUNTER]:null,[Me.PROFILE__NEW]:null,[Me.SOCIAL_ACTIVITY_FEED]:null,[Me.SOCIAL_INTERESTS_FEEDBACK]:null,[Me.COMPLETE_PROFILE_ONBOARDING]:null},userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null,partnerId:null},cache:{type:De.SESSION_CACHE,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null};var at=class{constructor(e){this._config=ot,this._eventEmitter=new r,this._cache=new We(this,this._eventEmitter),this._network=new et(this),this._preload=new nt,this._queue=Promise.resolve(),this._lastUsedPackId=null,this._lastUsedPackShown=!1,this._debouncedUpdateNotShownPack=rt(e=>this._updateNotShownPack(e),Be),e&&this.configure(e)}_isCacheEnabledForStep(e,t){if(!this._config.cache)return!1;const n=it[t];if(!n)throw new Error(`Cache mode '${t}' is not exist.`);return n.includes(e)}_getApiRequestUrl(e){const t={[Me.EXPORT]:"export",[Me.PUBLISHER_CONFIG]:"publisher-config"}[e];if(t){const{host:e,clid:n,referrerClid:r,referrerPlace:s,countryCode:i,userInfo:o}=this._config;if(!e)throw new Error("ZenApi host is not configured.");const c={clid:n||void 0,country_code:i||void 0,referrer_clid:r,referrer_place:s};return o&&o.partnerId&&(c.partner_user_id=String(o.partnerId)),a(`${e}api/v3/launcher/${t}`,c)}const n=this._config.links[e];if(!n)throw new Error(`ZenApi ${e} url is not configured.`);return n}_getApiRequestUrlWithUid(e,t){return this._getApiRequestUrl(e).replace("__uid__",t)}async _getApiResponseFromNetworkAndMaybePutItToCache(e,t={}){const n=this._getApiRequestUrl(e),r=t.cache||"default",s=this._cache.getValidationParams(),i=await this._network.makeApiRequest(n,t),o=Object.assign({},i,{received_at:Date.now()}),a=Ne(o);return this._config.apiResponseValidator(a),this._isCacheEnabledForStep(st.PUT_AFTER_NETWORK,r)&&(this._cache.putNotShownPack(e,o,s).catch(()=>{}),this._preload.onNetworkResponse(a)),{apiResponse:a,source:Le.NETWORK}}async _getApiResponseFromCacheBeforeNetwork(e){const t=await this._cache.getNotShownPack(),n=Ne(t.apiResponse);if(e===Me.MORE&&t.type===Me.EXPORT)throw new Error("Can not apply cache from export to more request.");if(this._lastUsedPackId===n.id)throw new Error(`Pack '${n.id}' has already been used.`);return{apiResponse:n,source:Le.CACHE_BEFORE_NETWORK}}async _getApiResponseFromCacheAfterNetwork(){let e;try{e=await this._cache.getNotShownPack({byStoreTtl:!0})}catch(t){e=await this._cache.getLastShownPack({byStoreTtl:!0})}return{apiResponse:Ne(e.apiResponse),source:Le.CACHE_AFTER_NETWORK}}async _getApiResponse(e,t={}){const n=t.cache||"default";let r;if(this._isCacheEnabledForStep(st.GET_BEFORE_NETWORK,n))try{r=await this._getApiResponseFromCacheBeforeNetwork(e)}catch(e){}if(!r)try{r=await this._getApiResponseFromNetworkAndMaybePutItToCache(e,t)}catch(t){const s=e===Me.EXPORT;if(this._isCacheEnabledForStep(st.GET_AFTER_NETWORK,n)&&s)try{r=await this._getApiResponseFromCacheAfterNetwork()}catch(e){}if(!r)throw t}return this._updateNotShownPack(),r}async _hasValidNotShownPackInCache(e){try{return await this._getApiResponseFromCacheBeforeNetwork(e),!0}catch(e){return!1}}_updateNotShownPack({invalidate:e=!1,requestType:t}={}){this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(async()=>{const n=t||Me.MORE;if(e||!await this._hasValidNotShownPackInCache(n))try{await this._getApiResponseFromNetworkAndMaybePutItToCache(n)}catch(e){}})}_addToQueue(e){const t=this._queue=this._queue.then(()=>e(),()=>e());return t.catch(()=>{}),t}configure(e){this._config="function"==typeof e?e(this._config):e}getConfig(){return this._config}getExport(e){return this._addToQueue(()=>this._getApiResponse(Me.EXPORT,e))}getMore(){return this._addToQueue(()=>this._getApiResponse(Me.MORE))}getSimilar(e){return this._network.makeApiRequest(e).then(we)}sendBannerStats(e){return this._network.makeApiRequest(e)}sendAppLinkSms(e){const t=this._getApiRequestUrl(Me.SEND_APP_LINK_SMS);return this._network.makeApiRequest(t,{params:{phone:e}})}async getPublisherConfig(){const e=this._getApiRequestUrl(Me.PUBLISHER_CONFIG),t=await this._network.makeApiRequest(e);return Ne(t)}async getProfile(){const e=this._getApiRequestUrl(Me.PROFILE),t=await this._network.makeApiRequest(e);return ke(t)}async getSuggest(e){const t=this._getApiRequestUrl(Me.SUGGEST),n=await this._network.makeApiRequest(t,{params:{search_text:e}});return Z(n)}async getBlockedSuggest(e){const t=this._getApiRequestUrl(Me.BLOCKED_SUGGEST),n=await this._network.makeApiRequest(t,{params:{search_text:e}});return Z(n)}async getCategories(){const e=this._getApiRequestUrl(Me.CATEGORIES),t=await this._network.makeApiRequest(e);return _e(t)}async getCategory(e){const t=this._getApiRequestUrl(Me.CATEGORY).replace("__name__",e),n=await this._network.makeApiRequest(t);return ge(n)}async getPreferences(e){const t=this._getApiRequestUrlWithUid(Me.PREFERENCES,e),n=await this._network.makeApiRequest(t);return Z(n)}async getVideoRecommend(){const e=this._getApiRequestUrl(Me.VIDEO_RECOMMEND),t=await this._network.makeApiRequest(e);return be(t)}async getCountryLang(){const e=this._getApiRequestUrl(Me.COUNTRY_LANG),t=await this._network.makeApiRequest(e);return ne(t)}async getCommentsCounters(e){const t=this._getApiRequestUrl(Me.COMMENTS_COUNTER);let n=await this._network.makeApiRequest(t,{body:{documentIds:e},mode:"cors",noExtraHeaders:!0,method:"POST"});return xe(n.counts)}async setCountryLang(e,t){const n=this._getApiRequestUrl(Me.COUNTRY_LANG);await this._network.makeApiRequest(n,{body:{country_id:e,language_ids:t}}),this.invalidateCache()}async getSocialProfile(e){const t=this._getApiRequestUrlWithUid(Me.SOCIAL_PROFILE,e),n=await this._network.makeApiRequest(t);return{uid:n.uid,avatarUrl:n.avatarUrl,name:n.name,about:n.about,followerCount:n.followerCount,subscriptionCount:n.subscriptionCount,backgroundColor:n.backgroundColor,textColor:n.textColor,interests:n.interests.map(e=>Q({source:e})),privacy:{hideInterests:n.privacy.hideInterests,hideActivity:n.privacy.hideActivity,hideSubscriptions:n.privacy.hideSubscriptions},isSleeping:n.isSleeping,onboardingRequired:n.onboardingRequired,csrfToken:n.csrfToken,passportRetPathPlaceholder:n.passportRetPathPlaceholder,passportAvatarEditLink:n.passportAvatarEditLink,passportDisplayNameEditLink:n.passportDisplayNameEditLink,supportRemoveProfileLink:n.supportRemoveProfileLink,source:Q(n.source)}}async getUserSubscribers(e){const t=this._getApiRequestUrlWithUid(Me.SUBSCRIBERS,e),n=await this._network.makeApiRequest(t);return Z(n)}async updateSocialProfile(e){const t=this._getApiRequestUrl(Me.SOCIAL_PROFILE_EDIT);return await this._network.makeApiRequest(t,{headers:{"x-csrf-token":e.token},method:"PUT",body:e})}prefetch(){this._updateNotShownPack()}invalidateCache(){this._cache.removeNotShownPack(),this._debouncedUpdateNotShownPack()}packUsed(e){this._lastUsedPackId=e,this._lastUsedPackShown=!1}packShown(e){this._config.cache&&this._addToQueue(async()=>{let t;try{t=await this._cache.getNotShownPack()}catch(e){}if(t&&Ne(t.apiResponse).id===e)try{await Promise.all([this._cache.removeNotShownPack(),this._cache.putLastShownPack(t.type,t.apiResponse,t.params)])}catch(e){}e!==this._lastUsedPackId||this._lastUsedPackShown||(this._lastUsedPackShown=!0,this._updateNotShownPack()),this._eventEmitter.emit(Ae.PACK_SHOWN,e)})}async getNotShownPackFromCache(e){const t=await this._cache.getNotShownPack(e);return Ne(t.apiResponse)}async getLastShownPackFromCache(e){const t=await this._cache.getLastShownPack(e);return Ne(t.apiResponse)}setIntervalPackUpdater(e){setInterval(async()=>{this._updateNotShownPack({requestType:Me.EXPORT})},e),this._updateNotShownPack({requestType:Me.EXPORT})}on(...e){this._eventEmitter.on(...e)}off(...e){this._eventEmitter.off(...e)}addListener(...e){this._eventEmitter.addListener(...e)}removeListener(...e){this._eventEmitter.removeListener(...e)}getActivityFeed(e){return this._addToQueue(()=>this._getApiResponse(Me.SOCIAL_ACTIVITY_FEED,e))}async sendInterestsFeedback(e){const t=this._getApiRequestUrl(Me.SOCIAL_INTERESTS_FEEDBACK);return await this._network.makeApiRequest(t,{method:"PUT",body:e})}async profileOnboardingShown(e){const t=this._getApiRequestUrl(Me.PROFILE_ONBOARDING_SHOWN),n=await this._network.makeApiRequest(t,{headers:{"x-csrf-token":e.token},body:{context:e.context},method:"POST"});if(!n||"ok"!==n.status)throw new Error("onboarding shown failed",n);return n}async completeProfileOnboarding(e){const t=this._getApiRequestUrl(Me.PROFILE_COMPLETE_ONBOARDING),n=await this._network.makeApiRequest(t,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});if(!n||"ok"!==n.status)throw new Error("complete onboarding failed",n);return n}};const ct=1e3,lt=e=>`${e}_${Date.now()}`,dt=e=>({stats:e.map(({event:e,params:t,ts:n,info:r})=>{const s={event:e,data:t,ts:n};return r&&(s.info=r),s}),bulk_ts:Date.now()}),ut=()=>{let e,t,n=0,r=0,s=!1;const i=new Promise(t=>{e=t}),o=new Promise(e=>{t=e}),a=()=>{s=!0,t()},c=()=>{++r===n&&a()};return{trigger:()=>(e(),r===n&&a(),o),extend:e=>{s||(n++,i.then(e).then(c,c))}}},pt=(e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}})();const ht=e=>{if(!(Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link)){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.errorType&&(n.type=e.errorType),e.ttl&&(n.ttl=e.ttl),n}};var mt=new class extends at{constructor(...e){var t;return t=super(...e),this._bulkEvents=[],this._sendingTimeoutId=null,this._bulkEventBatch=null,t}async _getApiResponseFromNetworkAndMaybePutItToCache(e,t={}){if(pt&&this._sendBulkEventsWithinQueue(),pt||0===this._bulkEvents.length||t.body)return at.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,t);const n=this._bulkEvents,r=dt(n),s=Object.assign({},t,{body:r});this._bulkEvents=[];try{return at.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(this,e,s)}catch(e){throw this._bulkEvents=this._bulkEvents.concat(n),e}}_addToQueue(e,t=!0){return t&&(this._bulkEventBatch=null),super._addToQueue(e)}async _sendBulkEvents(){if(0===this._bulkEvents.length)return;const e=this._getApiRequestUrl(Me.BULK),t=this._bulkEvents,n=dt(t);this._bulkEvents=[];try{await this._network.makeApiRequest(e,{body:n})}catch(e){throw this._bulkEvents=this._bulkEvents.concat(t),e}}_planBulkEventsSending(){null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(()=>{this._sendingTimeoutId=null,this._sendBulkEventsWithinQueue()},ct))}_sendBulkEventsWithinQueue(){if(!this._bulkEventBatch){const e=this._bulkEventBatch=ut();this._addToQueue(()=>e.trigger().then(()=>{this._bulkEventBatch===e&&(this._bulkEventBatch=null)}),!1)}this._bulkEventBatch&&this._bulkEventBatch.extend(()=>this._sendBulkEvents().catch(e=>{console.warn("Error while sending bulk events",e)}))}logBulkEvent(e){const{event:t,bulkParams:n,statMeta:r,info:s}=e,i={id:lt(t),event:t,params:n,ts:Date.now(),info:s};this._bulkEvents.push(i),this._planBulkEventsSending(),this._eventEmitter.emit(Ae.BULK_EVENT_LOGGED,Object.assign({},i,{statMeta:r}))}}(e=>Object.assign({},e,{apiResponseValidator:ht}));const ft=new r,gt={STAT:"stat",PLACEHOLDER_UNMOUNT:"placeholderUnmount",PLACEHOLDER:"placeholder",PLACEHOLDER_SHOW:"placeholderShow",PRECACHE_MISS:"precacheMiss",TIMINGS:"timings",FIRST_PAINT:"firstPaint",PROMO_CARD:"promoCard",ROWS_CHANGED:"rowsChanged",CACHE_PUT:"cachePut",SOURCE_CHANGE:"sourceChange",POPUP_OPEN:"popupOpen",POPUP_CLOSE:"popupClose",TOOTH_VISIBLE:"toothVisible",RESIZE:"resize",PUBLIC_STATE_CHANGE:"stateChange"},_t=new r,bt={NOTIFIERS_ENABLED:"zen-feed-show",NOTIFIERS_DISABLED:"zen-feed-hide"},Et=new r,yt={FEED_CHANGED:"feedChanged"},vt="site_desktop",kt="zen_lib",Ct="desktop_browser_rezen",wt="desktop_browser_with_morda";var St=n(0),Ot=n.n(St),xt=n(31);function Tt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var It=n(8),Nt=n.n(It),Rt=Nt.a.shape({trySubscribe:Nt.a.func.isRequired,tryUnsubscribe:Nt.a.func.isRequired,notifyNestedSubs:Nt.a.func.isRequired,isSubscribed:Nt.a.func.isRequired}),Pt=Nt.a.shape({subscribe:Nt.a.func.isRequired,dispatch:Nt.a.func.isRequired,getState:Nt.a.func.isRequired});var At=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){Tt(s,t);var r=s.prototype;function s(n,r){var s;return(s=t.call(this,n,r)||this)[e]=n.store,s}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return St.Children.only(this.props.children)},s}(St.Component);return r.propTypes={store:Pt.isRequired,children:Nt.a.element.isRequired},r.childContextTypes=((t={})[e]=Pt.isRequired,t[n]=Rt,t),r}();function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}var Bt=n(68),jt=n.n(Bt),Ft=n(23),Ut=n.n(Ft),zt=n(33),Vt=null,Ht={notify:function(){}};var Wt=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=Ht}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=Vt,e=Vt},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==Vt&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Ht)},e}(),$t=0,Gt={};function qt(){}function Kt(e,t){var n,r;void 0===t&&(t={});var s=t,i=s.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=s.methodName,c=void 0===a?"connectAdvanced":a,l=s.renderCountProp,d=void 0===l?void 0:l,u=s.shouldHandleStateChanges,p=void 0===u||u,h=s.storeKey,m=void 0===h?"store":h,f=s.withRef,g=void 0!==f&&f,_=Lt(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=m+"Subscription",E=$t++,y=((n={})[m]=Pt,n[b]=Rt,n),v=((r={})[b]=Rt,r);return function(t){Ut()(Object(zt.isValidElementType)(t),"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=o(n),s=Dt({},_,{getDisplayName:o,methodName:c,renderCountProp:d,shouldHandleStateChanges:p,storeKey:m,withRef:g,displayName:r,wrappedComponentName:n,WrappedComponent:t}),i=function(n){function i(e,t){var s;return(s=n.call(this,e,t)||this).version=E,s.state={},s.renderCount=0,s.store=e[m]||t[m],s.propsMode=Boolean(e[m]),s.setWrappedInstance=s.setWrappedInstance.bind(Mt(Mt(s))),Ut()(s.store,'Could not find "'+m+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+m+'" as a prop to "'+r+'".'),s.initSelector(),s.initSubscription(),s}Tt(i,n);var o=i.prototype;return o.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[b]=t||this.context[b],e},o.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.componentWillReceiveProps=function(e){this.selector.run(e)},o.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=qt,this.store=null,this.selector.run=qt,this.selector.shouldComponentUpdate=!1},o.getWrappedInstance=function(){return Ut()(g,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},o.setWrappedInstance=function(e){this.wrappedInstance=e},o.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=function(e,t){var n={run:function(r){try{var s=e(t.getState(),r);(s!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=s,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},o.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[b];this.subscription=new Wt(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(Gt)):this.notifyNestedSubs()},o.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.addExtraProps=function(e){if(!(g||d||this.propsMode&&this.subscription))return e;var t=Dt({},e);return g&&(t.ref=this.setWrappedInstance),d&&(t[d]=this.renderCount++),this.propsMode&&this.subscription&&(t[b]=this.subscription),t},o.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(St.createElement)(t,this.addExtraProps(e.props))},i}(St.Component);return i.WrappedComponent=t,i.displayName=r,i.childContextTypes=v,i.contextTypes=y,i.propTypes=y,jt()(i,t)}}var Yt=Object.prototype.hasOwnProperty;function Qt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Zt(e,t){if(Qt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(!Yt.call(t,n[s])||!Qt(e[n[s]],t[n[s]]))return!1;return!0}var Jt=n(55);function Xt(e){return function(t,n){var r=e(t,n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function en(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function tn(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=en(e);var s=r(t,n);return"function"==typeof s&&(r.mapToProps=s,r.dependsOnOwnProps=en(s),s=r(t,n)),s},r}}var nn=[function(e){return"function"==typeof e?tn(e):void 0},function(e){return e?void 0:Xt(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?Xt(function(t){return Object(Jt.a)(e,t)}):void 0}];var rn=[function(e){return"function"==typeof e?tn(e):void 0},function(e){return e?void 0:Xt(function(){return{}})}];function sn(e,t,n){return Dt({},n,e,t)}var on=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,s=n.pure,i=n.areMergedPropsEqual,o=!1;return function(t,n,a){var c=e(t,n,a);return o?s&&i(c,r)||(r=c):(o=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return sn}}];function an(e,t,n,r){return function(s,i){return n(e(s,i),t(r,i),i)}}function cn(e,t,n,r,s){var i,o,a,c,l,d=s.areStatesEqual,u=s.areOwnPropsEqual,p=s.areStatePropsEqual,h=!1;function m(s,h){var m=!u(h,o),f=!d(s,i);return i=s,o=h,m&&f?(a=e(i,o),t.dependsOnOwnProps&&(c=t(r,o)),l=n(a,c,o)):m?(e.dependsOnOwnProps&&(a=e(i,o)),t.dependsOnOwnProps&&(c=t(r,o)),l=n(a,c,o)):f?function(){var t=e(i,o),r=!p(t,a);return a=t,r&&(l=n(a,c,o)),l}():l}return function(s,d){return h?m(s,d):function(s,d){return a=e(i=s,o=d),c=t(r,o),l=n(a,c,o),h=!0,l}(s,d)}}function ln(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,i=Lt(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),a=r(e,i),c=s(e,i);return(i.pure?cn:an)(o,a,c,e,i)}function dn(e,t,n){for(var r=t.length-1;r>=0;r--){var s=t[r](e);if(s)return s}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function un(e,t){return e===t}var pn=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Kt:n,s=t.mapStateToPropsFactories,i=void 0===s?rn:s,o=t.mapDispatchToPropsFactories,a=void 0===o?nn:o,c=t.mergePropsFactories,l=void 0===c?on:c,d=t.selectorFactory,u=void 0===d?ln:d;return function(e,t,n,s){void 0===s&&(s={});var o=s,c=o.pure,d=void 0===c||c,p=o.areStatesEqual,h=void 0===p?un:p,m=o.areOwnPropsEqual,f=void 0===m?Zt:m,g=o.areStatePropsEqual,_=void 0===g?Zt:g,b=o.areMergedPropsEqual,E=void 0===b?Zt:b,y=Lt(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=dn(e,i,"mapStateToProps"),k=dn(t,a,"mapDispatchToProps"),C=dn(n,l,"mergeProps");return r(u,Dt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:k,initMergeProps:C,pure:d,areStatesEqual:h,areOwnPropsEqual:f,areStatePropsEqual:_,areMergedPropsEqual:E},y))}}();const hn="USER_SUBSCRIPTIONS_REQUEST",mn="USER_BLOCKED_REQUEST",fn={timeouts:[5e3,1e4,15e3]};var gn=(e,t)=>{let n,r;const s=e=>{n=Object.assign({},fn,e)},i=({args:t,timeouts:s=n.timeouts,withoutAction:i=!1,withoutRetries:o=!1,onTryComplete:a=(e=>{if(e.isRejected)throw e.error;return e.value})}={})=>{const c=(e=>"function"!=typeof e?()=>e:e)(t),l=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(s);let d,u,p=0,h=!1,m=!1;const f=()=>d===r,g=()=>!h&&!m,_=()=>!o&&g()&&f(),b=()=>{g()&&(u&&u(),m=!0)},E=()=>{const t=c(p);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>a({value:e,tryNumber:p,isFulfilled:!0,isRejected:!1,isLastSession:f,abortRetries:b}),e=>a({error:e,tryNumber:p,isFulfilled:!1,isRejected:!0,isLastSession:f,abortRetries:b}))},y=e=>{if(_()){const t=l(p);if("number"==typeof t)return p++,(e=>new Promise((t,n)=>{u=(()=>{u=null,n(new Error("Retries aborted."))}),setTimeout(()=>{u=null,t()},e)}))(t).then(()=>{if(_())return E().catch(y);throw e});null!=t&&console.warn("Expected action timeout to be a number or null/undefined.")}throw e},v=i?Promise.reject(new Error("Generated error by 'withoutAction' call.")):E(),k=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(v.catch(y),()=>{h=!0});return r&&r.abortRetries(),r=d={actionResult:v,retriesResult:k,isLastSession:f,isInProgress:g,abortRetries:b}};s(t);const o=(...e)=>i({args:e});return o.startSession=i,o.setOptions=s,o},_n=n(1);const bn=e=>Object(_n.createSelector)(e,e=>e.sources,(e,t)=>{if(e)return((e,t)=>e.map(e=>t[e]).filter(Boolean))(e,t)}),En=(bn(e=>e.categories.data&&e.categories.data.sources),bn((e,t)=>t),bn(e=>e.search.search.data),bn(e=>e.onboarding.data),bn((e,t)=>e.category[t]&&e.category[t].data&&e.category[t].data.sources),Object(_n.createSelector)(e=>e.channel,e=>e.sources,(e,t)=>{const n=e&&e.id;return n?t[n]:null}));var yn=class{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){return this.exists(e)&&Boolean(this._data[e].exp)}isRef(e){return this.exists(e)&&Boolean(this._data[e].ref)}getAllExps(){return Object.keys(this._data).filter(e=>T.get(this._data,[e,"exp"]))}findExps(e){return Object.keys(this._data).filter(t=>T.get(this._data,[t,"exp"])&&t.match(e))}_execFindExp(e){return this.findExps(e).map(t=>e.exec(t))}getFirstGroupByRegexp(e){return this._execFindExp(e).map(([e,t])=>t)}};class vn{constructor(e){this._config=e}static _merge(e,t){if(void 0===t)return e;if("object"!=typeof e)return typeof t==typeof e?t:e;for(const n of Object.keys(e))t&&typeof e[n]==typeof t[n]&&(e[n]=vn._merge(e[n],t[n]));return e}static _cloneDeep(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}safeGet(e,t){try{return vn._merge(t,T.get(this._config,e))}catch(e){return console.warn("safeGet method of DefinitionConfig:",e),t}}unsafeGet(e,t){try{const n=T.get(this._config,e);return void 0===n?t:vn._cloneDeep(n)}catch(e){return console.warn("unsafeGet method of DefinitionConfig:",e),t}}}var kn=vn;const Cn=e=>"/"===e[0]?e.slice(1):e;var wn=n(67);const Sn={},On=(e,{invalidate:t=!1,crossorigin:n=!1,useCredentials:r=!1}={})=>{if(Sn[e]&&!t)return Sn[e].promise;const s=document.createElement("script");s.src=e,s.async=!0,n&&(s.crossOrigin=r?"use-credentials":"anonymous");const i=new Promise((t,n)=>{s.onload=(()=>{Sn[e].loaded=!0,t()}),s.onerror=(t=>{Sn[e].error=t,n(t)})});return Sn[e]&&document.head&&document.head.removeChild(Sn[e].script),document.head&&document.head.appendChild(s),Sn[e]={script:s,promise:i,loaded:!1,error:null},i};On.isRequested=(e=>Boolean(Sn[e])),On.isLoaded=(e=>Boolean(Sn[e]&&Sn[e].loaded)),On.isFailed=(e=>Boolean(Sn[e]&&Sn[e].error));var xn=On;const Tn=[1e3,3e3,15e3],In={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},Nn={reachGoal:()=>{}},Rn={},Pn=async e=>{const t=`yaCounter${e.id}`;return window[t]&&"function"==typeof window[t].reachGoal?(Rn[e.id]=window[t],window[t]):(Rn[e.id]||(Rn[e.id]=(async e=>{try{return await function e(t=0){return xn("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(n=>{if(Tn[t])return $e(Tn[t]).then(()=>e(t+1));throw n})}(),window.Ya&&window.Ya.Metrika2?new window.Ya.Metrika2(Object.assign({},In,e)):(console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),Nn)}catch(e){return console.warn("withMetrikaGoal: metrika load error:",e),Nn}})(e)),Rn[e.id])};var An=n(21),Mn=n.n(An),Dn={},Ln=0,Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,n=Dn[t]||(Dn[t]={});if(n[e])return n[e];var r=Mn.a.compile(e);return Ln<1e4&&(n[e]=r,Ln++),r}(e)(t,{pretty:!0})};const jn=e=>e.params.integration,Fn=e=>e.params.product,Un=(e,t)=>t===vt||"site_mobile"===t,zn=e=>Boolean(e.channel&&!e.channel.noChannel),Vn=(Object(_n.createSelector)(({links:e})=>e.login_tmpl,({router:e})=>e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Cn(t))):null),Object(_n.createSelector)(({links:e})=>e.logout_tmpl,({router:e})=>e.location.pathname,(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(Cn(t))):null),e=>e.params.isNarrativeFeed),Hn=e=>e.params.isNativeFeed,Wn=(Object(_n.createSelector)(Hn,Vn,zn,({router:e})=>"/"===e.location.pathname,(...e)=>e.some(Boolean)),Object(_n.createSelector)(({params:e})=>e.experimentsData,e=>new yn(e))),$n=Object(_n.createSelector)(({params:e})=>e.clientDefinition,e=>new kn(e)),Gn=(Object(_n.createSelector)(({context:e})=>e.partner,e=>{return(e=>{if("undefined"==typeof window)return()=>{};const t=Pn({id:e});return async e=>{(await t).reachGoal(e)}})(Object(wn.getPartnerMetrikaCounterIds)(e))}),Object(_n.createSelector)(jn,Fn,(e,t)=>Un(0,t)),Object(_n.createSelector)(zn,Vn,(e,t)=>!(e||t))),qn=Object(_n.createSelector)(e=>e.params.libType,e=>["activityDesktop","activityTablet","activityMobile"].includes(e)),Kn=Object(_n.createSelector)(Vn,Hn,zn,qn,(e,t,n,r)=>!(e||t||n||r)),Yn=(Object(_n.createSelector)(jn,Fn,Wn,(e,t,n)=>Un(0,t)&&n.isExp("should_reset_scroll_on_unload")),Object(_n.createSelector)(({iface:e})=>e.isOpenCardScrollEnabled,Wn,qn,(e,t,n)=>e&&t.isExp("should_scroll_on_open_card")&&!t.isExp("ab:rezen_cards25:rezen_cards25_b")&&!t.isExp("ab:rezen_cards25:rezen_cards25_c")&&!n)),Qn=Object(_n.createSelector)(({params:e})=>e.teethType,Wn,(e,t)=>e||(t.isExp("zen_comtr_color")?"color":"white")),Zn=Object(_n.createSelector)(Wn,e=>e.isExp("lazy_images")||e.isExp("ab:rezen_lazy_images:enable")||e.isExp("zen_lib_lazy_images")),Jn=Object(_n.createSelector)(e=>e.params.teethType,Wn,(e,t)=>!!e||t.isExp("site_desktop_turkey_morda_teeth")),Xn=Object(_n.createSelector)(({params:e})=>e.zenFeatures.color_theme,e=>e),er=["top_fixed","top_hiding","bottom"],tr=Object(_n.createSelector)(Wn,e=>{const t=er.some(t=>e.isExp(`ab:rezen_unified:${t}`)),n=e.isExp("ab:rezen_new_menu:rezen_new_menu");return t||n}),nr=Object(_n.createSelector)(Wn,tr,e=>e.isExp("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries")),rr=Object(_n.createSelector)(tr,nr,(e,t)=>Boolean(e||t)),sr=Object(_n.createSelector)(jn,e=>["ya_search_app_ios"].includes(e)),ir=(Object(_n.createSelector)(rr,Vn,Hn,En,sr,(e,t,n,r,s)=>e&&!t&&!n&&!r&&!s),Object(_n.createSelector)(Fn,Wn,(e,t)=>e===vt||"zen_modal_lib"===e?t.isExp("ab:site_desktop_interests:site_desktop_interests_enabled")||t.isExp("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"):"site_mobile"===e?t.isExp("ab:site_mobile_interests:site_mobile_interests_enabled")||t.isExp("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"):"zen_app"===e?t.isExp("ab:zenkit_interests:zenkit_interests_enabled")||t.isExp("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"):"zen_app_ios"===e&&(t.isExp("ab:ios_native_interests:ios_native_interests_enabled")||t.isExp("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"))),Object(_n.createSelector)($n,e=>{const{onboarding_enabled:t,onboarding_timeout:n,profile_enabled:r}=e.safeGet("social_profile",{onboarding_enabled:!1,profile_enabled:!1,onboarding_timeout:500});return{onboardingEnabled:t,profileEnabled:r,onboardingTimeout:n}})),or=(Object(_n.createSelector)(Wn,ir,(e,t)=>e.isExp("new_profile")||t.profileEnabled),Object(_n.createSelector)(e=>e.auth&&e.auth.info,(e={})=>e.isAuthorized),Object(_n.createSelector)(e=>e.auth&&e.auth.info,(e={})=>e.uid?(e=>Bn("/user/:uid(\\d*)",{uid:e}))(e.uid):""),Object(_n.createSelector)(Wn,$n,(e,t)=>e.isExp("ab:extend_feedback:extend_feedback_fix")||e.isExp("ab:extend_feedback:extend_feedback_fix_2")||t.safeGet("rezen_extend_feedback",{with_fix:!1}).with_fix)),ar=(e,t)=>{const n=T.get(G[e],t),r=T.get(G.common,t);return n&&r&&Array.isArray(n)?n.concat(r):n||r},cr=e=>{switch(e){case z:return 1;case V:return 2;case H:return 3}},lr=((e,t)=>({items:n,itemsOrder:r})=>{if(e===r)return t;const s=r.map(e=>{const{type:t,ad:r,commentsDocumentId:s}=n[e];return{id:e,type:t,ad:r,commentsDocumentId:s}});return e=r,t=s,s})(),dr=Object(_n.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),ur=e=>{const{gridType:t}=e;return G[t].columnCount},pr="Placeholder",hr="Zen",mr=(e,t)=>{return(t?e.slice(0,t):e).map(e=>e.hasPlaceholder?pr:hr)},fr=Object(_n.createSelector)(lr,e=>e.gridType,ur,(e,t,n)=>{const r=[],s={},i=ar(t,"layoutableTypes");let o=-1;return e.forEach(({id:e,type:a,ad:c,commentsDocumentId:l})=>{const d=i.includes(a);d&&o++;const u=d?((e,t)=>{switch(t){case"one_column":return z;case"two_column":{const t=e%4;return 0===t||1===t?z:V}case"two_column_small_cards":return z;case"three_column":return[3,6].includes(e%7)?V:z;case"three_column_first_big":return[0,3].includes(e%7)?V:z;case"three_column_small_cards":return z;default:return null}})(o,t):H;ar(t,["availableSizes",a]).includes(u)||console.warn("Invalid item size:",u,a,e);const p=cr(u);let h=r[r.length-1];h||(h=[],r.push(h));const m={id:e,type:a,size:u,ad:c,commentsDocumentId:l};if(h.reduce((e,{size:t})=>e+cr(t),0)+p<=n)h.push(m);else{const e=[m];r.push(e),"placeholder"===a&&(e.hasPlaceholder=!0)}m.row=r.length-1,s[e]=m}),{elements:s,rows:r}}),gr=Object(_n.createSelector)(lr,e=>e.filter(({type:e})=>"placeholder"===e||"card-placeholder"===e).map(({id:e})=>e)),_r=Object(_n.createSelector)(gr,(e,t)=>t,(e,t)=>e.indexOf(t)),br=Object(_n.createSelector)(Fn,e=>e.params.isAdaptiveDesign,(e,t)=>[Ct,wt].includes(e)?"yabro-1":t?"generic":null),Er=(e,t)=>e.feed.items[t].parentId,yr=Object(_n.createSelector)(Er,(e,t)=>{const n=fr(e.feed),r=Er(e,t),s=n.elements[r].row;return n.rows[s]},e=>ur(e.feed),(e,t,n)=>{const r=t[0].id,s=t[t.length-1].id;if(1===n)return W.CENTER;switch(e){case r:return W.LEFT;case s:return W.RIGHT;default:return W.CENTER}}),vr=(e,t)=>{const n=Er(e,t);return fr(e.feed).elements[n].size},kr=Object(_n.createSelector)(Wn,e=>e.isExp("zen_lib_rtb")),Cr=Object(_n.createSelector)(Wn,e=>e.isExp("ab:site_desktop_adsense:site_desktop_adsense")||e.isExp("ab:opera_ntp_adsense:opera_ntp_adsense")),wr=()=>!0,Sr=Object(_n.createSelector)(wr,Xn,(e,t)=>e&&"white"===t),Or=Object(_n.createSelector)(e=>e.feed,e=>ur(e)),xr=Object(_n.createSelector)(Or,br,Cr,wr,(e,t,n,r)=>({columnCount:e,rubberyType:t,isAdsense:n,isMordaDesktop:r})),Tr=(Object(_n.createSelector)(({feed:e})=>e.displayedRowsNumber,({feed:e})=>e.countRowsBeforeBlock,(e,t)=>e===t),function(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})});var Ir=()=>{const e=new Tr;let t,n,r=[],s=!1;const i=(...e)=>{r.push(e),s&&o()},o=()=>{r.some(([e,r])=>t===e&&n===r)?(Et.off(yt.FEED_CHANGED,i),e.resolve()):r=[]};return Et.on(yt.FEED_CHANGED,i),r=>(s=!0,t=fr(r.feed),n=r.feed.displayedRowsNumber,o(),e.promise)};var Nr=e=>new Promise(t=>{setTimeout(t,e)});function Rr(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}}const Pr=e=>Object.assign({},e,{broadcastable:!0}),Ar=e=>e,Mr=(e,t,n)=>{let r=void 0;const s=`${e=e.toUpperCase()}_REQUEST`,i=`${e}_SUCCEED`,o=`${e}_FAILURE`,a={status:"pending",data:void 0};return{action:(...e)=>n=>{n({type:s,meta:e});const a=r=t(...e).then(t=>{a===r&&n({type:i,payload:t,meta:e})},()=>{a===r&&n({type:o,meta:e})})},reducer:(e=a,t)=>{switch(t.type){case s:return Object.assign({},e,{status:"pending"});case i:{const r=t.payload;return Object.assign({},e,{status:"success",data:n(r)})}case o:return Object.assign({},e,{status:"error"});default:return e}},request:s,succeed:i,failure:o}},Dr=(e,t=1e3)=>{const n=((e,t)=>{let n=null,r=null,s=null;return(...i)=>(s=i,Promise.resolve(n).then(()=>(s&&(n=Nr(t),r=e(...s),s=null),r)))})((t,...n)=>t(e(...n)),t);return(...e)=>t=>n(t,...e)},Lr=(e,t,n,r=Ar,s=1e3)=>{const i=Mr(e,t,r),{action:o}=i,a=Lt(i,["action"]),c=Dr(o,s),l=((e,t)=>(...n)=>(r,s)=>{const{status:i,data:o}=t(s(),...n);return"success"!==i?r(e(...n)):Promise.resolve(o)})(c,n);return Object.assign({action:l,forceAction:c},a)},Br=e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=((t={})=>e[r](Object.assign({},n,t))),t),{});return Object(Jt.a)(r,t)},jr="undefined"!=typeof window&&void 0!==window.localStorage;var Fr=jr?{isAvailable:jr,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return console.error(e),null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return console.error(e),!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return console.error(e),!1}}}:{isAvailable:!1,getItem:e=>null,setItem:(e,t)=>!1,removeItem:e=>!1};let Ur,zr;"undefined"!=typeof document&&(void 0!==document.hidden?(Ur="visibilityState",zr="visibilitychange"):void 0!==document.mozHidden?(Ur="mozVisibilityState",zr="mozvisibilitychange"):void 0!==document.msHidden?(Ur="msVisibilityState",zr="msvisibilitychange"):void 0!==document.webkitHidden&&(Ur="webkitVisibilityState",zr="webkitvisibilitychange"));const Vr=()=>!Ur||"visible"===document[Ur],Hr=e=>{if(!zr)return()=>{};let t=Vr(),n=!1;const r=()=>{if(!n){const n=Vr();t!==n&&(t=n,e(n))}};return document.addEventListener(zr,r),()=>{n=!0,document.removeEventListener(zr,r)}};var Wr=()=>$e(200).then(()=>new Promise(e=>{if(Boolean(Ur)&&Vr())return void e();let t;const n=()=>{t(),document.removeEventListener("scroll",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),e()};t=Hr(e=>{e&&n()}),document.addEventListener("scroll",n),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)}));const $r=e=>{const{sessionContexts:t}=n;return t&&t[e]||{}},Gr=(e,t)=>{(n.sessionContexts||(n.sessionContexts={}))[e]=t},qr=e=>$r((e=>e.sessionId)(e)),Kr=e=>$r((e=>e.sessionId)(e)),Yr=async()=>{let e=window.ZENKIT_LAUNCH_OPTIONS;if(!e){let t;(e=window.ZENKIT_LAUNCH_OPTIONS=new Promise(e=>{t=e})).resolve=t}return await e};const Qr=new class{async close(){return await Yr(),window.ZENKIT.close()}async requestCookieAuthURL(e,t,n){return await Yr(),window.ZENKIT.requestCookieAuthURL(e,t,n)}async channelStatusChanged(e,t,n){return await Yr(),window.ZENKIT.channelStatusChanged(e,t,n)}async navigateBrowser(e){return await Yr(),window.ZENKIT.navigate("BROWSER",e)}async navigateChannel(e){return await Yr(),window.ZENKIT.navigate("CHANNEL",e)}async navigateSubscriptions(){return await Yr(),window.ZENKIT.navigate("SUBSCRIPTIONS")}async navigateSettings(){return await Yr(),window.ZENKIT.navigate("SETTINGS")}async navigateHistory(){return await Yr(),window.ZENKIT.navigate("HISTORY")}async navigateEditor(){return await Yr(),window.ZENKIT.navigate("EDITOR")}async navigateEditorPost(e){return await Yr(),window.ZENKIT.navigate("EDITOR_POST",e)}async navigateNotifications(){return await Yr(),window.ZENKIT.navigate("NOTIFICATIONS")}async navigateProfile(e){return await Yr(),window.ZENKIT.navigate("PROFILE",e)}async onReady(){return await Yr(),window.ZENKIT.onReady()}async onError(){return await Yr(),window.ZENKIT.onError()}},Zr=()=>e=>{e({type:"HIDE_MORE_BUTTON",payload:null})},Jr=e=>t=>{t({type:"SWITCH_MORE_BUTTON_OFFSET_MODE",payload:{offsetMode:e}})},Xr=()=>e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})},es=e=>{return Pr({type:e?"VIDEO_AUTOPLAY_ON":"VIDEO_AUTOPLAY_OFF",payload:null})},ts=e=>(t,n)=>{const r=n(),s=r.sources[e],{product:i}=r.params,{zenApi:o}=qr(r),a=(e=>"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"])(i);a?a.onPageStatusChanged?a.onPageStatusChanged(!0):Qr.channelStatusChanged({id:s.id,title:s.title,image:s.logo,link:s.feedLink,exportLink:s.feedApiLink,logoBgColor:s.logoBackgroundColor,channelType:s.type},s.type,s.status):o.invalidateCache()},ns=(e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}),rs=e=>ns("links",e),ss=e=>ns("params",e),is=e=>ns("user",e);function os(e,t){return Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)}var as=class{constructor(e){const{bulkParams:t,statEvents:n}=e;t&&n||console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:",t,n),this._params=e}getParams(){return this._params}log(e,t){const{statEvents:n,meta:r}=this._params;let{bulkParams:s}=this._params,i=n[e];if(!i)return void console.warn("Invalid `statEvent`: %s. Request not sent.",e);const o=t&&t.global?t.global:{};s=os(s,Object.assign({},{},o));const a=t&&t.local;a&&(i=os(i,a)),mt.logBulkEvent({event:i,bulkParams:s,statMeta:r,info:t&&t.info})}};const cs=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e),ls={log:()=>{}},ds=(e,t,n)=>{if(!e||!t)return console.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),ls;return{log:(r,{local:s={},global:i={},rename:o={},info:a}={})=>{const c=t[o[r]||r];return c?mt.logBulkEvent({event:cs(c,s),bulkParams:cs(e,i),statMeta:n,info:a}):(console.warn("Invalid `statEvent`: %s. Request not sent.",r),ls)}}},us=Object.keys,ps=Object(_n.createSelectorCreator)(_n.defaultMemoize,(e,t)=>us(e).filter(n=>e[n]===t[n]).length===us(t).length),hs=e=>ps(e=>e,(e,t)=>t,e),ms=e=>{const t=hs((t,n)=>{return{log:(r,s={})=>n.log(r,Object.assign({},s,{[e]:Object.assign({},s[e],t)}))}});return e=>n=>t(e,n)},fs=ms("local"),gs=(ms("global"),ms("rename"),(e="")=>{const t=hs((t,n)=>{return{log:(t,r={})=>{const s=r.local||{},i=s.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},s,{__els__:i?`${e}.${i}`:e})}))}}});return n=>t(e,n)}),_s=()=>Object(_n.createSelector)(e=>e.id,(e,t)=>t,e=>e.statParams,e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,(e,t,n,r,s,i)=>{if(t&&n){const{statEvents:r,bulkParams:s}=n[t];return new as({id:e,statEvents:r,bulkParams:s,meta:{rowIndex:i}})}return r&&s?new as({id:e,statEvents:r,bulkParams:s,meta:{rowIndex:i}}):null}),bs=()=>Object(_n.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,(e,t,n,r,s,i,o)=>{if(r){const e=r[o];return e?ds(e.bulkParams,e.statEvents,{rowIndex:n}):(console.error(new Error(`place ${o} not found in statParams`)),ds())}return s&&i?ds(i,s,{rowIndex:n}):e&&t?ds(t,e,{rowIndex:n}):ds()}),Es=()=>Object(_n.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>ds(e,t)),ys=(Es(),["id","source","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"]),vs=(()=>{const e=[];return(t,n)=>{return(t.feed.items[n]&&t.feed.items[n].customUserFeedbackData||{}).questions||e}})(),ks=(e,t)=>{return vs(e,t).filter(e=>"zoloka_interest_feedback"===e.type)[0]||null},Cs=(e,t)=>{return vs(e,t).filter(e=>"extended_dislike_feedback"===e.type)[0]||null},ws=rt(()=>mt.invalidateCache(),2500),Ss=()=>Object(_n.createSelector)(Cs,e=>{if(e){const t=_s(),n=(e.answers||[]).map(e=>{const n=t(e.stats);return Object.assign({},e,{onBlock:()=>{n.log("feedback_block"),ws()},onUnblock:()=>{n.log("feedback_cancel_block"),ws()}})});return Object.assign({},e,{answers:n})}}),Os=e=>()=>Object(_n.createSelector)(Xn,Vn,Hn,En,(e,t)=>fr(e.feed).elements[t].size,e=>e.params.complaints&&e.params.complaints.reasons,e=>e.params.isMobile,e=>e.sources,e,qn,...ys.map(e=>(t,n,r)=>void 0!==r?t.feed.items[n].items[r][e]:t.feed.items[n][e]),(e,t,n,r,s,i,o,a,c,l,...d)=>{const u=d.reduce((e,t,n)=>{return e[ys[n]]=t,e},{}),{feedback:p,source:h}=u,m=!(t||n||r&&"interest"!==r.type||l);return Object.assign({},u,{source:a[h],size:s,theme:e,complaintReasons:i,isMobile:o,dislikeQuestion:c,isEnabled:m,isNegativeFeedback:p&&"liked"!==p})}),xs=["id","feedback","isMittensJumping","bulkParams","statEvents"],Ts=()=>Object(_n.createSelector)(e=>e.params.isMobile,Vn,Hn,...xs.map(e=>(t,n)=>t.feed.items[n][e]),(e,t,n,...r)=>r.reduce((e,t,n)=>{return e[xs[n]]=t,e},{isEnabled:!(t||n),size:e?"medium":"small"})),Is=["id","type","statEvents","subscribeTriggerEvent","feedback","read"],Ns=Ss(),Rs=Os(Ns),Ps=Ss,As=()=>Os(Ss())();var Ms=function(e,t=250,n){let r,s;return(...i)=>{const o=n||this,a=Date.now();clearTimeout(s),r&&a<r+t?s=setTimeout(()=>{r=a,e.apply(o,i)},t):(r=a,e.apply(o,i))}},Ds=n(65);const Ls=250;let Bs,js,Fs=[],Us=[],zs=[],Vs=[],Hs=[],Ws=!1,$s=0,Gs=!1;const qs=n.n(Ds).a.hasSupport;let Ks;function Ys(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function Qs(e,t){const n=[];let r;for(let s=0,i=e.length;s!==i;s++)t(r=e[s])&&n.push(r);return n}let Zs=0;function Js(){return`__scrollEv${++Zs}__`}const Xs={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let ei=bi(Xs),ti={},ni=!1;const ri=[];function si(){const e=bi(ei);ei=gi(e)}const ii=(e,t,n)=>{Us.push({scroll:e.scroll,name:e.name||Js(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){ri.push([e,t])}(e.scroll-700,e.scroll+700)},oi=(e,t,n)=>{zs.push({delta:e.delta,name:e.name||Js(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},ai=()=>{Ws=!0},ci=()=>{si(),Ws=!1};const li=()=>{Gs?window.addEventListener("message",({data:e})=>{const{type:t}=e;if("scroll"===t){const{scrollTop:t,winHeight:n}=e;Bs=t,js=n,ui()}}):(qs?document.addEventListener("scroll",ui,{passive:!0}):requestAnimationFrame(hi),((e,t,n)=>{const r=e.name||Js();Vs.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})})({},({scroll:e})=>{!function(e){let t=!1;Ys(ri,([n,r])=>{e>=n&&e<=r&&(t=!0)}),ni=t}(e)}))};function di(e,t,n){return n.fromBottom?e<=n.scroll||!!(n.bottomEdge&&t<=n.scroll):e>=n.scroll||!!(n.bottomEdge&&t>=n.scroll)}function ui(){hi(Date.now())}function pi(e,t){qs&&(t||(clearTimeout(Ks),Ks=setTimeout(()=>hi(Date.now(),!0),Ls))),$s=e;const n=bi(ei);ei=gi(n,t);const{scroll:r,scrollBottomEdge:s}=ei;!0===ei.scrolling&&n.scrolling,(!0===ei.scrolling||t)&&function(e){mi(e,!1),fi(e,!1)}(ei),!1===ei.scrolling&&!0===n.scrolling&&function(e){mi(e,!0),fi(e,!0),Ys(Hs,e=>{clearTimeout(e._timeout),e.callback()}),Hs=[]}(ei),function(e,t){Ys(Fs,n=>{const r=di(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;_i(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),Fs=Qs(Fs,e=>!(e._triggered&&e.once))}(r,s),function(e,t){Ys(Us,n=>{0===n._state&&di(e,t,n)&&(_i(n.name,{state:1,data:n.data},n.callback),Ei(n.name)||(n._state=1)),1!==n._state||di(e,t,n)||(_i(n.name,{state:0,data:n.data},n.callback),Ei(n.name)||(n._state=0))})}(r,s),qs||requestAnimationFrame(hi)}const hi=ni?pi:Ms(pi,30);function mi(e,t){const n=Qs(zs,e=>!!e.endTrigger===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,s=Math.abs(r),i=r>0?1:-1;Ys(n,e=>{e.onceDebounce&&ti[e.name]||s>=e.delta&&(e.direction===i||e.anyDirection)&&(_i(e.name,{data:e.data},e.callback),e._triggered=!0,ti[e.name]=!0)}),zs=Qs(zs,e=>!(e._triggered&&e.once))}function fi(e,t){const n=Date.now();Ys(Vs,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(_i(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function gi(e,t){const n=bi(Xs),r=Gs?Bs:window.pageYOffset,s=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(Gs?js:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=s:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,s-n.lastScrollChangeTime>Ls||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,ti={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function _i(e,t,n){Ei()||n&&n(t)}function bi(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function Ei(){return Ws}const yi=200,vi=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;var ki=new class{_loop(e){this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=vi(this.timeElapsed,this.start,this.distance,yi),window.scrollTo(0,this.next),this.timeElapsed<yi?requestAnimationFrame(e=>{this._loop(e)}):this._end()}scrollTo({top:e=0,animate:t=!0}={}){return new Promise(n=>{const r=Math.max(0,e),s=()=>{const e={scroll:r,scrollBottomEdge:r+window.innerHeight};window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=e,n(r)};this._end=s,this.start=window.pageYOffset,this.distance=r-this.start,this.disableScrollEvents(),t?requestAnimationFrame(e=>{this._loop(e)}):(window.scrollTo(0,r),s())})}disableScrollEvents(){ai()}enableScrollEvents(){setTimeout(()=>ci(),500)}},Ci=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset};var wi=(e=!1)=>(ai(),(()=>{const e=document.querySelector(".zen-app");return Promise.resolve(Ci(e))})().then(t=>ki.scrollTo({top:t+2,animate:e})).then(()=>$e(1e3)).then(()=>ci()));const Si=(e,t,n)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}),Oi=gn(e=>e.getMore()),xi=({insertOnTop:e=!1,shouldRefreshFeed:t=!1,onAfterPackInsert:n}={})=>(r,s)=>{const i=s(),{zenApi:o,ttlController:a}=qr(i);return Oi.startSession({args:[o],timeouts:[3e4,18e4],onTryComplete(i){const c=()=>{if(!i.isLastSession()){if(i.isRejected)throw i.error;return}if(i.isRejected){if(!(0!==i.tryNumber)){const e=s();zn(e)||r((e,t)=>{const n=t(),{isErrorMessageVisible:r,isNotifiersDisabled:s}=n.iface;r||s||(e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"SHOW_ERROR_MESSAGE",payload:null}),$e(5e3).then(()=>e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})})))})}throw a&&a.apiResponseReceiveFailed(Me.MORE,i.error),console.warn(i.error.message),i.error}const c=n?Ir():null,{apiResponse:l}=i.value;if(l&&l.experimentsData&&(l.experimentsData["ab:extend_feedback:extend_feedback_debug_client"]&&l.experimentsData["ab:extend_feedback:extend_feedback_debug_client"].exp||l.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"]&&l.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"].exp)&&l&&Array.isArray(l.items)&&l.items.forEach(e=>{e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),a&&a.apiResponseReceived(Me.MORE,l),r(rs({[Me.MORE]:l.more.link||null})),r(Si(l.items,e,t)),l.id&&o.packUsed(l.id),c)return c(s())};let l;try{l=c()}catch(e){throw n&&n(!1),e}n&&(l?l.then(()=>n(!0)):n(!1))}}).retriesResult.catch(e=>{console.warn(`GetMore retries failed: '${e.message}'.`)})},Ti=(e,t)=>(n,r)=>{const{feed:s}=r(),{rows:i,elements:o}=fr(s),a=o[e].row,c=i[a];if(Pi(i[a+1],$)){const e=i[a+1][0].id,t=s.items[e];n(Ii(t.parentId))}n({type:"INSERT_ITEM_AFTER",payload:{afterId:c[c.length-1].id,item:t}}),n({type:"LINK_CHILD_ITEM",payload:{itemId:e,childItemId:t.id}})},Ii=e=>(t,n)=>{const{feed:r}=n(),s=r.items[e];s.childItemId&&(t({type:"UNLINK_CHILD_ITEM",payload:{itemId:e}}),t({type:"REMOVE_ITEM",payload:{itemId:s.childItemId}}))},Ni=e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}}),Ri=e=>(t,n)=>{const r=n(),s=Er(r,e);t({type:"ANSWER_USER_QUESTION",payload:{id:e,parentId:s}})};function Pi(e,t){return!!e&&e.some(e=>"string"==typeof t?e.type===t:t.has(e.type))}const Ai=[],Mi=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};let Di;!function(e){e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(Di||(Di={}));const Li=e=>e||"DEFAULT_ID",Bi=(e,t)=>e({id:Li(t)},{type:"@@asyncScope/INIT"}),ji=({actionType:e,dataReducer:t})=>{const n=(e=>{let t,n;return(...r)=>t&&Mi(t,r)?n:(t=r,n=e(...r))})((e,t,n)=>({id:e,status:t,data:n})),r=(e=>(t=Di.PENDING,n,r)=>{if(r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}})(e);return(e,s)=>{const i=((e="DEFAULT_ID")=>e)(e&&e.id);return n(i,r(e&&e.status,s,i),t(e&&e.data,s,i))}},Fi=({reducer:e,selector:t})=>(n,r,...s)=>{const i=Li(r);return t(n,i,...s)||Bi(e,i)},Ui=({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:Di.FAILURE}}),zi=({type:e,request:t,selector:n})=>{const r=({isForced:r,isSilent:s=!1})=>(i,...o)=>async(a,c)=>{const l=Li(i),d=c(),u=n(d,l,...o);return!r&&u&&u.status===Di.SUCCESS?u.data:(!s&&a((({type:e,id:t="DEFAULT_ID"})=>({type:e,payload:{id:t,timestamp:Date.now(),status:Di.PENDING}}))({type:e,id:l})),t(l,...o).then(t=>{a((({type:e,value:t,id:n="DEFAULT_ID"})=>({type:e,payload:{id:n,timestamp:Date.now(),status:Di.SUCCESS,value:t}}))({type:e,id:l,value:t}));const r=c(),s=n(r,l,...o);if(s)return s.data},t=>{throw!s&&a(Ui({type:e,id:l})),t}))};return[r({isForced:!1}),r({isForced:!0}),r({isForced:!0,isSilent:!0})]},Vi=e=>{let t=null,n=null,r=!1;return(...s)=>!n||r||t&&!Mi(t,s)?(t=s,r=!1,n=e(...s).then(e=>(r=!0,e),e=>{throw r=!0,e})):n};var Hi=n(66).a,Wi=n(57);const $i=(...e)=>(t,n)=>e.reduce((e,t)=>t(e,n),t);var Gi=$i;const qi=ji({actionType:"USER_PROFILE_REQUEST",dataReducer:(e=null,t,n)=>{const r=t.payload&&t.payload.id,s=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case"SOURCE_SUBSCRIBE":{const t=Object.assign({},e);return n===s?t.subscriptionCount++:n===r&&t.followerCount++,t}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const t=Object.assign({},e);return n===s?t.subscriptionCount--:n===r&&t.followerCount--,t}}if(n!==r)return e;switch(t.type){case"USER_PROFILE_REQUEST":if(t.payload.status===Di.SUCCESS){const e=Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp});return delete e.source,e}return e;case"USER_PROFILE_ONBOARDING_COMPLETE":if(null!==e)return Object.assign({},e,{onboardingRequired:!1,privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case"USER_PROFILE_UPDATE":if(null!==e){const{about:n=e.about,hideSubscriptions:r=e.privacy.hideSubscriptions,hideActivity:s=e.privacy.hideActivity,hideInterests:i=e.privacy.hideInterests}=t.payload.params;return Object.assign({},e,{about:n,privacy:Object.assign({},e.privacy,{hideSubscriptions:r,hideActivity:s,hideInterests:i})})}case"USER_PROFILE_RESTORE":return t.payload.profile;default:return e}}}),Ki=e=>Bi(qi,e),Yi=ji({actionType:hn,dataReducer:(e=[],t,n)=>{switch(t.type){case hn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==Di.SUCCESS)return e;const r=t.payload.value;return r?r.filter(e=>"subscribed"===e.status).map(e=>e.id):e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_SUBSCRIBE":{const n=t.payload.id;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),Qi=e=>Bi(Yi,e),Zi=ji({actionType:mn,dataReducer:(e=[],t,n)=>{switch(t.type){case mn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==Di.SUCCESS)return e;const r=t.payload.value;return r?r.filter(e=>"blocked"===e.status).map(e=>e.id):e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_BLOCK":{const n=t.payload.id;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_SUBSCRIBE":case"SOURCE_UNSUBSCRIBE":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),Ji=e=>Bi(Zi,e),Xi=ji({actionType:"USER_FOLLOWERS_REQUEST",dataReducer:(e=[],t,n)=>{if(n===(t.payload&&t.payload.id))switch(t.type){case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==Di.SUCCESS)return e;const n=t.payload.value;return n?n.map(e=>e.id):e}case"SOURCE_SUBSCRIBE":{const n=t.__data__&&t.__data__.selfUserId;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.__data__&&t.__data__.selfUserId,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),eo=e=>Bi(Xi,e),to=e=>({profile:Ki(e),subscriptions:Qi(e),blocked:Ji(e),followers:eo(e)}),no=Object(Wi.a)({profile:qi,subscriptions:Yi,blocked:Zi,followers:Xi}),ro=($i((e={},t)=>{switch(t.type){case"ADD_USER":{const n=t.payload.userId;return e[n]?e:Object.assign({},e,{[n]:to(n)})}default:return e}},(e={},t)=>{const n={};return Object.keys(e).forEach(r=>{const s=e[r],i=no(s,t);n[r]=i}),n}),Fi({reducer:Yi,selector:(e,t)=>oo(e,t).subscriptions})),so=Fi({reducer:Zi,selector:(e,t)=>oo(e,t).blocked}),io=Fi({reducer:Xi,selector:(e,t)=>oo(e,t).followers}),oo=(e,t)=>e.users[t]||to(t),ao=(Object(_n.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{return e[n].isUnsubscribedInCurrentSession&&t.push(n),t},[])),Object(_n.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{return e[n].isUnblockedInCurrentSession&&t.push(n),t},[])),Object(_n.createSelector)(e=>e.auth,e=>e&&e.info&&e.info.uid||"SELF_USER_ID_FALLBACK")),co=(Object(_n.createSelector)(e=>e.router.location,ao,(e,t)=>{if(!e)return t;const n=Hi(e.pathname,{path:"/user/:uid(\\d*)"});return n&&n.params.uid||t}),Fi({reducer:qi,selector:(e,t)=>oo(e,t).profile}));var lo=n(175);function uo(e){return"string"==typeof e&&e.length>0}const po=e=>({type:"ADD_USER",payload:{userId:e}}),ho=e=>(t,...n)=>r=>(r(po(t)),r(e(t,...n))),mo=e=>"SELF_USER_ID_FALLBACK"===e?"":e,fo=Vi(e=>mt.getPreferences(mo(e))),go=Vi(e=>mt.getSocialProfile(mo(e))),_o=Vi(e=>mt.getUserSubscribers(mo(e))),bo=e=>t=>async n=>{const r=(e=>{let t,n=!0;return(...r)=>(n&&(n=!1,t=e(...r)),t)})(fo),[s,i]=zi({type:hn,request:r,selector:ro}).map(ho),[o,a]=zi({type:mn,request:r,selector:so}).map(ho);e?await Promise.all([n(i(t)),n(a(t))]):await Promise.all([n(s(t)),n(o(t))])},Eo=bo(!0),[yo,vo,ko]=(bo(!0),zi({type:"USER_PROFILE_REQUEST",request:go,selector:co}).map(ho).map(e=>(t,...n)=>async(r,s)=>{const i=s(),o=ao(i),[a]=await Promise.all([r(e(t,...n)),r(Eo(o))]);return a}).map(e=>(...t)=>async(n,r)=>{const s=r(),a=ao(s),c=s.router.location,l=i(c.search),{onboardingToken:d,onboardingContext:u,onboardingDocumentId:p}=l,h=Lt(l,["onboardingToken","onboardingContext","onboardingDocumentId"]);if(uo(d)&&uo(u))try{await n((({context:e,token:t,documentId:n})=>(r,s)=>{const i=s(),{zenApi:o}=qr(i);return r({type:"USER_PROFILE_ONBOARDING_COMPLETE",payload:{id:ao(i)}}),o.completeProfileOnboarding({context:e,token:t,documentId:n})})({context:u,token:d,documentId:p})),n(Object(lo.a)(Object.assign({},c,{search:o(h)})))}catch(e){throw n(Ui({type:"USER_PROFILE_REQUEST",id:a})),e}return n(e(...t))})),[Co,wo]=zi({type:"USER_FOLLOWERS_REQUEST",request:_o,selector:io}).map(ho),So={links:rs,params:ss,shared:e=>ns("shared",e),context:e=>ns("context",e),auth:e=>ns("auth",e),user:is},Oo=(e,t)=>{const n=T.get(e,"screens.items");if(!n)return null;const r=n.filter(({type:e})=>e===t);return 1!==r.length?null:r[0].source},xo=e=>(t,n)=>{const r=n(),{zenApi:s,ttlController:i}=qr(r);if(e&&e.experimentsData&&(e.experimentsData["ab:extend_feedback:extend_feedback_debug_client"]&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client"].exp||e.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"]&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"].exp)&&e&&Array.isArray(e.items)&&e.items.forEach(e=>{e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),i&&i.apiResponseReceived(Me.EXPORT,e),t({type:"CLEAR_FEED"}),e.items){t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(Ni(ar(e,"initialDisplayedRowsNumber")))})(T.get(e,"grid_type.name"))),t(Si(e.items))}if(e.channel){t((e=>({type:"SOURCE_MERGE",payload:e}))(J(e.channel)))}e.commentsDoc&&t((e=>({type:"RECEIVE_COMMENTS_DOC",payload:{doc:e}}))(e.commentsDoc)),t((e=>{const t={[Me.ONBOARDING]:T.get(e,"onboarding.link")||null,[Me.MORE]:T.get(e,"more.link")||null,[Me.BULK]:T.get(e,"bulk.link")||null,[Me.CLIENT_LOGS]:T.get(e,"client_logs.link")||null,[Me.SUBS]:Oo(e,"subs")||Oo(e,"switchable_subs"),[Me.PROFILE]:Oo(e,"profile"),[Me.CATEGORY]:Oo(e,"category"),[Me.CATEGORIES]:Oo(e,"categories"),[Me.SUGGEST]:Oo(e,"suggest"),[Me.BLOCKED]:Oo(e,"blocked"),[Me.PREFERENCES]:Oo(e,"preferences"),[Me.SUBSCRIBERS]:Oo(e,"subscribers"),[Me.BLOCKED_SUGGEST]:Oo(e,"blocked_suggest"),[Me.VIDEO_RECOMMEND]:Oo(e,"video_recommend"),[Me.COUNTRY_LANG]:Oo(e,"language"),[Me.COMMENTS_COUNTER]:Oo(e,"comments_counter"),[Me.SEND_APP_LINK_SMS]:Oo(e,"send_app_link_sms"),[Me.SOCIAL_PROFILE]:Oo(e,"social_profile"),[Me.SOCIAL_ACTIVITY_FEED]:Oo(e,"social_activity_feed"),[Me.SOCIAL_PROFILE_EDIT]:Oo(e,"social_profile_edit"),[Me.SOCIAL_INTERESTS_FEEDBACK]:Oo(e,"social_interests_feedback"),[Me.PROFILE_ONBOARDING_SHOWN]:Oo(e,"profile_onboarding_shown"),[Me.PROFILE_COMPLETE_ONBOARDING]:Oo(e,"profile_complete_onboarding")};return rs(t)})(e)),t((e=>{const t={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk"},n=Object.keys(t).reduce((n,r)=>(n[t[r]]=e[r],n),{});return ss(n)})(e)),t((e=>ns("request",e))({rid:T.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:{exportData:e,currentTime:Date.now()}}),e.id&&s.packUsed(e.id)},To=e=>(t,n)=>{const{exportData:r,isExportDataParsed:s=!0,initialDisplayedRowsNumber:i,params:o,comments:a}=e;if(Object.keys(So).forEach(n=>{const r=e[n];if(r){t((0,So[n])(r))}}),t(po(ao(n()))),r){const e=s?r:Ne(r);t(xo(e))}a&&t((e=>async t=>{t({type:"INIT_COMMENTS",payload:e})})(a)),i&&t(Ni(i));const{isChildPage:c}=o;c&&t((e=>({type:"SET_IS_CHILD_WINDOW",payload:{isChildWindow:e}}))(c)),t((e,t)=>{const n=t(),{feed:r,shared:s}=n,{scrollToID:i}=s;if(!i)return;const{displayedRowsNumber:o}=n.feed,{rows:a}=fr(r),c=a.findIndex(e=>e.some(({id:e})=>e===i));e(Ni(c+o))})};var Io=e=>t=>n=>{const r=T.get(n,"payload.id"),s=e.getState(),i=((e,t)=>{const n={};if(t){const{elements:r}=fr(e.feed);n.rowIndex=r&&r[t]&&r[t].row}return n})(s,r);if(n.statEvent){const{zenApi:e}=Kr(n),{statEvent:t}=n,o=s.feed.items[r],a=o.statEvents[t],{bulkParams:c}=o;e.logBulkEvent({event:a,bulkParams:c,statMeta:i})}if(n.bulkStat){const{zenApi:e}=Kr(n),{statEvents:t,statEvent:r,bulkParams:s}=n.bulkStat,o=t[r];e.logBulkEvent({event:o,bulkParams:s,statMeta:i})}return t(n)};const No=Math.round(1e8*Math.random()),Ro="BROADCAST_ACTION";var Po=e=>e=>t=>{if(t.broadcastable){const e=Object.assign({},t);delete e.statEvent,delete e.bulkStat,delete e.broadcastable,e.tabId=No,Fr.setItem(Ro,JSON.stringify(e))}return e(t)};const Ao={SOURCE_BLOCK:"blocked",SOURCE_UNBLOCK:"unblocked",SOURCE_SUBSCRIBE:"subscribed",SOURCE_UNSUBSCRIBE:"unsubscribed"};var Mo=()=>e=>t=>{const{type:n,payload:r}=t;if(Ao[n]&&r){const{id:e}=r;ft.emit(gt.SOURCE_CHANGE,{id:e,type:Ao[n]})}return e(t)},Do=n(30),Lo=n(54),Bo=n(64),jo=n.n(Bo);const Fo=e=>(...t)=>n=>(...r)=>{let s=[],i=s,o=0;return Object(Do.a)(Object(Lo.a)(()=>e=>t=>{const n="function"==typeof t;let r;n&&o++;try{r=e(t)}finally{n&&o--}if(0===o){const e=s=i;for(let t=0;t<e.length;t++)e[t]()}return r},jo.a.withExtraArgument(e),...t),e=>(...t)=>{const n=e(...t),r=()=>{i===s&&(i=s.slice())};return Object.assign({},n,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return r(),i.push(e),function(){if(!t)return;t=!1,r();const n=i.indexOf(e);i.splice(n,1)}}})})(n)(...r)},Uo=Fo();Uo.withExtraArgument=Fo;n(109);const zo=Object.freeze([e=>t=>n=>{const r=e.getState(),{sessionId:s}=r;return t(Object.assign({},n,{sessionId:s}))},e=>t=>n=>{const r=e.getState();return t(Object.assign({},n,{__data__:{selfUserId:ao(r)}}))},Io,Po,Mo]),Vo=(e,t)=>{return Uo.withExtraArgument(t)(...e)},Ho=e=>({type:"SET_SESSION_ID",payload:e}),Wo=()=>{return`${Date.now().toString(36).slice(0,16)}_${Math.random().toString(36).slice(2,18)}`};class $o{setHandler(){}setContext(){}error(){}warn(){}log(){}}const Go=(e,t)=>{t.zenLogger?Gr(e,t):Gr(e,Object.assign({},t,{zenLogger:new $o}))},qo=({sessionId:e=Wo(),settings:t,App:n,reducer:r,middlewares:s=[],sessionContext:i={},nativeZenApiMethods:o={},onBeforeInit:a})=>{const c=Object(xt.b)(r,Vo(s));return a&&a(),Go(e,i),c.dispatch(Ho(e)),c.dispatch(To(t)),{app:Ot.a.createElement(At,{store:c},Ot.a.createElement(n,{nativeZenApiMethods:o})),store:c}};var Ko=(e,t)=>{const n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){const r=t.getState(),{zenFeatures:s}=r.params;n.zenFeatures=Object.assign({},s,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(ss(n)),e.userInfo&&t.dispatch(is(e.userInfo))},Yo=n(9),Qo=n.n(Yo);var Zo=(e,t,n=!1)=>{const r=()=>{ft.emit(gt.FIRST_PAINT)};let s;s=e,n?Qo.a.hydrate(s,t,r):Qo.a.render(s,t,r)};const Jo=Object(_n.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,(e,t,n,r,s,i,o)=>({host:e,clid:t,countryCode:n,zenFeatures:r,clientExperiments:s,links:i,userInfo:o}));var Xo=(e,t)=>{let n;const r=()=>{const r=t.getState(),s=Jo(r);void 0!==n&&n===s||(n=s,e.configure(e=>Object.assign({},e,s)))};return r(),t.subscribe(r)};n(301);const ea={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);ea[t]=`-${t.toLowerCase()}`}const ta=e=>(t,n)=>{const[r,s]="string"==typeof t?[t,n]:[null,t];let i=e;return r&&(i+=`__${r}`),s&&Object.keys(s).forEach(e=>{const t=s[e];if(t){const n=(e=>{const{length:t}=e;let n="";for(let r=0;r<t;r++){const t=e[r];n+=ea[t]||t}return n})(e);i+=!0===t?` _${n}`:` _${n}_${t}`}}),i},na=(...e)=>e.filter(e=>e&&"string"==typeof e).join(" ");ta.mix=na;var ra=ta;n(299),n(298),n(297);var sa=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let s=0;s<n.length;s++){const i=n[s],o=t[i],a=e[i];switch(i){case"className":r[i]=na(o,a);break;case"style":r[i]=Object.assign({},a,o);break;default:"on"===i.slice(0,"on".length)&&(r[i]=(e=>{"function"==typeof o&&o(e),"function"==typeof a&&a(e)}))}}return r},ia=n(63);const oa=e=>ra(`${ia["lib-prefix"]}-${e}`),{mix:aa}=ra;oa.mix=aa;var ca=oa;n(296);const la=ca("spinner"),da=100,ua=16,pa=da/2,ha=2e3,ma=2*Math.PI*(pa-ua/2),fa=[.8,.2],ga=.8*(e=>2*Math.PI*e)(pa-ua/2),_a=e=>-.5*(Math.cos(Math.PI*e)-1);class ba extends Ot.a.Component{constructor(...e){var t;return t=super(...e),this.animateDashOffsetFallback=(()=>{const{_circleRef:e}=this;e&&function e(t,n){const r=performance.now();requestAnimationFrame(function s(i){let o=i-r;o>n&&(o=n),t(o),o<n?requestAnimationFrame(s):requestAnimationFrame(()=>e(t,n))})}(t=>{const n=ha/fa.length,r=t%n,s=Math.floor(t/n),i=(s-1+fa.length)%fa.length,o=fa[s]-fa[i];e.style.strokeDashoffset=ma*(fa[i]+o*_a(r/n))},ha)}),t}componentDidMount(){(document.documentMode||/Edge/.test(navigator.userAgent))&&this.animateDashOffsetFallback()}render(){const e=this.props,{size:t}=e,n=Lt(e,["size"]),r=`0 0 ${da} ${da}`,s=(da-ua)/2,i={width:t,height:t},o=sa(n,{className:la(),style:i}),a={strokeWidth:ua};return Ot.a.createElement("svg",Dt({},o,{viewBox:r}),Ot.a.createElement("circle",{ref:e=>this._circleRef=e,style:a,className:la("circle"),strokeDashoffset:ga,cx:"50",cy:"50",r:s}))}}ba.defaultProps={size:20,className:""};class Ea extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),t}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const{duration:e}=this.state;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const{type:e,minOpacity:t,maxOpacity:n}=this.props;switch(e){case"in":return n;case"out":return t}}_getContainerStyle(){const{timingFunction:e,delay:t}=this.props,{value:n,duration:r,withTransition:s}=this.state,i={};return null!==n&&(i.opacity=n),s&&(i.transition=`${r}ms opacity ${e} ${t}ms`),i}_forceContainerReflow(){this._containerElem.offsetHeight}_endTransition({withEndHandlers:e}){e&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},()=>{e&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(){const{getDuration:e,onBeforeStart:t}=this.props,n=parseFloat(getComputedStyle(this._containerElem).opacity),r=this._getEndValue(),s=this._getRemainingTime(),i=r-n;if(0===i)return void this._endTransition({withEndHandlers:!1});const o=e(s,i);0!==o?(t(),this.setState({value:n,duration:o,withTransition:!0},()=>{this._forceContainerReflow(),this.setState({value:r},()=>{this._startTime=Date.now(),this.props.onAfterStart()})})):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}Ea.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};var ya=Ea;const va=ra("feed-loading-progress-view"),ka=()=>100;const Ca=pn(e=>({isVisible:e.iface.feedLoadingProgressVisible}))(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isSpinnerShown:!1},this._ref=null,this._setRef=(e=>this._ref=e),this._disableEvent=(e=>{e.preventDefault(),e.stopPropagation()}),this._onTransitionEnd=(()=>{this.setState({isSpinnerShown:this.props.isVisible})}),this._onTransitionStart=(()=>{this.setState({isSpinnerShown:!0})}),t}componentDidMount(){this._ref&&(this._ref.addEventListener("wheel",this._disableEvent),this._ref.addEventListener("touchmove",this._disableEvent))}componentWillUnmount(){this._ref&&(this._ref.removeEventListener("wheel",this._disableEvent),this._ref.removeEventListener("touchmove",this._disableEvent))}render(){const{isMobile:e,isVisible:t}=this.props,{isSpinnerShown:n}=this.state,r=t||n;return St.createElement("div",{className:va("container"),ref:this._setRef},St.createElement(ya,{triggerKey:t,type:t?"in":"out",onBeforeStart:this._onTransitionStart,onComplete:this._onTransitionEnd,getDuration:ka},({ref:t,style:n})=>St.createElement("div",{className:va({isMobile:e,isVisible:r}),ref:t,style:n},St.createElement(ba,{className:va("spinner"),size:34}),St.createElement("div",{className:va("text")},"Обновляем ленту"))))}});n(107);var wa=e=>{var t,n;return n=t=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isVisible:!1,isIntersecting:!1,isObserving:!1},this._node=null,this._intersectionObserver=null,this._rootRef=(e=>{this._unobserve(),e&&this._observe(e),this.props.rootRef&&this.props.rootRef(e)}),this._onIntersectionChange=(e=>{const{visibilityThreshold:t}=this.props,n=e[e.length-1];this.setState({isIntersecting:n.isIntersecting,isVisible:n.intersectionRatio>=t,isObserving:!0})}),t}_ensureIntersectionObserverInstance(){if(null!==this._intersectionObserver)return;const{root:e,visibilityThreshold:t,rootMargin:n}=this.props,r={root:e,rootMargin:n,threshold:[0,1-t,t,1].sort((e,t)=>e-t)};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,r)}_observe(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver.observe(this._node)}_unobserve(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}componentWillUnmount(){this._unobserve()}render(){const{isVisible:t,isIntersecting:n,isObserving:r}=this.state;return Ot.a.createElement(e,Dt({},this.props,{rootRef:this._rootRef,isVisible:t,isIntersecting:n,isObserving:r}))}},t.defaultProps={visibilityThreshold:.8,rootMargin:"0px 0px 0px 0px"},n},Sa=(n(295),n(13)),Oa=n.n(Sa);const xa=e=>t=>{t(Rr(e,"feedback_more","ITEM_FEEDBACK_LIKE"))},Ta=e=>t=>{t(Rr(e,"feedback_cancel_more","ITEM_FEEDBACK_CANCEL"))},Ia=e=>(t,n)=>{const r=n(),s=Wn(r),i=((e,t)=>{const{id:n,parentId:r,index:s}=t,i=e.videoModal&&e.videoModal.videoFeed[n],o=e.feed.items[n];return o||i||(r&&void 0!==s?e.feed.items[r].items[s]:null)})(r,e),{zenApi:o}=qr(r);"liked"===i.feedback&&t(Ta(e)),t(Rr(e,"feedback_less","ITEM_FEEDBACK_DISLIKE")),s.isExp("ab:invalidate_cache_on_dislike:invalidate_cache_on_dislike")&&o.invalidateCache()},Na=e=>t=>{t(Rr(e,"feedback_cancel_less","ITEM_FEEDBACK_CANCEL"))},Ra=e=>({type:"ITEM_FEEDBACK_CANCEL_BLOCK",payload:{id:e.id}}),Pa=({id:e,targetKey:t,questionType:n})=>({type:"ITEM_FEEDBACK_ANSWER_TOGGLE",payload:{id:e,targetKey:t,questionType:n}}),Aa=({id:e})=>({type:"ITEM_FEEDBACK_ANSWERS_UNCHECK",payload:{id:e}}),Ma=({logger:e})=>()=>{e.log("complain_show")},Da=({source:e,logger:t})=>n=>{t.log("feedback_block"),n((e=>Pr({type:"SOURCE_BLOCK",payload:{id:e}}))(e.id)),n(ts(e.id))},La=({source:e,logger:t})=>n=>{t.log("feedback_cancel_block"),n((e=>Pr({type:"SOURCE_UNBLOCK",payload:{id:e}}))(e.id)),n(ts(e.id))},Ba=({source:e,logger:t})=>n=>{t.log("feedback_favourite"),n((e=>Pr({type:"SOURCE_SUBSCRIBE",payload:{id:e}}))(e.id)),n(ts(e.id))},ja=({source:e,logger:t})=>n=>{t.log("feedback_cancel_favourite"),n((e=>Pr({type:"SOURCE_UNSUBSCRIBE",payload:{id:e}}))(e.id)),n(ts(e.id))},Fa={subscribed:ja,blocked:La,not_subscribed:Ba},Ua=e=>Fa[e.source.status](e),za={subscribed:ja,blocked:La,not_subscribed:Da},Va=e=>za[e.source.status](e),Ha={subscribed:ja,blocked:Ba,not_subscribed:Ba},Wa=e=>Ha[e.source.status](e),$a={subscribed:Da,blocked:La,not_subscribed:Da},Ga=e=>$a[e.source.status](e),qa=pn(null,Br({onToggleBlock:Va,onToggleSubscribe:Ua,onShortToggleBlock:Ga,onShortToggleSubscribe:Wa,onBlock:Da,onUnblock:La,onSubscribe:Ba,onUnsubscribe:ja,onDislike:({source:e,logger:t})=>n=>{t.log("feedback_less"),n((e=>Pr({type:"SOURCE_DISLIKE",payload:{id:e}}))(e.id)),n(ts(e.id))},onComplain:Ma}),null,{pure:!1}),Ka=pn(null,Br({onToggleBlock:Va,onToggleSubscribe:Ua,onShortToggleBlock:Ga,onShortToggleSubscribe:Wa,onBlock:Da,onUnblock:La,onSubscribe:Ba,onUnsubscribe:ja,onComplain:Ma}),null,{pure:!1});var Ya=qa;n(294),n(293);var Qa=class{constructor(){this._listenerRemovers=[]}add(e,t,n,r){e.addEventListener(t,n,r);const s=()=>{e.removeEventListener(t,n,r),this._listenerRemovers=this._listenerRemovers.filter(e=>e!==s)};return this._listenerRemovers=this._listenerRemovers.concat(s),s}clear(){this._listenerRemovers.forEach(e=>{e()})}};var Za=(e,t)=>{const n=Object.keys(e),r={};for(let s=0;s<n.length;s++){const i=n[s];-1===t.indexOf(i)&&(r[i]=e[i])}return r};const Ja=ca("button");function Xa(e){let{className:t,size:n,children:r}=e,s=Lt(e,["className","size","children"]);return Ot.a.createElement("span",Dt({className:ca.mix(Ja("icon",{size:n}),t)},s),r)}class ec extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._listenerStorage=new Qa,this._isMounted=!1,this._containerRef=(e=>{this._containerElem=e;const{containerRef:t}=this.props;"function"==typeof t&&t(e)}),t}_setState(e){return new Promise(t=>{this._isMounted&&this.setState(e,t)})}_setStateOnNextTick(e){return Nr(0).then(()=>this._setState(e))}_addHoverHandlers(){this._listenerStorage.add(this._containerElem,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(this._containerElem,"mouseleave",()=>{this.setState({isHovered:!1})})}_addActiveHandlers(){const[e,t]="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"];this._listenerStorage.add(this._containerElem,e,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,t,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._isMounted=!1,this._listenerStorage.clear()}render(){const e=this.props,{tag:t,size:n,viewType:r,icon:s,iconClass:i,renderIcon:o,children:a,widthType:c}=e,l=Lt(e,["tag","size","viewType","icon","iconClass","renderIcon","children","widthType"]),{isHovered:d,isActive:u,isTransitionEnabled:p}=this.state,h=Boolean(s||o),m=s?{backgroundImage:`url(${s})`}:null,f=sa(Za(l,["containerRef"]),{className:Ja({size:n,viewType:r,isHovered:d,isActive:u,isTransitionEnabled:p,hasIcon:h,"width-type":c})});return Ot.a.createElement(t,Dt({ref:this._containerRef},f),Ot.a.createElement("div",{className:Ja("content-wrapper")},h&&Ot.a.createElement(Xa,{size:n,style:m,className:i},o&&o()),a))}}ec.defaultProps={tag:"button",widthType:"regular"};var tc=Object(St.forwardRef)((e,t)=>Ot.a.createElement(ec,Dt({},e,{containerRef:t})));const nc=e=>e.displayName||e.name||"Component";var rc=e=>{class t extends St.Component{constructor(...e){var t;return t=super(...e),this.answerSelector=(e=>this.props.question.answers.filter(({id:t})=>t===e)[0]),this.onShow=(()=>{const{question:e}=this.props,{answers:t}=e;this.props.logger.log("custom_user_feedback_show",{local:{__uq__:e.id,__ua__:t.map(({id:e})=>e).join(","),__ut__:e.type,__uat__:t.map(({type:e})=>e).join(",")}})}),this.onCheck=((e,t,n)=>{const{itemToggleAnswer:r,question:s}=this.props,i=s.type,o=this.answerSelector(e);if(n===o.isChecked)return;const a=n?"custom_user_feedback":"custom_user_feedback_cancel";this.props.logger.log(a,{local:{__uq__:s.id,__ua__:o.id,__ut__:s.type,__uat__:o.type}}),r({id:s.id,targetKey:t,questionType:i})}),t}render(){const{props:t,onShow:n,onCheck:r,answerSelector:s}=this;if(!t.question)return null;const{answers:i}=t.question,{text:o}=t.question,a={onShow:n,onCheck:r,answerSelector:s,answers:i,text:o};return Ot.a.createElement(e,Dt({},t,a))}}t.displayName=`WithQuestionLogic(${nc(e)})`;const n=Br({itemToggleAnswer:Pa});return pn(()=>{const e=_s();return(t,{id:n})=>({logger:e(t.feed.items[n])})},n)(t)};var sc=e=>{class t extends St.Component{constructor(...e){var t;return t=super(...e),this.onCheck=((e,t,n)=>{const{answerSelector:r,onCheck:s}=this.props,i=r(e);s(e,t,n),n!==i.isChecked&&(n?i.onBlock():i.onUnblock())}),t}render(){const{props:t,onCheck:n}=this,r={onCheck:n};return Ot.a.createElement(e,Dt({},t,r))}}return t.displayName=`FeedbackDislikeOptionQuestionLogic(${nc(e)})`,rc(t)};class ic extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isPageVisible:Vr()},this._start=0,this._isStatSent=!1,this._isDeepwatchStatSent=!1,this._timer=null,this._unsubscribe=null,this._sendShowStatOnce=(()=>{const{logger:e,onShow:t,sendShow:n}=this.props;this._isStatSent||(e&&n&&e.log("show"),t&&t(),this._isStatSent=!0)}),this._sendDeepwatch=(()=>{const{logger:e,onDeepwatch:t,sendDeepwatch:n}=this.props;this._isDeepwatchStatSent||(e&&n&&e.log("deepwatch",{local:{__t__:~~((Date.now()-this._start)/1e3)}}),t&&t(),this._isDeepwatchStatSent=!0)}),this._updateTimer=(()=>{const{isVisible:e,timeout:t}=this.props,{isPageVisible:n}=this.state;e&&n?null===this._timer&&(this._timer=setTimeout(this._sendShowStatOnce,t),this._start=Date.now()):this._stopTimer()}),this._stopTimer=(()=>{const{timeout:e}=this.props;null!==this._timer&&(clearTimeout(this._timer),Date.now()>this._start+e&&this._sendShowStatOnce(),this._timer=null)}),t}componentDidMount(){this._updateTimer(),this._unsubscribe=Hr(e=>{this.setState({isPageVisible:e})})}componentDidUpdate(e,t){const{isVisible:n,shouldResetOnVisibilityChange:r}=this.props,{isPageVisible:s}=this.state;r&&t.isPageVisible!==s&&(this._isStatSent=!1,this._isDeepwatchStatSent=!1),this._updateTimer(),!(this._isStatSent&&e.isVisible&&t.isPageVisible)||n&&s||this._sendDeepwatch()}componentWillUnmount(){this._stopTimer(),this._unsubscribe&&this._unsubscribe()}render(){const{children:e}=this.props;return void 0===e?null:e}}ic.defaultProps={timeout:800,shouldResetOnVisibilityChange:!1,sendShow:!0,sendDeepwatch:!1};var oc=ic;n(292);const ac=ra("feedback-dislike-options-view"),cc="SPINNER_ROLL",lc="SPINNER_OK",dc=800;var uc=class extends St.Component{constructor(...e){var t;return t=super(...e),this.state={spinnerStatus:!1},this._containerRef=(e=>{const{rootRef:t}=this.props;t&&t(e)}),this.renderStatus=(()=>{const{spinnerStatus:e}=this.state,t=this.props.answers.some(({isChecked:e})=>e);let n=!1;return e===cc&&(n="roll"),e===lc&&(n="ok"),t&&n||(n="none"),Ot.a.createElement("div",{className:ac("status",{[n]:!0})},Ot.a.createElement("div",{className:ac("status-icon")}),Ot.a.createElement("div",{className:ac("status-text")},"Выбор сохранён"))}),this.setSpinnerOk=rt(()=>{this.state.spinnerStatus===cc&&this.setState({spinnerStatus:lc})},dc),this.renderItem=(({id:e,text:t,isChecked:n},r)=>{const{onCheck:s}=this.props;return Ot.a.createElement("div",{className:ac("list-item",{selected:n}),key:r,onClick:()=>{s(e,r,!n),this.setState({spinnerStatus:cc},this.setSpinnerOk())}},t)}),t}render(){const{answers:e,text:t,isVisible:n,onShow:r,showLoggerTimeout:s}=this.props;return Ot.a.createElement(oc,{isVisible:n,onShow:r,timeout:s},Ot.a.createElement("div",{ref:this._containerRef,className:ac()},Ot.a.createElement("div",{className:ac("question-text")},t),Ot.a.createElement("div",{className:ac("list")},e.map(this.renderItem)),this.renderStatus()))}};var pc=Object(Do.a)(sc,wa,pn(e=>{return{showLoggerTimeout:$n(e).safeGet("rezen_extend_feedback.show_logger_timeout",800)}}))(uc),hc=n(62),mc=n(61);const fc=ra("feedback-card-view");var gc=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderIcon=(e=>{const{isMobile:t}=this.props;switch(e){case"complain":return Ot.a.createElement(hc.a,{className:fc("icon",{isMobile:t})});case"action":return Ot.a.createElement(mc.a,{className:fc("icon",{isMobile:t})});default:return null}}),this._renderButton=((e,t)=>{if(!t)return null;const{onClick:n,text:r}=t,{isMobile:s}=this.props;return"cancel"!==e||s?Ot.a.createElement("button",{className:fc("button",{type:e,isMobile:s}),onClick:n},this._renderIcon(e),Ot.a.createElement("div",null,r)):Ot.a.createElement(tc,{size:"m",tab:"button",viewType:"border",className:fc("button",{type:"cancel"}),onClick:n},r)}),this._renderButtons=(()=>{const{complainLinkButton:e,complainButton:t,cancelButton:n,actionButton:r,isHiddenCancelButton:s}=this.props;return Ot.a.createElement("div",{className:fc("buttons")},this._renderButton("action",r),this._renderButton("complain",e),this._renderButton("complain",t),s?null:this._renderButton("cancel",n))}),this._renderHeader=(()=>{const{id:e,dislikeQuestion:t,isExtendFeedbackEnabled:n,isMobile:r,description:s,title:i}=this.props;return n?Ot.a.createElement(pc,{id:e,question:t}):Ot.a.createElement("div",{className:fc("text",{isMobile:r})},i," ",s)}),t}render(){const{size:e,theme:t,place:n}=this.props;return Ot.a.createElement("div",{className:fc({size:e,theme:t,place:n})},this._renderHeader(),this._renderButtons())}};n(288);const _c=ra("feedback-popup-view");var bc=e=>{const{mainColor:t,className:n,children:r,isNegativeFeedback:s}=e,i={state:s?"opened":"closed"};return Ot.a.createElement("div",{className:ra.mix(_c(i),n)},Ot.a.createElement("div",{style:{background:t},className:_c("fog")}),Ot.a.createElement("div",{className:_c("wrapper")},Ot.a.createElement("div",{className:_c("popup")},r)))};n(287);const Ec=ra("complaints-card");var yc=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={selectedReasonIds:new Set},this._contentRef=(e=>this._contentElem=e),this._bottomRef=(e=>this._bottomElem=e),this._onButtonClick=(()=>{const{cancelButton:e,actionButton:t}=this.props,{selectedReasonIds:n}=this.state;n.size?t.onClick({reasonIds:Array.from(n)}):e.onClick()}),t}_onReasonClick(e){this.setState(({selectedReasonIds:t})=>{const n=t.has(e),r=new Set(t);return n?r.delete(e):r.add(e),{selectedReasonIds:r}})}_renderReasonsColumn(e){const{selectedReasonIds:t}=this.state;return e.map(({id:e,text:n})=>{const r=t.has(e);return Ot.a.createElement("div",{key:e,className:Ec("reason",{selected:r}),onClick:()=>this._onReasonClick(e)},Ot.a.createElement("div",{className:Ec("reason-checkbox")}),Ot.a.createElement("div",{className:Ec("reason-label")},n))})}_renderReasons(){const{size:e,reasons:t}=this.props;if(e===z)return Ot.a.createElement("div",{className:Ec("reasons")},this._renderReasonsColumn(t));const n=Math.ceil(t.length/2);return Ot.a.createElement("div",{className:Ec("reasons")},Ot.a.createElement("div",{className:Ec("reasons-column")},this._renderReasonsColumn(t.slice(0,n))),Ot.a.createElement("div",{className:Ec("reasons-column")},this._renderReasonsColumn(t.slice(n))))}componentDidMount(){const e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":`${e}px`,this._bottomElem.style.left=t?`${e}px`:""}render(){const{size:e,title:t,cancelButton:n,actionButton:r,theme:s,place:i}=this.props,{selectedReasonIds:o}=this.state,[a,c]=o.size?[r,"action"]:[n,"cancel"];return Ot.a.createElement("div",{className:Ec({size:e,theme:s,place:i})},Ot.a.createElement("div",{className:Ec("content"),ref:this._contentRef},Ot.a.createElement("div",{className:Ec("title")},t),this._renderReasons()),Ot.a.createElement("div",{className:Ec("bottom"),ref:this._bottomRef},Ot.a.createElement("button",{className:Ec("button",{type:c}),onClick:this._onButtonClick},a.text)))}};const vc={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:e=>"Заблокировать %domain".replace("%domain",e.domainTitle)},blockCard:{title:`${"Источник заблокирован"}.`,description:e=>"Вы не будете видеть публикации %source в своей ленте.".replace("%source",e.domainTitle),complainButtonText:"Пожаловаться",cancelButtonText:"Отменить"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.",complainLinkText:"Сообщить о нарушении прав"}},kc={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",cancelButtonText:"Отменить"}};var Cc={[I]:vc,[N]:vc,[D]:vc,[M]:vc,[L]:kc};const wc="https://yandex.ru/support/abuse/troubleshooting/zen/list.html";const Sc=Br({itemCancelDislike:Na,itemBlock:e=>({type:"ITEM_FEEDBACK_BLOCK",payload:{id:e.id}}),itemUnblock:Ra,itemOpenComplaints:e=>t=>{t(Rr(e,"complain_show","ITEM_COMPLAINTS_OPEN"))},itemSendComplaints:e=>t=>{t(Rr(((e,t,n)=>Object.assign({},e,{statEvents:Object.assign({},e.statEvents,{[t]:Object.keys(n).reduce((e,t)=>e.replace(t,n[t]),e.statEvents[t])})}))(e,"complain_click",{__reasons__:e.reasonIds.join(",")}),"complain_click","ITEM_COMPLAINTS_SEND"))},itemCancelComplaints:({id:e})=>({type:"ITEM_COMPLAINTS_CANCEL",payload:{id:e}})}),Oc=Object(Do.a)(Ya,pn((e,{cancelExtendFeedbackPopupExp:t})=>{const n=Wn(e),r=$n(e),s=n.isExp("ab:extend_feedback:extend_feedback"),i=n.isExp("rezen_official_complaints"),o=!t&&r.safeGet("rezen_extend_feedback.is_popup",!1);return{isExtendFeedbackExp:s,isExtendFeedbackPopupExp:o,isOfficialComplains:i,place:o?"popup":null}},Sc))(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._openComplaints=(()=>{const{itemOpenComplaints:e}=this.props;e()}),this._onComplainLinkClick=(()=>{window.open(wc,"_blank")}),this._sendComplaints=(e=>{const{itemSendComplaints:t}=this.props;t(e)}),this._cancelComplaints=(()=>{const{itemCancelComplaints:e}=this.props;e()}),this._onBlock=(()=>{const{onBlock:e,itemBlock:t}=this.props;e(),t()}),this._onUnblock=(()=>{const{onUnblock:e,itemUnblock:t}=this.props;e(),t()}),t}_getTexts(e){const{type:t}=this.props,n=Cc[t][e],r=Object.keys(n),s={};for(let e=0;e<r.length;e++){const t=r[e],i=n[t];s[t]="function"==typeof i?i(this.props):i}return s}_renderDislikeCard(){const{id:e,size:t,isMobile:n,itemCancelDislike:r,theme:s,dislikeQuestion:i,isExtendFeedbackExp:o,isExtendFeedbackPopupExp:a,complaints:c,type:l,place:d}=this.props,{title:u,description:p,complainButtonText:h,cancelButtonText:m,actionButtonText:f}=this._getTexts("dislikeCard"),g=(o||a)&&i,_={size:t,title:u,description:p,complainButton:l===A||c||!h?null:{text:h,onClick:this._openComplaints},cancelButton:{text:m,onClick:r},actionButton:f?{text:f,onClick:this._onBlock}:null,theme:s,isMobile:n,isExtendFeedbackEnabled:g,dislikeQuestion:i,id:e,isHiddenCancelButton:a,place:d};return Ot.a.createElement(gc,_)}_renderBlockCard(){const{id:e,size:t,isMobile:n,theme:r,dislikeQuestion:s,complaints:i,type:o,place:a}=this.props,{title:c,description:l,complainButtonText:d,cancelButtonText:u}=this._getTexts("blockCard"),p={size:t,title:c,description:l,complainButton:o===A||i?null:{text:d,onClick:this._openComplaints},cancelButton:{text:u,onClick:this._onUnblock},theme:r,isMobile:n,dislikeQuestion:s,id:e,place:a};return Ot.a.createElement(gc,p)}_renderComplaintsCard(){const{size:e,complaintReasons:t,theme:n,isIntersecting:r,place:s}=this.props,{title:i,cancelButtonText:o,actionButtonText:a}=this._getTexts("complaintsCard"),c={size:e,title:i,reasons:t,cancelButton:{text:o,onClick:this._cancelComplaints},actionButton:{text:a,onClick:this._sendComplaints},theme:n,isIntersecting:r,place:s};return Ot.a.createElement(yc,c)}_renderComplaintsDialogCard(){const{id:e,size:t,isMobile:n,theme:r,dislikeQuestion:s,feedback:i,isOfficialComplains:o,complaints:a,place:c}=this.props,{title:l,description:d,complainLinkText:u}=this._getTexts("complaintsDialogCard");let p=null;if("disliked"===i){const{actionButtonText:e}=this._getTexts("dislikeCard");p={text:e,onClick:this._onBlock}}const h={size:t,title:l,description:d,actionButton:p,complainLinkButton:o?{text:u,onClick:this._onComplainLinkClick}:null,theme:r,isMobile:n,dislikeQuestion:s,id:e,complaints:a,place:c};return Ot.a.createElement(gc,h)}_renderFeedbackCard(){const{feedback:e,complaints:t,complaintsSendedAt:n}=this.props;if("opened"===t)return this._renderComplaintsCard();if("sended"===t&&n===e)return this._renderComplaintsDialogCard();switch(e){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}}_renderFeedbackPopupView(){const{feedback:e,mainColor:t,className:n}=this.props,r={className:n,mainColor:t,isNegativeFeedback:e&&"liked"!==e};return Ot.a.createElement(bc,r,this._renderFeedbackCard())}render(){const{feedback:e,isMobile:t,isExtendFeedbackPopupExp:n}=this.props;return e&&"liked"!==e||n?n&&!t?this._renderFeedbackPopupView():this._renderFeedbackCard():null}});var xc=e=>{const t=e.feedback&&"liked"!==e.feedback;return Ot.a.createElement(Oa.a,{component:St.Fragment,transitionName:"_transition",transitionEnterTimeout:400,transitionLeaveTimeout:400},t?Ot.a.createElement(Oc,e):null)};const Tc=e=>{if(!e)return null;let t=e.match(/^#([0-9a-f]{3})$/i);return t?(t=t[1],[17*parseInt(t.charAt(0),16),17*parseInt(t.charAt(1),16),17*parseInt(t.charAt(2),16)]):(t=e.match(/^#([0-9a-f]{6})$/i))?(t=t[1],[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]):(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null},Ic=(e,t,n)=>{return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},Nc=({cardColors:e,read:t,mainColor:n,isDesktop:r})=>{if(t&&!r)return!1;if(n){const[e,t,r]=Tc(n);return Ic(e,t,r)}if(e){const[t,n,r]=Tc(e.card);return Ic(t,n,r)}return!1},Rc={card:"#FFFFFF",text:"#000000"};var Pc=e=>{try{const[t,n,r]=Tc(e),[s,i,o]=function(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n),i=(r+s)/2,o=r-s;if(0===o)return[0,0,i];const a=i>.5?o/(2-r-s):o/(r+s);switch(r){case e:return[((t-n)/o+(t<n?6:0))/6,a,i];case t:return[((n-e)/o+2)/6,a,i];case n:return[((e-t)/o+4)/6,a,i]}}(t,n,r),a=i<=.35&&o>=.9,c=Ic(t,n,r);return{isDarkImage:c,card:a?"#FFFFFF":e,text:c?"#FFFFFF":"#000000"}}catch(e){return console.error(e),Rc}};const Ac=e=>({type:"DOC_SHOW",statEvent:"show",payload:{id:e}}),Mc=e=>({type:"DOC_CLICK",statEvent:"click",payload:{id:e}});n(285);const Dc=new Set,Lc=new Map;let Bc;"undefined"!=typeof document&&window.addEventListener("resize",()=>{Bc=Date.now(),Dc.forEach(e=>{Lc.set(e,Bc),e.props.onResize()})});var jc=class extends St.PureComponent{componentDidMount(){this.props.isIntersecting&&Dc.add(this),Lc.set(this,Date.now())}componentDidUpdate(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){const e=Lc.get(this);Bc&&(!e||e<Bc)&&(Lc.set(this,Date.now()),this.props.onResize()),Dc.add(this)}else Dc.delete(this)}componentWillUnmount(){this.props.isIntersecting&&Dc.delete(this)}render(){const{children:e}=this.props;return void 0===e?null:e}};var Fc=()=>{let e,t;return(...n)=>{if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,n))return t;const r=e=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r(e):r&&(r.current=e)}};return e=n,t=r,r}},Uc=n(15),zc=n.n(Uc),Vc={measure:e=>new Promise(t=>{zc.a.measure(()=>{t(e())})}),mutate:e=>new Promise(t=>{zc.a.mutate(()=>{t(e())})}),measureAndMutate:(e,t)=>new Promise(n=>{let r;zc.a.measure(()=>{r=e()}),zc.a.mutate(()=>{n(t(r))})})};const{hasOwnProperty:Hc}=Object.prototype;var Wc=function(e,t,n){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let s=0;s<r.length;s++)if(!(n&&n.includes(r[s])||Hc.call(t,r[s])&&Object.is(e[r[s]],t[r[s]])))return!1;return!0},$c=e=>"string"==typeof e?e:Ot.a.Children.only(e);var Gc=(e,t)=>{"string"!=typeof t&&Ot.a.Children.only(t)};const qc=(e,t)=>{const n=e[t-1];return"."===n||","===n||"…"===n?t-1:t};n(84);const Kc=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,Yc=/\S/,Qc=e=>0!==e.width&&0!==e.height,Zc=e=>{const t=(e=>{const t=[],n=e=>{const{childNodes:r}=e;for(let e=0;e<r.length;e++){const s=r[e];switch(s.nodeType){case Node.ELEMENT_NODE:n(s);break;case Node.TEXT_NODE:t.push(s)}}};return n(e),t})(e),n=[];let r="";for(let e=0;e<t.length;e++){const s=t[e],i=r+s.nodeValue;n.push({node:s,startIndex:r.length,endIndex:i.length}),r=i}return{textContent:r,createRange:(e,t)=>{let r,s;for(let i=0;i<n.length;i++){const o=n[i];if(!r&&e>=o.startIndex&&e<o.endIndex&&(r=o),!s&&t<=o.endIndex&&t>o.startIndex&&(s=o),r&&s){const n=document.createRange();return n.setStart(r.node,e-r.startIndex),n.setEnd(s.node,t-s.startIndex),n}}return null}}},Jc=(e,t,n)=>{let r,s;switch(e){case"horizontal":r="left",s="right";break;case"vertical":r="top",s="bottom"}const i=t[r]-n[r],o=n[s]-t[s];let a=0;return i<0&&(a+=i),o<0&&(a+=o),!(a<0)||Math.abs(a)<=(1-.8)*t.height},Xc=(e,t)=>{const{textContent:n,createRange:r}=t;let s=null,i=null;const o=()=>{const t=i?i.valueEndIndex:0,a=null===s?Kc:Yc,c=n.slice(t).match(a);if(!c)return{done:!0};const l=c[0],d=t+c.index,u=d+l.length,p=r(d,u);let h;if(null===s){const e=p.getClientRects();if(e.length>1)return s=u,o();h=e[0]}else u>=s&&(s=null),h=p.getBoundingClientRect();const m=i?i.index+1:0,f=i?((e,t)=>{return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1})(h,i):0,g=((e,t)=>Jc("horizontal",e,t)&&Jc("vertical",e,t))(h,e);return{value:i={value:l,valueStartIndex:d,valueEndIndex:u,index:m,lineIndex:f,isVisible:g,rect:h},done:!1}};return{next:o,[Symbol.iterator]:()=>({next:o})}};var el=({containerElem:e,textElem:t,onlyVisibleTokens:n=!1,linesLimit:r})=>{const s=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(!Qc(s)||!Qc(i))return null;const o=Zc(t),a=Xc(s,o),c=[],l=[];let d=null,u=!0;for(let e of a){if(e.isVisible)d=e;else if(u=!1,n)break;if(c.push(e),l[e.lineIndex]||(l[e.lineIndex]=[]),l[e.lineIndex].push(e),r&&l.length===r)break}return{containerElem:e,containerRect:s,textElem:t,textRect:i,onlyVisibleTokens:n,tokens:c,lines:l,lastVisibleToken:d,isTextFits:u}};n(284);const tl=ra("clamp");class nl extends St.Component{constructor(...e){var t;return t=super(...e),this.state={visibilitySplitIndex:$c(this.props.children).length,lineCount:null,isEllipsisNeeded:!1},this._composeContainerRefs=Fc(),this._isMounted=!1,this._isPropsChanged=!1,this._containerRef=(e=>{this._containerElem=e}),this._textRef=(e=>this._textElem=e),t}_withValidation(e,t){return(...n)=>this._isMounted&&this._containerElem&&this._textElem?e&&e(...n):t&&t(...n)}_setState(e){return new Promise(t=>{this.setState(e,t)})}_hide(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})}clamp(){const{shouldResetLineCount:e}=this.props;return new Promise((t,n)=>{const r=()=>{n(new Error("Not applied 'clamp' call."))};this._isMounted||r(),(e?this._setState({lineCount:null}):Promise.resolve()).then(()=>Vc.measure(this._withValidation(()=>el({containerElem:this._containerElem,textElem:this._textElem,onlyVisibleTokens:!0}),()=>null))).then(e=>{if(!e)return r();if(!e.lastVisibleToken)return this._hide();const{minLineCount:t}=this.props,n=e.lines.length,s=!e.isTextFits,i=e.lastVisibleToken.valueEndIndex;return n<t&&s?this._hide():this._setState({visibilitySplitIndex:i,lineCount:n,isEllipsisNeeded:s})}).then(t,r)}).catch(e=>{})}componentDidMount(){this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this.clamp()):this.clamp())}componentWillReceiveProps(e){const t=$c(this.props.children),n=$c(e.children);t!==n&&this.setState(e=>0===e.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:n.length,lineCount:null,isEllipsisNeeded:!1})}shouldComponentUpdate(e,t){const n=Wc(this.props,e,["children"]),r=Wc(this.state,t),s=Wc(this.props.children,e.children);return this._isPropsChanged=!n||!s,!n||!r||!s}componentDidUpdate(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}componentWillUnmount(){this._isMounted=!1}render(){const{className:e,style:t,fitToSpace:n,domRef:r,children:s,component:i="span"}=this.props,{visibilitySplitIndex:o,lineCount:a,isEllipsisNeeded:c}=this.state,l=$c(s);Gc("Clamp",s);const d={"line-count":null===a?null:String(a)},u=e?`${tl(d)} ${e}`:tl(d),p=c?qc(l,o):o,h=l.slice(0,p),m=l.slice(p);return Ot.a.createElement("div",{className:u,style:t,ref:this._composeContainerRefs(this._containerRef,r)},Ot.a.createElement("div",{className:tl("wrapper")},Ot.a.createElement("div",{className:tl("text"),ref:this._textRef},Ot.a.createElement(i,{className:tl("visible-tokens",{ellipsis:c})},h),Ot.a.createElement("span",{className:tl("invisible-tokens")},m),Ot.a.createElement("div",{className:tl("spacer")}))),n?null:Ot.a.createElement("div",{className:tl("text-expand")},s))}}nl.defaultProps={minLineCount:1,withAutoClamp:!0,shouldResetLineCount:!0};var rl=n(60);function sl(){return new Promise(e=>requestAnimationFrame(()=>e()))}n(283);const il=ra("mittens-view");class ol extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={canShowAnimations:!1},t}async componentDidMount(){this._isMounted=!0,await sl(),await sl(),this._isMounted&&this.setState({canShowAnimations:!0})}componentWillUnmount(){this._isMounted=!1}_getSizes(){const{width:e,height:t,ratio:n}=rl[this.props.size];return{width:parseInt(e,10),height:parseInt(t,10),ratio:n}}_renderMittensSvg(e){const{color:t}=this.props,{width:n,height:r,ratio:s}=this._getSizes(),i=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return Ot.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:`0 0 ${n} ${r}`},Ot.a.createElement("path",{transform:`scale(${s}, ${s}) ${i}`,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))}render(){const{canShowAnimations:e}=this.state,{onlyLike:t,onLikeClick:n,onDislikeClick:r,size:s,cursor:i,liked:o,disliked:a,blocked:c,jump:l,className:d="",isExtendFeedbackPopupExp:u,type:p}=this.props,h=a||c,m={size:s,jump:l,type:p,hasActive:o||h,hasDisliked:h,canShowAnimations:!u&&e};return Ot.a.createElement("div",{className:ra.mix(il(m),d)},Ot.a.createElement("div",{className:il("mitten",{active:o}),onClick:n,style:{cursor:i}},this._renderMittensSvg(!1)),t?null:Ot.a.createElement("div",{className:il("mitten",{active:h}),onClick:r,style:{cursor:i}},this._renderMittensSvg(!0)))}}ol.defaultProps={size:"small",cursor:"pointer",color:"#000"};var al=e=>{var t,n;return n=t=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._loggerSelector=_s(),t}render(){return Ot.a.createElement(e,Dt({},this.props,{logger:this._loggerSelector(this.props)}))}},t.displayName=`WithBulkStatLogger(${nc(e)})`,n};var cl=e=>{class t extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onLike=(e=>{e.preventDefault(),e.stopPropagation();const{feedback:t,itemLike:n,itemCancelLike:r,onLike:s,onCancelLike:i}=this.props;"liked"===t?r():"disliked"===t||"blocked"===t?(this._cancelDislike(),n()):n();const o="liked"===t?i:s;o&&o(e)}),this._onDislike=(e=>{e.preventDefault(),e.stopPropagation();const{feedback:t,itemDislike:n,onDislike:r,onCancelDislike:s}=this.props;"disliked"===t||"blocked"===t?this._cancelDislike():"liked"===t?(Ta(),n()):n();const i="disliked"===t?s:r;i&&i(e)}),t}_uncheckAllAnswers(){const{dislikeQuestion:e,itemUncheckAllAnswers:t}=this.props;e&&(e.answers.forEach(e=>{e.isChecked&&e.onUnblock&&e.onUnblock()}),t())}_cancelDislike(){const{feedback:e,itemCancelDislike:t,isExtendFeedbackPopupExp:n,onUnblock:r,source:s,logger:i}=this.props;t(),"blocked"===e&&r(s,i),n&&this._uncheckAllAnswers()}render(){const{feedback:t,isMittensJumping:n}=this.props;return Ot.a.createElement(e,Dt({},this.props,{liked:"liked"===t,disliked:"disliked"===t,blocked:"blocked"===t,jump:n,onLikeClick:this._onLike,onDislikeClick:this._onDislike}))}}t.displayName=`WithMittensActor(${nc(e)})`;const n=Br({itemLike:xa,itemDislike:Ia,itemUnblock:Ra,itemCancelLike:Ta,itemCancelDislike:Na,itemUncheckAllAnswers:Aa});return Object(Do.a)(pn(()=>{const e=Ps();return(t,{id:n})=>{const r=(or(t)?e:Ns)(t,n),s=$n(t).safeGet("rezen_extend_feedback.is_popup",!1),i=t.feed.items[n];return{isExtendFeedbackPopupExp:s,dislikeQuestion:r,source:i&&i.source&&t.sources[i.source]}}},n),al,Ka)(t)},ll=cl(ol);n(282);const dl=new Map,ul="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let pl;ul&&(window&&"function"!=typeof window.CustomEvent&&(fl.prototype=window.Event.prototype,window.CustomEvent=fl),pl=new fl("visible"));const hl=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(pl)})},ml=(e,t)=>{const n=JSON.stringify(t);if(dl.has(n))return dl.get(n);const r=new IntersectionObserver(hl,t);return dl.set(n,r),r};function fl(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var gl=(e,t,n)=>new Promise((r,s)=>{const i=()=>{const t=new Image;t.onload=r,t.onerror=s,t.src=e};if(ul&&t&&n){const e=ml(hl,n),r=()=>{i(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else i()}),_l=n(11),bl=n.n(_l);const El=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,yl={rootMargin:"0px 0px 500px 0px"};class vl extends St.PureComponent{constructor(e){super(e),this._setImageLoaded=bl()(()=>this.setState({isImageLoaded:!0})),this.state={isImageLoaded:!1}}componentDidMount(){this._loadImage()}componentWillUnmount(){this._setImageLoaded.cancel()}componentDidUpdate(e){this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:!1},()=>{this._loadImage()})}_getLazyLoadingOptions(){const{lazyLoadingOptions:e={},defaultLazyLoadingFromExperiment:t={}}=this.props;return Object.assign({},yl,t,e)}_loadImage(){if(this.state.isImageLoaded)return;const{imageUrl:e}=this.props;if(!e)return;const t=this.props.isImageLazyLoadEnabled?this._container:null,n=this._getLazyLoadingOptions();gl(e,t,n).then(()=>this._setImageLoaded())}render(){const{renderImage:e,renderPlaceholder:t,wrapperClass:n}=this.props,{isImageLoaded:r}=this.state;return Ot.a.createElement("div",{className:n,ref:e=>this._container=e},t&&t(r),e(r))}}vl.defaultProps={isImageLazyLoadEnabled:!1};var kl=pn(e=>{const t=Wn(e).findExps(El)[0],n={};if(t){const e=El.exec(t);n.defaultLazyLoadingFromExperiment={rootMargin:`${e[1]}px ${e[2]}px ${e[3]}px ${e[4]}px`}}return n})(vl);const Cl={smallImage:"si",bigImage:"bi",backgroundCardImage:"bci",mediumImage:"mi"},wl=ra("doc-image");class Sl extends St.PureComponent{constructor(e){super(e),this._renderPlaceholder=(e=>{const{color:t,size:n,blurredPreview:r,gradientType:s}=this.props;let i=this.mode===Cl.backgroundCardImage&&!e||this.mode===Cl.smallImage||this.mode===Cl.bigImage||this.mode===Cl.mediumImage;return Ot.a.createElement("div",null,Ot.a.createElement(xl,{blurredPreview:r,mode:this.mode}),Ot.a.createElement(Ol,{color:t,size:n,mode:this.mode,isVisible:i,gradientType:s}))}),this._renderImage=(e=>{const{aspectRatioMode:t,isBlurred:n,imageStyle:r}=this.props,s=this._getImageUrl(),i=e&&s?`url(${s})`:null,o=wl("image",{mode:this.mode,"is-loaded":e,"aspect-ratio":t,"is-blurred":n});return Ot.a.createElement("div",{className:o,style:Object.assign({},r,{backgroundImage:i})})}),this.mode=this._getImageMode()}_getImageMode(){const{size:e,cardBackgroundImage:t,forcedMode:n}=this.props;return e===V?Cl.bigImage:n===Cl.backgroundCardImage&&t?Cl.backgroundCardImage:n===Cl.smallImage?Cl.smallImage:n===Cl.mediumImage?Cl.mediumImage:t?Cl.backgroundCardImage:Cl.smallImage}_getImageUrl(){const{theme:e,image:t,bigImage:n,cardBackgroundImage:r,cardBackgroundWhiteImage:s}=this.props;switch(this.mode){case Cl.bigImage:case Cl.mediumImage:return n;case Cl.smallImage:return t;case Cl.backgroundCardImage:return"white"===e?s:r}}render(){const{isImageLazyLoadEnabled:e}=this.props;return Ot.a.createElement("div",{className:wl()},Ot.a.createElement(kl,{imageUrl:this._getImageUrl(),renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:wl("wrap")}))}}const Ol=({color:e,size:t,mode:n,isVisible:r,gradientType:s="linear"})=>{const i=Tc(e).join();let o="",a="";const c=[`rgba(${i},1) 0%`,`rgba(${i},0.85) 10%`,`rgba(${i},0.6) 20%`,`rgba(${i},0) 50%`];return o={background:a="radial"===s?`radial-gradient(ellipse at right 50% , ${[`rgba(${i},0) 36%`,`rgba(${i},0.1) 45%`,`rgba(${i},0.16) 47%`,`rgba(${i},0.75) 60%`,`rgba(${i},0.96) 65%`,`rgba(${i},1) 70%`].join(", ")})`:t===V||"medium"===t?`linear-gradient(to right, ${c.join()})`:`linear-gradient(to top, ${c.join()})`},Ot.a.createElement("div",{className:wl("fade",{mode:n,"is-visible":r}),style:o})},xl=({blurredPreview:e,mode:t})=>{const n=`data:image/png;base64,${e||""}`;return Ot.a.createElement("div",{className:wl("preview",{mode:t}),style:{backgroundImage:`url(${n})`}})};n(281);const Tl=ra("doc-channel-name");var Il=e=>{const{textColor:t,name:n,read:r,className:s,opacity:i,limit:o=20}=e,a=n.length>=o?"small":"medium";return Ot.a.createElement("div",{className:ra.mix(Tl({read:r,size:a}),s),style:{color:t,opacity:i}},n)};n(280);const Nl=ra("doc-channel-link");var Rl=e=>{const{className:t,children:n}=e;return Ot.a.createElement("div",{className:ra.mix(Nl(),t)},n)};n(279);const Pl=e=>{const{host:t="",href:n,rel:r,target:s,forwardedRef:i}=e,o=Lt(e,["host","href","rel","target","forwardedRef"]),a="_blank"===s&&n&&-1===n.indexOf(t)?r+" noopener":r;return St.createElement("a",Dt({},o,{href:n,rel:a||void 0,target:s,ref:i}))};Pl.defaultProps={rel:"",target:"_blank"};const Al=pn(e=>({host:e.params.host}),{},null,{shouldHandleStateChanges:!1})(Pl),Ml=St.forwardRef((e,t)=>St.createElement(Al,Dt({},e,{forwardedRef:t}))),Dl=ra("doc-badges-view");var Ll,Bl;!function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(Ll||(Ll={})),function(e){e.DARK="dark",e.LIGHT="light",e.TRANSPARENT="transparent"}(Bl||(Bl={}));const jl=pn(e=>{return{promoLink:$n(e).safeGet("rezen_promo_badge_link","")}})(class extends St.PureComponent{renderBadge(){const{promoLink:e="",badges:t,read:n=!1,color:r}=this.props,[s]=t,i=s.type===Ll.PROMO;return i&&""!==e?St.createElement(Ml,{href:e,target:"_blank",style:{color:r},className:Dl({read:n,isPromo:i})},s.text):St.createElement("div",{className:Dl({read:n}),style:{color:r}},s.text)}render(){const{badges:e}=this.props;return e&&e[0]?this.renderBadge():null}}),Fl=e=>{const t=Object(St.useRef)(e);return Object(St.useEffect)(()=>{t.current=e},[e]),Object(St.useCallback)((...e)=>t.current(...e),[])},Ul=({isVisible:e,timeout:t=800,onShow:n,onDeepwatch:r})=>{const[s,i]=Object(St.useState)(!1),[o,a]=Object(St.useState)(!1);(({isVisible:e,timeout:t,onShow:n,onDeepwatch:r})=>{const s=Fl(()=>{Object(Yo.unstable_batchedUpdates)(()=>{n()})}),i=Fl(e=>{r&&Object(Yo.unstable_batchedUpdates)(()=>{r(e)})});Object(St.useEffect)(()=>{if(!e)return;let n=!1,r=Date.now();const o=setTimeout(()=>{n=!0,s()},t);return()=>{n?i(Date.now()-r):(clearTimeout(o),Date.now()>r+t&&s())}},[e,t])})({isVisible:!s&&Boolean(e),timeout:t,onShow(){a(!0),n()},onDeepwatch:r}),s||!o||e||i(!0)};var zl=pn(null,{onShortToggleSubscribe:Wa})(e=>{const{className:t,style:n,source:r,logger:s,triggerEvent:i,isVisible:o,isMobile:a,onShortToggleSubscribe:c}=e,l="subscribed"===r.status?"Отписаться":"Подписаться",d=Object(St.useMemo)(()=>fs({__pe__:i})(s),[s,i]),u=Object(St.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c({source:r,logger:d})},[r,d,c]);return Ul({isVisible:o,onShow(){d.log("favourite_button_show")}}),Ot.a.createElement(tc,{className:t,style:n,onClick:u,size:a?"l":"m",viewType:"border"},l)}),Vl=(n(278),n(7)),Hl=n.n(Vl),Wl=n(6),$l=n.n(Wl),Gl=new Hl.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),ql=($l.a.add(Gl),Gl),Kl=new Hl.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 24",content:'<symbol viewBox="0 0 22 24" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 4.3785a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 23.6215 15.243 19.3785H19a3 3 0 0 0 3-3V7.3782a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Yl=($l.a.add(Kl),Kl);const Ql=ra("comment-counter");class Zl extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{onClick:t,logger:n}=this.props;n.log("click_comments_counter"),"function"==typeof t&&t(e)}),this._onShow=(()=>{this.props.logger.log("show_comments_counter")}),this._renderBalloon=(()=>{const{isTouch:e,textColor:t,balloonColor:n,count:r}=this.props;let s=r;return s>99&&(s="99+"),e?Ot.a.createElement("svg",{className:Ql("icon"),viewBox:Yl.viewBox,style:{fill:n}},Ot.a.createElement("use",{xlinkHref:`#${Yl.id}`}),Ot.a.createElement("text",{className:Ql("info"),x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:t}},s)):Ot.a.createElement(St.Fragment,null,Ot.a.createElement("svg",{className:Ql("icon"),viewBox:ql.viewBox,style:{fill:n}},Ot.a.createElement("use",{xlinkHref:`#${ql.id}`})),Ot.a.createElement("span",{className:Ql("info"),style:{color:t}},s))}),t}render(){const{link:e,count:t,isVisible:n,rootRef:r,isTouch:s,isPost:i,isCardImage:o,feedbackMittensIsDisabled:a}=this.props;if("number"!=typeof t)return null;const c=Ql("",{isCardImage:o,isTouch:s,isPost:i,feedbackMittensIsDisabled:a});return Ot.a.createElement(oc,{isVisible:n,onShow:this._onShow},Ot.a.createElement("span",{className:c},Ot.a.createElement("a",{ref:r,className:Ql("balloon",{isTouch:s}),href:e,target:"_blank",rel:"noopener noreferrer",onClick:this._onClick},this._renderBalloon())))}}const Jl=500;var Xl=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._clampRef=(e=>this._clamp=e),this._onResize=Ms(()=>{this._clamp&&this._clamp.clamp()},Jl,this),t}render(){const{className:e,style:t,isIntersecting:n,fitToSpace:r,minLineCount:s,domRef:i,children:o}=this.props;return Ot.a.createElement(jc,{isIntersecting:n,onResize:this._onResize},Ot.a.createElement(nl,{className:e,style:t,fitToSpace:r,minLineCount:s,domRef:i,ref:this._clampRef},o))}};var ed=e=>e===D;const td=(e,t)=>{if(e.length<t)return e;if(" "===e[t])return e.slice(0,t)+"…";let n=t;for(;n<e.length;)if(" "===e[++n])return e.slice(0,n)+"…";return e.slice(0,t)+"…"},nd=e=>e.split(/\s+/).reduce((e,t)=>Math.max(t.length,e),0),rd={"regular-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":29,'"':42,"%":67,"'":27,"(":42,")":37,"*":46,"+":57,",":30,"-":38,".":27,"/":46,":":27,";":29,"<":57,"=":57,">":57,"?":49,"[":48,"]":43,_:41,"{":50,"}":45,"№":111,"Ё":62,"А":71,"Б":64,"В":66,"Г":56,"Д":81,"Е":62,"Ж":97,"З":62,"И":78,"Й":78,"К":66,"Л":70,"М":89,"Н":74,"О":79,"П":72,"Р":63,"С":69,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":80,"Ч":70,"Ш":97,"Щ":104,"Ъ":77,"Ы":86,"Ь":65,"Э":69,"Ю":99,"Я":66,"ё":56,"а":54,"б":60,"в":56,"г":46,"д":64,"е":56,"ж":78,"з":52,"и":62,"й":62,"к":54,"л":57,"м":74,"н":59,"о":59,"п":58,"р":62,"с":52,"т":50,"у":55,"ф":73,"х":52,"ц":66,"ч":56,"ш":81,"щ":87,"ъ":61,"ы":71,"ь":52,"э":52,"ю":78,"я":55,A:71,B:66,C:69,D:73,E:61,F:59,G:77,H:74,I:28,J:39,K:65,L:58,M:89,N:76,O:79,P:62,Q:82,R:66,S:61,T:62,U:71,V:69,W:96,X:65,Y:64,Z:62,a:54,b:62,c:50,d:61,e:54,f:39,g:60,h:59,i:25,j:31,k:50,l:25,m:90,n:59,o:58,p:62,q:64,r:38,s:50,t:38,u:58,v:54,w:80,x:51,y:55,z:47},"bold-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":31,'"':44,"%":67,"'":26,"(":48,")":43,"*":48,"+":57,",":34,"-":38,".":31,"/":49,":":31,";":33,"<":57,"=":56,">":57,"?":49,"[":53,"]":47,_:43,"{":52,"}":47,"№":112,"Ё":62,"А":72,"Б":66,"В":67,"Г":55,"Д":84,"Е":62,"Ж":99,"З":61,"И":78,"Й":78,"К":69,"Л":71,"М":89,"Н":75,"О":80,"П":74,"Р":64,"С":68,"Т":63,"У":66,"Ф":84,"Х":66,"Ц":83,"Ч":72,"Ш":97,"Щ":107,"Ъ":79,"Ы":89,"Ь":66,"Э":69,"Ю":104,"Я":68,"ё":58,"а":56,"б":61,"в":56,"г":46,"д":69,"е":58,"ж":81,"з":51,"и":62,"й":62,"к":57,"л":59,"м":75,"н":60,"о":61,"п":60,"р":65,"с":53,"т":50,"у":57,"ф":77,"х":54,"ц":69,"ч":58,"ш":82,"щ":91,"ъ":64,"ы":75,"ь":54,"э":54,"ю":82,"я":56,A:73,B:68,C:67,D:75,E:61,F:59,G:77,H:75,I:30,J:43,K:68,L:57,M:89,N:75,O:80,P:64,Q:83,R:67,S:62,T:64,U:70,V:71,W:101,X:66,Y:63,Z:64,a:56,b:65,c:52,d:64,e:58,f:43,g:64,h:61,i:28,j:34,k:55,l:27,m:91,n:61,o:60,p:65,q:68,r:42,s:49,t:42,u:60,v:55,w:84,x:54,y:57,z:50},"medium-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":33,'"':43,"%":67,"'":26,"(":46,")":40,"*":47,"+":57,",":33,"-":38,".":29,"/":48,":":29,";":32,"<":57,"=":57,">":57,"?":49,"[":51,"]":45,_:42,"{":51,"}":46,"№":112,"Ё":62,"А":71,"Б":65,"В":67,"Г":56,"Д":82,"Е":62,"Ж":98,"З":62,"И":78,"Й":78,"К":67,"Л":70,"М":89,"Н":75,"О":79,"П":73,"Р":64,"С":68,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":82,"Ч":71,"Ш":97,"Щ":105,"Ъ":78,"Ы":88,"Ь":66,"Э":69,"Ю":102,"Я":67,"ё":57,"а":55,"б":61,"в":56,"г":45,"д":67,"е":57,"ж":80,"з":51,"и":62,"й":62,"к":55,"л":58,"м":75,"н":60,"о":60,"п":59,"р":64,"с":52,"т":50,"у":56,"ф":76,"х":53,"ц":67,"ч":57,"ш":82,"щ":89,"ъ":62,"ы":73,"ь":53,"э":53,"ю":80,"я":55,A:72,B:67,C:68,D:74,E:61,F:59,G:77,H:75,I:29,J:41,K:66,L:58,M:89,N:76,O:79,P:63,Q:83,R:66,S:62,T:63,U:70,V:70,W:98,X:66,Y:64,Z:63,a:55,b:64,c:51,d:63,e:56,f:41,g:63,h:60,i:26,j:33,k:53,l:26,m:91,n:60,o:59,p:64,q:66,r:40,s:50,t:40,u:59,v:54,w:82,x:53,y:56,z:49},"logotype-ysans":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":33,'"':39,"%":66,"'":24,"(":41,")":35,"*":44,"+":56,",":29,"-":38,".":25,"/":44,":":25,";":28,"<":56,"=":56,">":56,"?":49,"[":45,"]":40,_:39,"{":48,"}":42,"№":110,"Ё":61,"А":69,"Б":62,"В":65,"Г":55,"Д":80,"Е":61,"Ж":95,"З":61,"И":76,"Й":76,"К":64,"Л":68,"М":88,"Н":74,"О":79,"П":72,"Р":61,"С":68,"Т":61,"У":65,"Ф":82,"Х":64,"Ц":80,"Ч":68,"Ш":96,"Щ":104,"Ъ":75,"Ы":83,"Ь":63,"Э":69,"Ю":98,"Я":65,"ё":55,"а":54,"б":60,"в":54,"г":45,"д":64,"е":55,"ж":76,"з":50,"и":60,"й":60,"к":51,"л":56,"м":73,"н":58,"о":59,"п":57,"р":62,"с":52,"т":49,"у":53,"ф":72,"х":50,"ц":66,"ч":55,"ш":79,"щ":87,"ъ":59,"ы":68,"ь":50,"э":52,"ю":78,"я":52,A:69,B:65,C:68,D:72,E:60,F:59,G:77,H:74,I:26,J:38,K:64,L:58,M:88,N:75,O:79,P:61,Q:83,R:65,S:59,T:61,U:71,V:68,W:99,X:64,Y:63,Z:63,a:54,b:62,c:51,d:61,e:54,f:37,g:62,h:59,i:23,j:30,k:49,l:23,m:90,n:59,o:58,p:62,q:65,r:36,s:49,t:37,u:58,v:53,w:78,x:49,y:53,z:47},"sans-serif":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":28,'"':36,"%":89,"'":20,"(":34,")":34,"*":39,"+":59,",":28,"-":34,".":28,"/":28,":":28,";":28,"<":59,"=":59,">":59,"?":56,"[":28,"]":28,_:56,"{":34,"}":34,"№":108,"Ё":67,"А":70,"Б":66,"В":67,"Г":55,"Д":71,"Е":67,"Ж":95,"З":61,"И":72,"Й":72,"К":59,"Л":68,"М":84,"Н":73,"О":78,"П":72,"Р":67,"С":74,"Т":63,"У":66,"Ф":77,"Х":67,"Ц":76,"Ч":67,"Ш":92,"Щ":96,"Ъ":82,"Ы":89,"Ь":66,"Э":73,"Ю":102,"Я":73,"ё":56,"а":58,"б":59,"в":54,"г":37,"д":59,"е":57,"ж":70,"з":49,"и":56,"й":56,"к":46,"л":59,"м":70,"н":56,"о":57,"п":55,"р":56,"с":51,"т":49,"у":52,"ф":83,"х":50,"ц":58,"ч":53,"ш":81,"щ":83,"ъ":65,"ы":72,"ь":53,"э":53,"ю":75,"я":55,A:67,B:67,C:73,D:73,E:67,F:62,G:78,H:73,I:28,J:50,K:67,L:56,M:84,N:73,O:78,P:67,Q:78,R:73,S:67,T:62,U:73,V:67,W:95,X:67,Y:67,Z:62,a:56,b:56,c:50,d:56,e:56,f:28,g:56,h:56,i:23,j:23,k:50,l:23,m:84,n:56,o:56,p:56,q:56,r:34,s:50,t:28,u:56,v:50,w:73,x:50,y:50,z:50}},sd=(e,{fontSize:t,fontFamily:n,letterSpacing:r=0})=>e.split("").reduce((e,r)=>e+((e,t=14,n="sans-serif")=>{const r=rd[n]||rd[14];return(r[e]||r["№"])/100*t})(r,t,n),0)+r*(e.length-1),id=(e,t)=>(!e.threshold||e.threshold>=t.length)&&(!e.wordThreshold||e.wordThreshold>=t.longestWordLength),od=(e,t)=>{const n={length:e.length,longestWordLength:nd(e)};for(let e=0;e<t.length;e++){const r=t[e];if(id(r,n))return r.name}return null},ad=(e,t,n={})=>{const{fontSize:r,fontFamily:s,letterSpacing:i}=n;return sd(e,{fontSize:r,fontFamily:s,letterSpacing:i})<t};function cd(e,{maxLength:t,maxBigWordLength:n,sizes:r},s){const i=td(e,t),o={length:i.length,maxWordLength:nd(i)};return ld(o,r.big,s)&&o.maxWordLength<=n?r.big.style:ld(o,r.medium,s)?r.medium.style:!r.xsmall||ld(o,r.small,s)?r.small.style:r.xsmall.style}function ld({length:e,maxWordLength:t},n,r){const s=r?r.offsetWidth/340:1;return e<=n.threshold*s&&!(n.wordThreshold&&t>n.wordThreshold)}n(277);const dd=ra("specified-title"),ud=e=>{const t=sa(e,{className:dd()});return Ot.a.createElement("h2",Dt({},t,{itemProp:"headline"}))},pd=120,hd={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},md={maxLength:pd,maxBigWordLength:11,sizes:{big:{threshold:30,style:hd.big},medium:{threshold:45,style:hd.medium},small:{threshold:0,style:hd.small}}};var fd=class extends St.PureComponent{constructor(e){super(e),this.state=this._calcCurrentState(this.props.title),this._containerRef=(e=>this._containerElem=e),this._clampRef=(e=>this._clamp=e)}_calcCurrentState(e){const t=md;return{title:td(e,pd),style:cd(e,t,this._containerElem)}}_updateState(){return new Promise(e=>{this.setState(this._calcCurrentState(this.props.title),e)})}updateStylesAndClamp(){return this._updateState().then(()=>this._clamp&&this._clamp.clamp())}render(){const{title:e,style:t}=this.state;return Ot.a.createElement(nl,{className:"doc__title",style:t,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1,component:ud},e)}};const gd=ra("doc"),_d=wa(Zl);var bd=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._docTitleRef=Object(St.createRef)(),this._textClampRef=Object(St.createRef)(),this._onResize=Ms(this._updateContentStylesAndClamp,Jl,this),this._onAuxClick=(e=>{const{onClick:t}=this.props;0!==e.button&&1!==e.button||t()}),this._renderImage=(()=>{const{size:e,image:t,read:n,theme:r,bigImage:s,blurredPreview:i,cardBackgroundImage:o,cardBackgroundWhiteImage:a,isImageLazyLoadEnabled:c}=this.props;return t?Ot.a.createElement(Sl,{theme:r,image:t,bigImage:s,blurredPreview:i,cardBackgroundImage:o,cardBackgroundWhiteImage:a,isRead:n,size:e,color:this.getBackgroundColor(),isImageLazyLoadEnabled:c}):null}),this._renderShadeMask=(()=>{const e={backgroundColor:this.getBackgroundColor()};return Ot.a.createElement("div",{className:gd("shade-mask"),style:e})}),this._renderHoverMask=(()=>Ot.a.createElement("div",{className:gd("hover-mask")})),this._renderFilterMask=(()=>Ot.a.createElement("div",{className:gd("filter-mask")})),t}getBackgroundColor(){const{mainColor:e}=this.props;if(e)return Pc(e).card;const{cardColors:t}=this.props;return t&&t.card}getTextColor(){const{mainColor:e,cardColors:t}=this.props;return e?Pc(e).text:t?t.text:"#000000"}getColorTheme(){return"#000000"===this.getTextColor()?"black":"white"}getCardStyle(){const e=this.getBackgroundColor();if(e)return{backgroundColor:e}}getDocType(){const{type:e,image:t}=this.props;return ed(e)?"narrative":t?"image":"text"}_updateContentStylesAndClamp(){this._docTitleRef.current&&this._docTitleRef.current.updateStylesAndClamp().then(()=>{this._textClampRef.current&&this._textClampRef.current.clamp()})}_getBadgeFadeStyle(){const{mainColor:e,cardColors:t}=this.props,n=e||t&&t.card;if(!n)return{};const r=Tc(n).join(", ");return{boxShadow:`rgba(${r}, 0.4) 0px 0px 25px 5px, rgba(${r}, 0.4) 0px 0px 60px 30px, rgba(${r}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const{badges:e,read:t}=this.props;if(!e||0===e.length)return null;const n="white"===this.getColorTheme()?"#fff":"#000";return Ot.a.createElement("div",{className:gd("badge")},Ot.a.createElement(jl,{badges:e,color:n,read:t}),Ot.a.createElement("div",{className:gd("badge-fade"),style:this._getBadgeFadeStyle()}))}_renderContent(){const{type:e,title:t,text:n,isIntersecting:r,onClick:s,link:i}=this.props;return Ot.a.createElement("a",{className:gd("content"),onClick:s,href:i,target:"_blank",rel:"noreferrer noopener",onAuxClick:this._onAuxClick},Ot.a.createElement("div",{className:gd("aligner")},Ot.a.createElement(jc,{isIntersecting:r,onResize:this._onResize}),Ot.a.createElement(fd,{ref:this._docTitleRef,title:t}),ed(e)?null:Ot.a.createElement(nl,{className:gd("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},n),Ot.a.createElement("div",{className:gd("subscribe-button-gradient")})))}_renderControls(e){const{domainTitle:t,feedLink:n,logger:r,feedbackSubscribeProps:s,size:i,type:o,commentsCount:a,feedbackMittensProps:c}=this.props;let l=17,d=20;I===o&&a>=0&&c.isEnabled&&(l=15,d=18);const{hasSubscribeButton:u}=s,p="popup"===e;return Ot.a.createElement("div",{className:gd("controls",{type:e})},Ot.a.createElement("div",{className:gd("aligner")},Ot.a.createElement("div",{className:gd("bottom")},!p&&Ot.a.createElement(Rl,{className:gd("channel-name"),link:n,logger:r},Ot.a.createElement(Il,{textColor:this.getTextColor(),name:t,limit:i===V?l:d})),this._renderCommentsCounter(),this._renderMittens(e)),!p&&Ot.a.createElement(zl,Dt({},s,{className:gd("subscribe-button"),isVisible:u,logger:r}))))}_renderCommentsCounter(){const{commentsCount:e,commentsLink:t,logger:n,feedbackMittensProps:r,onClick:s}=this.props;return Ot.a.createElement(_d,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:t,count:e,logger:n,feedbackMittensIsDisabled:!r.isEnabled,onClick:s})}_renderMittens(e){const{feedbackMittensProps:t,onDislike:n}=this.props;return t.isEnabled?Ot.a.createElement(ll,Dt({},t,{color:this.getTextColor(),onDislike:n,className:gd("mittens"),type:e})):null}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateContentStylesAndClamp()):this._updateContentStylesAndClamp()}componentDidUpdate(e){const{title:t,text:n}=this.props;e.title===t&&e.text===n||this._updateContentStylesAndClamp()}render(){const{size:e,read:t,shouldHighlight:n,columnCount:r,isPromoted:s,isPromoPublication:i,feedbackSubscribeProps:o,containerRef:a,renderFeedback:c,experiments:l,isRtbFitted:d,isExtendFeedbackPopupExp:u,isWhiteMordaDesktop:p}=this.props,{hasSubscribeButton:h}=o,m={type:this.getDocType(),theme:this.getColorTheme(),size:e,animation:n&&"highlight",columns:r,promo:s||i,isShaded:t||h,hasSubscribeButton:h,isLetterSpacingExp:l.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:l.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isWhiteMordaDesktop:p},f=d?"_rtb-fitted":null;return Ot.a.createElement("div",{className:ra.mix(gd(m),f),style:this.getCardStyle(),ref:a},this._renderImage(),this._renderShadeMask(),this._renderHoverMask(),this._renderBadges(),this._renderContent(),this._renderControls(null),this._renderFilterMask(),c(),u?this._renderControls("popup"):null)}};n(276);const Ed=ra("tooth-card");var yd=class extends St.Component{constructor(...e){var t;return t=super(...e),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Ms(this._updateClamp,Jl,this),this._onAuxClick=(e=>{0!==e.button&&1!==e.button||this.props.onClick()}),t}_updateClamp(){this._titleClamp&&this._titleClamp.clamp().then(()=>this._textClamp&&this._textClamp.clamp())}isWhiteTheme(){const{view:e,image:t}=this.props;return!t||"white"===e}getCardColors(){const{view:e,cardColors:t,mainColor:n}=this.props;if(this.isWhiteTheme()||"white-image"===e||"white-flat"===e)return{backgroundColor:"#ffffff",color:"#000000"};if(n){const{card:e,text:t}=Pc(n);return{backgroundColor:e,color:t}}return t?{backgroundColor:t.card,color:t.text}:void 0}getContainerStyles(){return this.getCardColors()}getImageStyles(){return this.isWhiteTheme()?null:{backgroundImage:`url(${this.props.image})`}}getFadeStyles(){const{image:e}=this.props,t=Tc(this.getCardColors().backgroundColor).join(),n=[`rgba(${t},1) 45%`,`rgba(${t},0.8) 53%`,`rgba(${t},0) 68%`];let r=e?`rgba(${t},0.4)`:"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:`linear-gradient(to bottom, ${n.join()})`},hoverStyle:{backgroundColor:r}}}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp()}componentDidUpdate(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()}render(){const{view:e,image:t,title:n,link:r,text:s,source:i,read:o,product:a,shouldHighlight:c,isIntersecting:l,onClick:d,renderFeedback:u,containerRef:p,feedbackMittensProps:h,onDislike:m,isRtbFitted:f}=this.props,{fadeStyle:g,hoverStyle:_}=this.getFadeStyles(),{backgroundColor:b}=this.getCardColors(),E=this.getImageStyles(),y={view:e,read:o,animation:c&&"highlight",hasImage:Boolean(t)&&!this.isWhiteTheme(),yabro:[Ct,wt].includes(a)},v=f?"_rtb-fitted":null,k=Ot.a.createElement(nl,{className:Ed("title"),withAutoClamp:!1,ref:this._titleClampRef},n);return Ot.a.createElement("div",{className:ra.mix(Ed(y),v),ref:p},Ot.a.createElement(jc,{isIntersecting:l,onResize:this._onResize}),Ot.a.createElement("a",{className:Ed("link"),style:this.getContainerStyles(),onClick:d,href:r,target:"_blank",onAuxClick:this._onAuxClick},E?Ot.a.createElement("div",{className:Ed("image"),style:E}):null,Ot.a.createElement("div",{className:Ed("text-fade"),style:g}),Ot.a.createElement("div",{className:Ed("hover-fade"),style:_}),Ot.a.createElement("div",{className:Ed("read-fade"),style:{backgroundColor:b}}),Ot.a.createElement("div",{className:Ed("filter-mask")}),"white-flat"!==e?Ot.a.createElement("div",{className:Ed("source")},i):null,Ot.a.createElement("div",{className:Ed("content")},k,s?Ot.a.createElement(nl,{className:Ed("text"),withAutoClamp:!1,fitToSpace:!0,shouldResetLineCount:!0,ref:this._textClampRef},s):null),Ot.a.createElement("div",{className:Ed("source-controls-wrapper",{feedbackOnly:"white-flat"!==e})},"white-flat"!==e?null:Ot.a.createElement("div",{className:Ed("source")},Ot.a.createElement(Il,{className:Ed("source-title"),read:!1,textColor:"#fff",name:i})),Ot.a.createElement("div",{className:Ed("feedback")},Ot.a.createElement("div",{className:Ed("feedback-buttons")},Ot.a.createElement(ll,Dt({},h,{theme:"tooth",color:"#fff",onDislike:m})))))),u())}};n(275),n(274);const vd=ra("blackout-filter");var kd=({className:e})=>Ot.a.createElement("div",{className:ra.mix(vd(),e)}),Cd=(n(273),new Hl.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'})),wd=($l.a.add(Cd),Cd);const Sd=ra("rocket");class Od extends St.PureComponent{render(){const{color:e,faint:t}=this.props,{id:n,viewBox:r}=wd;return Ot.a.createElement("svg",{className:Sd({faint:t}),width:"24",height:"24",viewBox:r},Ot.a.createElement("use",{style:{fill:e},xlinkHref:`#${n}`}))}}n(269);const xd=ra("doc-card-header");class Td extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._getColor=(()=>{const{color:e,isDark:t}=this.props;return e||(t?"#fff":"#000")}),this._renderShadow=(()=>{const{isTextCard:e,isDesktop:t,read:n,dropShadow:r}=this.props;return r||e||!t&&n?null:Ot.a.createElement("div",{className:xd("shadow"),style:this._getBadgeFadeStyle()})}),this._renderRocket=(()=>{const{rocket:e,image:t,isDesktop:n}=this.props;return!e||n?null:Ot.a.createElement("div",{className:xd("rocket")},Ot.a.createElement(Od,{faint:!t,color:this._getColor()}),this._renderShadow())}),this._renderMenu=(()=>{const{id:e,dropShadow:t,isNarrativeFeed:n,isNativeFeed:r,isChannelPage:s,buttonClassName:i,isDesktop:o,isZenLib:a}=this.props;return null}),t}_getBadgeFadeStyle(){const{mainColor:e,cardColors:t}=this.props,n=e||t&&t.card;if(!n)return{};const r=Tc(n).join(", ");return{boxShadow:`rgba(${r}, 0.4) 0px 0px 25px 5px, rgba(${r}, 0.4) 0px 0px 60px 30px, rgba(${r}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const{read:e,badges:t,isDesktop:n}=this.props;return t&&0!==t.length?Ot.a.createElement("div",{className:xd("badge")},Ot.a.createElement(jl,{badges:t,color:this._getColor(),read:e&&n}),this._renderShadow()):null}render(){const{noAbsolute:e,className:t}=this.props,n={absolute:!e};return Ot.a.createElement("div",{className:ra.mix(xd(n),t)},this._renderRocket(),Ot.a.createElement("div",{className:xd("badge-holder")},this._renderBadges()),this._renderMenu())}}var Id=[{name:"1",threshold:25},{name:"2",threshold:50},{name:"3"}],Nd=n(36),Rd=n(35),Pd=n(59);const Ad=wa(Zl),Md=ra("doc-card-image-view"),Dd=120,Ld="blur",Bd="fade",jd="#000000",Fd="#FFFFFF",Ud=["title","text"],zd="regular-ysans",Vd=Math.min(parseFloat(Nd.a),360-2*parseFloat(Nd.b))-2*parseFloat(Pd.a);var Hd=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={title:td(this.props.title,Dd),isSingleLineText:ad(this.props.text,Vd,{fontSize:parseFloat(Rd.a),fontFamily:zd})},this._updateCardLinesCount=(()=>{const{isDesktop:e,isIntersecting:t,isObserving:n}=this.props;if(e||!n||t)return;const r=this._textContent.clientWidth,s=getComputedStyle&&getComputedStyle(this._textContent),i=s&&s.fontFamily&&s.fontFamily.split(", ")[0]||zd,o=ad(this.props.text,r,{fontSize:parseFloat(Rd.a),fontFamily:i});this.setState({isSingleLineText:o})}),this._textContentRef=(e=>this._textContent=e),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Ms(()=>{this._updateClamp(),this._updateCardLinesCount()},Jl),this._getImageUrl=(()=>{const{image:e,imageSquared:t}=this.props;return t||e}),this._renderBlurredPreviewViewElem=(()=>{const{blurredPreview:e}=this.props,t=`data:image/png;base64,${e||""}`;return Ot.a.createElement("div",{className:Md("preview"),style:{backgroundImage:`url(${t})`}})}),this._renderImageElem=(e=>{const t={backgroundImage:`url(${this._getImageUrl()})`};return Ot.a.createElement("div",{className:Md("image",{"is-loaded":e}),style:t})}),this._renderTitle=(()=>{const{isDesktop:e,titleRef:t}=this.props,{title:n}=this.state;return e?Ot.a.createElement(fd,{title:this.props.title,ref:t}):Ot.a.createElement(nl,{className:Md("title"),withAutoClamp:!1,domRef:t,ref:this._titleClampRef,component:ud},n)}),this._renderReadFade=(()=>{const{isDesktop:e,read:t}=this.props;if(e)return null;const n=Tc(Fd).join(),{cardColorRgb:r}=this._getColors(),s=t?n:r,i={backgroundImage:`linear-gradient(to top,\n                rgba(${s},1) 0%,\n                rgba(${s},1) 50%,\n                rgba(${s},0.7) 70%,\n                rgba(${s},0.5) 100%\n            )`};return Ot.a.createElement("div",{className:Md("fade"),style:i})}),this._renderHoverMask=(()=>{const e={backgroundColor:this._getColors().hoverColor};return Ot.a.createElement("div",{className:Md("hover-mask"),style:e})}),this._renderFeedback=(()=>{const{renderFeedback:e}=this.props;return e?e():null}),this._renderHeader=(()=>Ot.a.createElement(Td,Dt({},this.props,{className:Md("header")}))),this._renderClickable=(()=>{const{onClick:e,link:t}=this.props;return Ot.a.createElement(Ml,{className:Md("clickable"),onClick:e,href:t})}),t}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>{this._updateClamp(),this._updateCardLinesCount()}):(this._updateClamp(),this._updateCardLinesCount())}componentWillReceiveProps(e){this.setState({title:td(e.title,Dd)})}componentDidUpdate(e,t){(Ud.some(t=>e[t]!==this.props[t])||this.state.isSingleLineText!==t.isSingleLineText)&&this._updateClamp(),this._updateCardLinesCount()}_getColors(){const{cardColors:e,read:t,mainColor:n,isDesktop:r}=this.props;if(n){const{text:e,card:s,isDarkImage:i}=Pc(n),o=Tc(s).join();return{hoverColor:i?jd:Fd,textColor:t&&!r?jd:e,cardColor:s,cardColorRgb:o}}const s=e?e.card:Fd,i=Tc(s).join(),o=!t&&e?e.text:jd,{isDarkImage:a}=Pc(s);return{hoverColor:a?jd:Fd,textColor:o,cardColor:s,cardColorRgb:i}}_shouldRenderText(){return!ed(this.props.type)&&this.props.text}_updateClamp(){let e;(e=this._shouldRenderText()&&this._textClamp?this._textClamp.clamp():Promise.resolve()).then(()=>this._titleClamp&&this._titleClamp.clamp())}_renderFadeImage(){const{isDesktop:e}=this.props,{cardColorRgb:t}=this._getColors(),n={backgroundImage:`linear-gradient(to top, ${(e?[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]:[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]).map(([e,n])=>`rgba(${t}, ${e}) ${n}%`).join()})`},r=this._getImageUrl();return Ot.a.createElement("div",{className:Md("image-container")},Ot.a.createElement(kl,{imageUrl:r,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),Ot.a.createElement("div",{className:Md("image-fade"),style:n}))}_renderBlurImage(){const{image:e,blurredPreview:t,cardBackgroundImage:n,cardBackgroundWhiteImage:r,read:s}=this.props,{cardColor:i}=this._getColors();return Ot.a.createElement(Sl,{theme:"white",image:e,blurredPreview:t,cardBackgroundImage:n,cardBackgroundWhiteImage:r,isRead:s,isBlurred:s,size:"small",color:i,aspectRatioMode:"tall"})}_renderImage(){switch(this._getRenderType()){case Bd:return this._renderFadeImage();case Ld:return this._renderBlurImage()}}_renderContent(){const{text:e,isIntersecting:t}=this.props,n=e&&!this.state.isSingleLineText;return Ot.a.createElement(jc,{isIntersecting:t,onResize:this._onResize},Ot.a.createElement("div",{className:Md("content")},Ot.a.createElement("div",{className:Md("text-content"),ref:this._textContentRef},this._renderTitle(),this._shouldRenderText()?Ot.a.createElement(nl,{className:Md("text"),withAutoClamp:!1,minLineCount:n?2:1,fitToSpace:!0,ref:this._textClampRef},e):null),this._renderSourceName()))}_renderSourceName(){const{feedLink:e,logger:t,domainTitle:n,type:r,commentsCount:s,feedbackMittensProps:i}=this.props,{textColor:o}=this._getColors(),a=Md("source-name",{with_counter:s>=0&&i.isEnabled}),c={textColor:o,name:n};return Ot.a.createElement("div",{className:a},Ot.a.createElement(Rl,{link:e,logger:t},Ot.a.createElement(Il,c)))}_renderMittens(e=null){const{feedbackMittensProps:t,onDislike:n,moveDislike:r,noDislike:s}=this.props;if(!t.isEnabled)return null;const{textColor:i}=this._getColors(),o=Object.assign({},t,{color:i,onDislike:n,onlyLike:r||s,type:e});return Ot.a.createElement("div",{className:Md("mittens",{type:e})},Ot.a.createElement(ll,o))}_renderSubscribeButton(){const{feedbackSubscribeProps:e,logger:t,isMobile:n}=this.props,{hasSubscribeButton:r}=e,{textColor:s}=this._getColors(),i={borderColor:s,color:s,opacity:.7},o=Object.assign({},e,{style:i,isVisible:r,logger:t,isMobile:n});return Ot.a.createElement("div",{className:Md("subscribe-button")},Ot.a.createElement(zl,o))}_getRenderType(){const{type:e,text:t}=this.props;if(ed(e))return Bd;const n=!t,r=t&&this.state.isSingleLineText;return n||r?Bd:Ld}_renderCommentsCounter(){const{commentsCount:e,commentsLink:t,logger:n,isMobile:r,feedbackMittensProps:s,type:i,read:o,onClick:a}=this.props,{textColor:c,cardColor:l,readColorRgb:d}=this._getColors();return Ot.a.createElement(Ad,{textColor:o?d:l,balloonColor:c,link:t,count:e,logger:n,isTouch:r,isCardImage:!0,feedbackMittensIsDisabled:!s.isEnabled,onClick:a})}render(){const{feedback:e,image:t,read:n,type:r,experiments:s,feedbackSubscribeProps:i,isDesktop:o,columnCount:a,isDark:c,isRtbFitted:l,isExtendFeedbackPopupExp:d,isWhiteMordaDesktop:u}=this.props,{hasSubscribeButton:p}=i,h=this._getRenderType(),{textColor:m,cardColor:f}=this._getColors(),g=od(this.state.title,Id),_=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),b=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),E=Md({read:n,type:r,feedback:e,image:Boolean(t),hasSubscribeButton:p,renderType:h,fontSize:g,isDesktop:o,columns:a,isDark:c,isLetterSpacingExp:_,isBigLetterSpacingExp:b,rtbFitted:l,isWhiteMordaDesktop:u}),y={color:m,backgroundColor:f};return Ot.a.createElement("div",{className:E,style:y},this._renderClickable(),this._renderImage(),this._renderReadFade(),this._renderHoverMask(),this._renderContent(),this._renderHeader(),this._renderCommentsCounter(),this._renderMittens(),this._renderSubscribeButton(),this._renderFeedback(),d?this._renderMittens("popup"):null,Ot.a.createElement(kd,null))}};const Wd=e=>t=>{const n=pn(t=>{const n=qr(t);return e(n)},null,null,{shouldHandleStateChanges:!1})(t);return n.displayName=`WithSessionContext(${nc(t)})`,n},$d=e=>({to:t=>$d(t(e)),value:e}),Gd=50,qd=250,Kd=ra("doc");const Yd={docShow:Ac,docShort:e=>({type:"DOC_SHORT",statEvent:"short",payload:{id:e}}),docClick:Mc,docRead:e=>({type:"DOC_READ",payload:{id:e}}),requestSimilar:e=>(t,n)=>{const r=n(),s=r.feed.items[e],{zenApi:i}=qr(r);if(s.childItemId||s.isSimilarRequested)return;const{rows:o,elements:a}=fr(r.feed),c=o[a[e].row+1];let{similarLink:l}=s;Pi(c,R)&&(l=l.replace("_type_","ad")),t({type:"REQUEST_SIMILAR",payload:{itemId:e}}),i.getSimilar(l).then(n=>{t({type:"RECEIVE_SIMILAR",payload:{itemId:e,similar:n}});const{sourcesIds:r,docs:s,direct:i,rtb:o}=n.items;r.length+s.length+i.length+o.length!==0&&t(Ti(e,Object.assign({},n,{items:{sourcesIds:r,docs:s,direct:i,rtb:o}})))})},removeChildItem:Ii,itemMittensJump:(e,t)=>({type:"ITEM_MITTENS_JUMP",payload:{id:e,isMittensJumping:t}}),insertUserQuestion:e=>(t,n)=>{const r=n(),s=r.feed.items[e],i=ks(r,s.id);if(s.isUserQuestionAnswered||!i)return;const o=(e=>{const{id:t,bulkParams:n,statEvents:r}=e;return{type:"user-feedback-question",id:te("user-feedback-question"),parentId:t,bulkParams:n,statEvents:r}})(s);setTimeout(()=>{t(Ti(e,o))},500)}};var Qd=$d(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={shouldHighlight:!1},this._containerRef=Object(St.createRef)(),this._onClick=(()=>{const{id:e,needSimilar:t,feedback:n,similarLink:r,requestSimilar:s,itemMittensJump:i,docClick:o,docRead:a,shouldAskUserQuestion:c,shouldScrollOnOpenCard:l,insertUserQuestion:d,getExport:u,disableScrollToCard:p}=this.props;l&&this._scrollToElement({shouldDisableScrollToFirstRow:!1,disableScroll:p}),o(e),c?d(e):t&&s(e,r),Wr().then(()=>{$e(500).then(()=>a(e)),n||$e(1500).then(()=>i(e,!0)).then(()=>$e(1e3)).then(()=>i(e,!1))})}),this._onDislike=(()=>{const{id:e,needSimilar:t,removeChildItem:n}=this.props;t&&n(e)}),this._setPackShown=(()=>{const{packId:e,zenApi:t}=this.props;t.packShown(e)}),this._sendShowStat=(()=>{const{id:e,docShow:t,pixels:n,columnCount:r,zenLogger:s}=this.props;t(e),n&&n.forEach(e=>{const t=new Image;t.onerror=(()=>s.error(`Error while calling pixel (desktop); ${e}`)),t.src=e}),this._setPackShown()}),this._sendShortStat=(()=>{const{id:e,docShort:t}=this.props;t(e)}),this._scrollToElement=(e=>{e=e||{};const{animate:t=!1,highlight:n=!1,offsetTop:r=Gd,disableScroll:s=!1}=e,i=this._containerRef.current;if(!i||s||0===this.props.rowIndex&&e.shouldDisableScrollToFirstRow)return Promise.resolve();const{shouldHighlight:o}=this.state;o&&this.setState({shouldHighlight:!1});const a=Ci(i);return ki.scrollTo({top:a-r,animate:t}).then(()=>{if(n)return $e(qd).then(()=>{this.setState({shouldHighlight:!0})})})}),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),this._renderFeedback=(()=>{const{logger:e,feedback:t,feedbackProps:n,mainColor:r,isExtendFeedbackPopupExp:s}=this.props;return n.isEnabled&&(t&&"liked"!==t||s)?s?Ot.a.createElement(xc,Dt({mainColor:r,className:Kd("feedback-popup-view"),logger:e},n,{theme:"white"})):Ot.a.createElement("div",{className:Kd("feedback-wrapper"),onClick:this._onFeedbackClick},Ot.a.createElement(xc,Dt({logger:e},n))):null}),this._renderNarrativeCard=(()=>{const{cardColors:e,read:t,mainColor:n}=this.props,{shouldHighlight:r}=this.state,s=Object.assign({},this.props,{shouldHighlight:r,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef,isDesktop:!0,isDark:Nc({isDesktop:!0,cardColors:e,read:t,mainColor:n})});return Ot.a.createElement(Hd,s)}),t}_getToothType(){const{rowIndex:e,teethType:t,isTeethEnabled:n}=this.props;if(0===e&&n)return t}_renderDocCard(){const e=Object.assign({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return Ot.a.createElement(bd,e)}_renderToothCard(e){const{isIntersecting:t,intersectionRatio:n}=this.props,r=Object.assign({},this.props,{isIntersecting:t,shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return Ot.a.createElement(oc,{isVisible:t,onShow:this._sendShortStat,timeout:500,shouldResetOnVisibilityChange:!0},Ot.a.createElement(yd,r))}_emitCard(){const{statEvents:e,bulkParams:t,rowIndex:n,itemIndexInRow:r,domainTitle:s,title:i,itemOrder:o,id:a,zenApi:c}=this.props,l={rowIndex:n};n<2&&this._containerRef.current&&ft.emit(gt.PROMO_CARD,{id:a,scrollTo:this._scrollToElement,domainTitle:s,title:i,itemIndexInRow:r,rowIndex:n,index:o,container:this._containerRef.current,sendPreviewShow:c.logBulkEvent.bind(c,{event:e.show_teaser,bulkParams:t,statMeta:l}),sendPreviewClick:c.logBulkEvent.bind(c,{event:e.click_teaser,bulkParams:t,statMeta:l})})}componentDidMount(){this._emitCard()}render(){const{isVisible:e,type:t,packId:n,exportRid:r}=this.props,s=this._getToothType();let i=s?this._renderToothCard(s):t===D?this._renderNarrativeCard():this._renderDocCard();return i=Ot.a.createElement(oc,{isVisible:e,onShow:this._sendShowStat},i)}}).to(Wd(({zenApi:e,zenLogger:t})=>({zenApi:e,zenLogger:t}))).to(pn(()=>{const e=_s(),t=Rs(),n=As(),r=Ts(),s=Object(_n.createSelector)(Wn,Fn,Hn,qn,(e,t)=>e.sources[e.feed.items[t].source],...Is.map(e=>(t,n)=>t.feed.items[n][e]),(e,t,n,r,s,...i)=>{const[o,a,c,l,d,u]=i,{status:p,isSubscribedInCurrentSession:h}=s,m="subscribed"===p;return{id:o,source:s,triggerEvent:c[l],isSubscribed:m,hasSubscribeButton:(![vt,Ct,wt].includes(t)||a===I)&&(!m||h)&&("liked"===d||u)&&!n&&!r}});return(i,{id:o,rowIndex:a})=>{const{params:c,feed:l,yabro:d}=i,u=l.items[o],{product:p,libType:h}=c,m=Xn(i),f=e(Object.assign({},u,{rowIndex:a})),g=(or(i)?n:t)(i,o),_=r(i,o),b=s(i,o),E=Jn(i),y=Qn(i),v=Wn(i),k=$n(i),C=Zn(i),w=ur(l),S=Kn(i),O=Boolean(ks(i,o)),x=dr(i,o),T=Yn(i),I=d&&d.exportRid,N=kr(i),R=i.sources[u.source],P=((e,t)=>{let{commentsDocumentId:n,commentsData:r,feed:s}=e;const i=s&&s.items&&s.items[t];let o=void 0;return!n&&i&&(n=i.commentsDocumentId),n&&r[n]&&"number"==typeof r[n].count&&(o=r[n].count),o})(i,o),A=k.safeGet("rezen_extend_feedback.is_popup",!1),M=Sr(i);return Object.assign({product:p,isTeethEnabled:E,teethType:y,theme:m,needSimilar:S,logger:f,feedbackProps:g,feedbackMittensProps:_,feedbackSubscribeProps:b,libType:h,isImageLazyLoadEnabled:C,columnCount:w,experiments:v,shouldAskUserQuestion:O,itemOrder:x,shouldScrollOnOpenCard:T,exportRid:I,isRtbFitted:N},u,{source:R,commentsCount:P,isExtendFeedbackPopupExp:A,isWhiteMordaDesktop:M})}},Yd)).value;const Zd=(e,t)=>(n,r)=>{const s=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_INTERSECTING",payload:{id:e,intersecting:t,index:s}})},Jd=(e,t)=>(n,r)=>{const s=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_VISIBILITY",payload:{id:e,visible:t,index:s}})},Xd=e=>({type:"VIDEO_CARD_CHANGE_INTERACTION",payload:{id:e}}),eu=e=>({type:"VIDEO_CHANGE_ACTIVE_CARD",payload:e}),tu=e=>(t,n)=>{const{items:r}=n().feed;t({type:"VIDEO_MODAL_TOGGLE",payload:{openedItem:r[e]}})},nu=(gn(e=>mt.getVideoRecommend().then(t=>{if(0===t.length)throw new Error("no recommends");const n={};e({type:"VIDEO_MODAL_GET_RECOMMEND",payload:{videoFeed:t.reduce((e,t)=>{const{id:r,source:s,statParams:i,statEvents:o,bulkParams:a}=t;return n[s.id]||(n[s.id]=Object.assign({},s,{statParams:i,statEvents:o,bulkParams:a})),Object.assign({[r]:Object.assign({},t,{source:s.id})},e)},{})}}),e({type:"VIDEO_MODAL_SET_SOURCES",payload:{sources:n}})}),{timeouts:[1e3,3e3,5e3]}),2e3),ru=4e3,su={PLAYBACK_NOT_STARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,QUEUED:5},iu={short:"short",show:"show",click:"click","feedback:more":"feedback:more","feedback:less":"feedback:less","feedback:block":"feedback:block","feedback:cancel_less":"feedback:cancel_less","feedback:cancel_more":"feedback:cancel_more","feedback:cancel_block":"feedback:cancel_block",play:"play",pause:"pause",end:"end",autoplay:"autoplay",autopause:"autopause",sound_on:"sound_on",sound_off:"sound_off",action:"action",autoplay_on:"autoplay_on",autoplay_off:"autoplay_off",heartbeat:"heartbeat",replay:"replay"},ou="PLAY_BUTTON_CLICK",au=()=>{switch(Fr.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1;default:return}},cu=e=>{Fr.setItem("zen-video-autoplay",e?"1":"0")};var lu=e=>{class t extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={started:!1},this._onPlayerDestroy=(()=>{this.setState({started:!1})}),this._sendShowStat=(()=>{const{logger:e,pixels:t}=this.props;e.log(iu.show),!this._pixelsExist&&t&&(t.forEach(e=>{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel (desktop video); ${e}`)),t.src=e}),this._pixelsExist=!0)}),t}componentDidMount(){const{autoplay:e,videoAutoplay:t}=this.props;if("boolean"!=typeof e){const e=au();t("boolean"!=typeof e||e)}}componentDidUpdate(e){const{started:t}=this.state,{paused:n,isIntersecting:r,isVisible:s}=e,{id:i,isIntersecting:o,isVisible:a,paused:c,interactive:l,logger:d,setIntersecting:u,setVisibility:p}=this.props;t||c||this.setState({started:!0}),r!==o&&u(i,o),s!==a&&p(i,a),!n||c||l||d.log(iu.autoplay),n||!c||l||d.log(iu.autopause)}render(){const{isVisible:t}=this.props,{started:n}=this.state,r=Object.assign({},this.props,{started:n,onDestroy:this._onPlayerDestroy});return Ot.a.createElement(oc,{isVisible:t,onShow:this._sendShowStat},Ot.a.createElement(e,r))}}t.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};return pn(()=>{const e=Rs(),t=As(),n=Ts(),r=_s();return(s,{id:i})=>{const o=s.feed.items[i],a=(or(s)?t:e)(s,i),c=n(s,i),l=r(o,"feed"),d=s.sources[o.source],u=s.videoModal.openedItemId===i,p=s.iface.isVideoAutoplayEnabled,h=s.videoCards.interactionCardId===i;return Object.assign({},o,{feedbackProps:a,feedbackMittensProps:c,logger:l,source:d,isModalOpen:u,autoplay:p,interactive:h})}},{videoAutoplay:es,setIntersecting:Zd,setVisibility:Jd,setLastInteractedCard:Xd,setActiveCard:eu,toggleVideoModal:tu})(t)};n(268),n(263);const du=ra("video_autoplay");class uu extends St.PureComponent{render(){const{autoplay:e,onAutoplayClick:t}=this.props;return Ot.a.createElement("div",{className:du("wrapper",{active:e}),onClick:t},"Автовоспроизведение",Ot.a.createElement("div",{className:du("outer")},Ot.a.createElement("div",{className:du("inner")})))}}n(262),n(261),n(260);const pu=ra("spinner");class hu extends St.PureComponent{render(){const{dots:e}=this.props,t=new Array(e).fill().map((e,t)=>Ot.a.createElement("div",{key:t,className:pu("dot",{[`dot-index_${t}`]:!0})}));return Ot.a.createElement("div",{className:pu()},t)}}hu.defaultProps={dots:5};const mu=ra("video-loader");function fu(e){const{visible:t,className:n}=e,r=Lt(e,["visible","className"]),s=ra.mix(mu({visible:t}),n);return Ot.a.createElement("div",Dt({className:s},r),Ot.a.createElement(hu,null))}const gu=(e,t)=>{const n={};return r=>{for(const s of e)!n[s]&&r>=s&&(n[s]=!0,t(s))}},_u=ra("video-player");class bu extends St.PureComponent{constructor(...e){var t;return t=super(...e),Eu.call(this),t}componentDidMount(){const{shouldInitPlayer:e,logger:t,video:{heartbeatTimes:n}}=this.props;this._heartbeatHandler=gu(n,e=>{t.log(iu.heartbeat,{global:{_video_pos_:e}})}),e&&this._initPlayer()}componentWillUnmount(){this._player&&this._player.destroy(),this._initPlayer.cancel(),Object.keys(this._cancelableHandlers).forEach(e=>this._cancelableHandlers[e].cancel())}componentDidUpdate(e){const{muted:t,video:n,paused:r}=e,{paused:s,muted:i,video:o,shouldInitPlayer:a}=this.props;if(!this._player&&a&&this._initPlayer(),r&&!s&&this._resetLoop(),this._player){const e=this._player.getState();e===su.PLAYING||s?e!==su.PAUSED&&s&&this._player.pause():this._player.play(),t!==i&&this._player.setMuted(i),n.id!==o.id&&this._updateConfig(),a||this._destroy()}}_renderLoader(){const{paused:e}=this.props,{loading:t}=this.state;return Ot.a.createElement(fu,{visible:t&&!e})}render(){const{className:e,style:t}=this.props,n=ra.mix(_u(),e);return Ot.a.createElement("div",{className:n,style:t},this._renderLoader(),Ot.a.createElement("div",{className:_u("container"),style:t,ref:this._containerRef}))}}bu.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},shouldInitPlayer:!1,paused:!0,muted:!0};var Eu=function(){this.state={loading:!1},this._initStarted=!1,this._cancelableHandlers={},this._previousTime=0,this._loopCounter=1,this._loopPaused=!1,this._loopTimeCounter=300,this._latestMuted=!0,this._containerRef=bl()(e=>{this._containerElem=e}),this._resetLoop=(()=>{this._player?this._loopTimeCounter=this._player.getWatchedTime()+300:this._loopTimeCounter=300,this._loopCounter=1,this._loopPaused=!1}),this._onReady=(()=>{this._resetLoop()}),this._onCurrentTimeChange=((e,t,n)=>{const{logger:r,stopLoop:s}=this.props;this._heartbeatHandler(n);const i=this._previousTime>e;this._previousTime=e,n>=this._loopTimeCounter&&!this._loopPaused?(s(),r.log(iu.autopause),this._loopPaused=!0):i&&(5===this._loopCounter?(s(),r.log(iu.end),this._loopCounter=1):(r.log(iu.end),r.log(iu.replay),this._loopCounter++))}),this._onStateChange=(e=>{const{logger:t}=this.props,{loading:n}=this.state;switch(e){case su.PLAYING:"play"===this._latestUserAction&&(t.log(iu.play),this.setState({paused:!1})),n&&this.setState({loading:!1});break;case su.PAUSED:"pause"===this._latestUserAction&&(t.log(iu.pause),this.setState({paused:!0})),n&&this.setState({loading:!1});break;case su.BUFFERING:n||this.setState({loading:!0})}this._latestUserAction=null}),this._onUserAction=(e=>{if(e.name===ou){const{state:t}=e.data||{};switch(t){case"play":this._resetLoop(),this._latestUserAction=t;break;case"pause":this._latestUserAction=t}}}),this._onVolumeChange=(e=>{const{logger:t}=this.props,n=0===e;this._latestMuted!==n&&(n?t.log(iu.sound_off):t.log(iu.sound_on),this._latestMuted=n)}),this._prepareHandlers=(()=>{const e=Object.assign({},this.props.handlers),{onStateChange:t,onUserAction:n,onVolumeChange:r,onCurrentTimeChange:s,onReady:i}=e;e.onStateChange=((...e)=>{this._onStateChange(...e),t&&t(...e)}),e.onCurrentTimeChange=((...e)=>{this._onCurrentTimeChange(...e),s&&s(...e)}),e.onUserAction=((...e)=>{this._onUserAction(...e),n&&n(...e)}),e.onVolumeChange=((...e)=>{this._onVolumeChange(...e),r&&r(...e)}),e.onReady=(()=>{this._onReady(),i&&i()}),this._cancelableHandlers=Object.keys(e).reduce((t,n)=>Object.assign({},t,{[n]:bl()(e[n])}),{})}),this._prepareSource=(()=>{const{video:{id:e,loop:t,additionalParams:n}}=this.props;return{streamUrl:e,loop:!1!==t,additionalParams:n}}),this._updateConfig=(async()=>{this._prepareHandlers();const e=this._prepareSource();this._previousTime=0,this.props.isIE?(await this._player.destroy(),this._initStarted=!1,this._player=null,this._initPlayer()):await this._player.setSource(e)}),this._initPlayer=bl()(async()=>{if(this._initStarted)return;this._initStarted=!0;const{maxBufferLength:e,muted:t,preload:n,hidden:r,size:s,video:{id:i,hasSound:o},objectFit:a,paused:c}=this.props;this._previousTime=0,await xn("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js");const l=this._prepareSource();this._prepareHandlers(),this._player=await window.Ya.streamPlayer.init({version:"1.0-573",element:this._containerElem,handlers:this._cancelableHandlers,source:l,maxBufferLength:e,muted:t||!o,preload:n,hidden:r,size:s}),i!==this.props.video.id?this._updateConfig():(this._player.setVideoStyle({objectFit:a}),c||this._player.play())}),this._destroy=(()=>{const{destroyTimeout:e=nu,onDestroy:t}=this.props;this._destroyTimeout=setTimeout(async()=>{const{shouldInitPlayer:e}=this.props;this._player&&!e&&(await this._player.destroy(),this._initStarted=!1,this._player=null,t&&t())},e)})};const yu=ra("video-card");class vu extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hideControls:!1},this._getSoundTitle=(()=>{const{muted:e,hasSound:t}=this.props;return t?e?"Включить звук":"Выключить звук":"Видео без звука"}),t}_renderPlayer(){const{playerProps:e,onClick:t}=this.props;return Ot.a.createElement(bu,Dt({className:yu("player-wrapper")},e,{onClick:t}))}_renderPreview(){const{started:e,size:t,image:n,bigImage:r}=this.props,s={backgroundImage:`url(${t!==z&&r?r:n})`};return e?null:Ot.a.createElement("div",{className:yu("preview",{started:e}),style:s})}_renderControls(){const{muted:e,autoplay:t,onMuteClick:n,onAutoplayClick:r,hasSound:s}=this.props,i=Ot.a.createElement("div",{className:yu("mute",{active:s&&!e,noSound:!s}),onClick:n,title:this._getSoundTitle()}),o=Ot.a.createElement(uu,{autoplay:t,onAutoplayClick:r});return Ot.a.createElement("div",{className:yu("controls")},i,o)}_renderPlayButton(){const{paused:e}=this.props;return Ot.a.createElement("div",{className:yu("play_button",{visible:e})})}_renderTitle(){const{title:e}=this.props;return Ot.a.createElement(nl,{className:yu("title"),component:ud},e)}_renderDomain(){const{domainTitle:e,feedLink:t,logger:n}=this.props;return Ot.a.createElement("div",{className:yu("domain")},Ot.a.createElement(Rl,{link:t,logger:n},Ot.a.createElement(Il,{textColor:"#fff",name:e})))}_renderMittens(e=null){const{feedbackMittensProps:t}=this.props;return Ot.a.createElement("div",{className:yu("mittens")},Ot.a.createElement(ll,Dt({},t,{color:"#fff",type:e})))}_renderFeedback(){const{logger:e,feedbackProps:t,feedback:n,isExtendFeedbackPopupExp:r}=this.props;return t.isEnabled&&(n&&"liked"!==n||r)?r?Ot.a.createElement(xc,Dt({mainColor:"rgb(0,0,0)",className:yu("feedback-popup-view"),logger:e},t,{theme:"white"})):Ot.a.createElement("div",{className:yu("feedback-wrapper")},Ot.a.createElement(xc,Dt({logger:e},t))):null}_renderFeedbackControls(){return Ot.a.createElement("div",{className:yu("feedback-controls")},Ot.a.createElement("div",{className:yu("bottom")},this._renderDomain(),this._renderMittens("popup")))}render(){const{onAuxClick:e,started:t,paused:n,onClick:r,isIntersecting:s,controlsHidden:i,link:o,rtbFitted:a,withShadows:c,isExtendFeedbackPopupExp:l}=this.props,d={visible:s,started:t,paused:n,isExtendFeedbackPopupExp:l,withShadows:c},u=a?"_rtb-fitted":null;return Ot.a.createElement("div",{className:ra.mix(yu(d),u)},this._renderPreview(),Ot.a.createElement("a",{className:yu("content",{hidden:i}),href:o,target:"_blank",rel:"noopener",onClick:r,onAuxClick:e},this._renderPlayButton(),this._renderControls(),this._renderTitle(),Ot.a.createElement("div",{className:yu("bottom")},this._renderDomain(),this._renderMittens())),this._renderPlayer(),this._renderFeedback(),l?this._renderFeedbackControls():null)}}const ku={activeCard:{id:null,paused:!1,muted:!0},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},Cu=(e,t,n,r)=>{const{[n]:s}=e,{id:i,index:o,[r]:a}=t.payload,c=Object.assign({},s);return a?c[i]=o:delete c[i],Object.assign({},e,{[n]:c})};const wu=Object(_n.createSelector)((e,t)=>t,e=>e.videoModal.openedItemId,e=>{const{interactionCardId:t,intersectingCardIndices:n}=e.videoCards;if(void 0!==n[t])return t},(e,t)=>e.feed.items[t].video.autoplay&&e.iface.isVideoAutoplayEnabled,(e,t)=>{const{visibleCardIndices:n}=e.videoCards;if(0===n.length)return!1;const r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},(e,t,n,r,s)=>!(t||n&&n!==e)&&(n===e||!!r&&s)),Su=(e,t,n)=>{const{activeCard:r}=e.videoCards.activeCard.id===t?e.videoCards:ku;return r[n]};var Ou=Object(Do.a)(pn(()=>{const e=Object(_n.createSelector)(wu,(e,t)=>{const{feedback:n}=e.feed.items[t];return n&&"liked"!==n},(e,t)=>Su(e,t,"paused"),(e,t)=>Su(e,t,"muted"),(e,t,n,r)=>!e||t?{paused:!0,muted:!0}:{paused:n,muted:r});return(t,{id:n})=>{const r=Wn(t),s=$n(t),i=r.isExp("ab:rezen_video_modal:enable"),o=s.safeGet("rezen_extend_feedback.is_popup",!1),a=kr(t),{paused:c,muted:l}=e(t,n);return{paused:c,muted:l,hasModal:i,rtbFitted:a,withShadows:Sr(t),isExtendFeedbackPopupExp:o}}}),lu)(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={controlsHidden:!1},this._changeActiveCard=(e=>{const{id:t,paused:n,muted:r,setActiveCard:s}=this.props;s(Object.assign({id:t,paused:n,muted:r},e))}),this._hideControls=bl()(e=>{this.setState({controlsHidden:e})}),this._onAuxClick=(e=>{if(1===e.button){const{id:e,paused:t,setLastInteractedCard:n,logger:r}=this.props;n(e),t||(this._changeActiveCard({paused:!0}),r.log(iu.pause))}}),this._onClick=(e=>{const{id:t,setLastInteractedCard:n,logger:r}=this.props;if(n(t),(e.ctrlKey||e.metaKey)&&0===e.button){const{paused:e}=this.props;return void(e||(this._changeActiveCard({paused:!0}),r.log(iu.pause)))}const{hasModal:s}=this.props;if(s){const{id:e,logger:t,paused:n,toggleVideoModal:r,isModalOpen:s}=this.props;s||(t.log(iu.click),r(e),n||(this._changeActiveCard({paused:!0}),t.log(iu.pause)))}else{const{paused:e,logger:t}=this.props;t.log(iu.click),this._changeActiveCard({paused:!e}),t.log(e?iu.play:iu.pause)}e.preventDefault()}),this._onMuteClick=(e=>{const{id:t,muted:n,logger:r,video:{hasSound:s},setLastInteractedCard:i}=this.props;i(t),s&&(r.log(n?iu.sound_on:iu.sound_off),this._changeActiveCard({muted:!n})),e.stopPropagation(),e.preventDefault()}),this._onAutoplayClick=(e=>{const{id:t,autoplay:n,paused:r,logger:s,videoAutoplay:i,setLastInteractedCard:o}=this.props;o(t);const a=!n;cu(a),i(a),s.log(a?iu.autoplay_on:iu.autoplay_off),r&&a&&s.log(iu.autoplay),r||a||s.log(iu.autopause),this._changeActiveCard({paused:n}),e.stopPropagation(),e.preventDefault()}),this._stopLoop=(()=>{this._changeActiveCard({paused:!0})}),t}componentWillUnmount(){this._hideControls.cancel()}componentDidUpdate(e){const{paused:t}=e,{paused:n}=this.props;t&&!n&&(this._hideControls(!1),setTimeout(()=>this._hideControls(!0),ru)),!t&&n&&this._hideControls(!1)}render(){const{started:e,paused:t,muted:n,video:r,link:s,isIntersecting:i,logger:o,size:a,rtbFitted:c,onDestroy:l,isExtendFeedbackPopupExp:d,withShadows:u}=this.props,{controlsHidden:p}=this.state,h={video:r,shouldInitPlayer:e&&i,logger:o,objectFit:a===z?"cover":"contain",isIntersecting:i,paused:t,muted:n,onDestroy:l,stopLoop:this._stopLoop,handlers:{onCurrentTimeChange:this._onCurrentTimeChange}},m=Object.assign({},this.props,{link:s,started:e,hasSound:r.hasSound,onAuxClick:this._onAuxClick,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:h,controlsHidden:p,rtbFitted:c,isExtendFeedbackPopupExp:d,withShadows:u});return Ot.a.createElement(vu,m)}});n(259);var xu=e=>{class t extends St.Component{render(){const{isVisible:t,logger:n,onShow:r,sendShow:s,sendDeepwatch:i}=this.props;return Ot.a.createElement(oc,{logger:n,onShow:r,isVisible:t,sendShow:s,sendDeepwatch:i},Ot.a.createElement(e,this.props))}}return t.displayName=`WithShowLogger(${nc(e)})`,t};const Tu=e=>{return class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{logger:t,onClick:n}=this.props;t.log("click"),n&&n(e)}),t}render(){const t=Object.assign({},this.props,{onClick:this._onClick});return St.createElement(e,t)}}};var Iu=e=>{return class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._loggerSelector=bs(),t}render(){return Ot.a.createElement(e,Dt({},this.props,{logger:this._loggerSelector(this.props)}))}}};const Nu=ra("hint-eula");var Ru=Object(Do.a)(pn((e,{id:t})=>{const n=Xn(e),r=e.feed.items[t];return Object.assign({theme:n},r)}),Iu,Tu,xu)(class extends St.PureComponent{render(){const{theme:e,link:t,rootRef:n,onClick:r}=this.props;return Ot.a.createElement("div",{className:Nu({theme:e}),ref:n},Ot.a.createElement("div",{className:Nu("text")},"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен."),Ot.a.createElement("a",{href:t,className:Nu("link"),target:"_blank",rel:"noopener",onClick:r},"Читать полный текст пользовательского соглашения"))}});n(258);var Pu=e=>{let{tag:t="div",text:n,attrs:r,stylesFormatter:s}=e;const i=s(n,r,Lt(e,["tag","text","attrs","stylesFormatter"]));return Ot.a.createElement(t,Dt({},r,{style:i}),n)};const Au=e=>(t,n,{warning:r})=>{const s=t.length;let i;return i=s<=20?e.big:s<=40&&!r?e.medium:e.small},Mu={fontSize:"10px",lineHeight:"14px"},Du=Au({small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"18px",lineHeight:"22px"},big:{fontSize:"26px",lineHeight:"32px"}}),Lu=Au({small:{fontSize:"12px",lineHeight:"16px"},medium:{fontSize:"14px",lineHeight:"20px"},big:{fontSize:"14px",lineHeight:"20px"}}),Bu=e=>e.length>=30?Mu:null,ju=({title:e,warning:t,attrs:n})=>Ot.a.createElement(Pu,{text:e,stylesFormatter:Du,warning:t,attrs:n}),Fu=({text:e,warning:t,attrs:n})=>Ot.a.createElement(Pu,{text:e,stylesFormatter:Lu,warning:t,attrs:n}),Uu=({warning:e,attrs:t})=>Ot.a.createElement(Pu,{text:e,stylesFormatter:Bu,attrs:t});n(257);const zu=ra("direkt-card-standard");var Vu=class extends St.PureComponent{render(){const{title:e,text:t,age:n,warning:r,domain:s,isRubberyDesign:i,directLinkClickHandler:o,columnCount:a,hasButton:c,isMordaDesktop:l}=this.props;let{image:d,renderLabel:u}=this.props;if(d){const e=Number(d[1]),t=Number(d[2]);d=e>=306&&t>=135?d[0]:null}let p=null,h=null,m=null;d||i?(p=Ot.a.createElement(ju,{title:e,warning:r,attrs:{className:zu("title")}}),h=Ot.a.createElement(Fu,{text:t,warning:r,attrs:{className:zu("text")}}),r&&(m=Ot.a.createElement(Uu,{warning:r,attrs:{className:zu("warning")}}))):(p=Ot.a.createElement("div",{className:zu("title")},e),h=Ot.a.createElement("div",{className:zu("text")},t),r&&(m=Ot.a.createElement("div",{className:zu("warning")},r)));const f={columns:a,hasImage:Boolean(d),hasButton:c,isMordaDesktop:l};return Ot.a.createElement("div",{className:zu(f)},Ot.a.createElement("div",{className:zu("label"),onClick:o},Ot.a.createElement(u,null)),d?Ot.a.createElement("div",{className:zu("image"),style:{backgroundImage:`url(${d})`}}):null,Ot.a.createElement("div",{className:zu("image-gradient")}),Ot.a.createElement("div",{className:zu("title-spacer")}),Ot.a.createElement("div",{className:zu("content")},Ot.a.createElement("div",{className:zu("title-content")},p),Ot.a.createElement("div",{className:zu("sub-content")},Ot.a.createElement("div",{className:zu("domain")},s),n?Ot.a.createElement("div",{className:zu("age")},n):null),Ot.a.createElement("div",{className:zu("text-content")},h,m)),c?Ot.a.createElement("div",{className:zu("button")},"Перейти"):null)}};n(256);const Hu=ra("direkt-card-banner");var Wu=class extends St.PureComponent{render(){const{title:e,text:t,image:n,warning:r,domain:s,age:i,directLinkClickHandler:o,columnCount:a,hasButton:c,rootRef:l,renderLabel:d}=this.props,u={columns:a,hasButton:c};return Ot.a.createElement("div",{className:Hu(u),ref:l},Ot.a.createElement("div",{className:Hu("label"),onClick:o},Ot.a.createElement(d,null)),Ot.a.createElement("div",{className:Hu("background")},Ot.a.createElement("div",{className:Hu("image"),style:{backgroundImage:`url(${n})`}}),Ot.a.createElement("div",{className:Hu("image-mask")})),Ot.a.createElement("div",{className:Hu("hover-fade")}),Ot.a.createElement("div",{className:Hu("title-spacer")}),Ot.a.createElement("div",{className:Hu("content")},Ot.a.createElement("div",{className:Hu("title-content")},Ot.a.createElement(ju,{title:e,warning:r,attrs:{className:Hu("title")}})),Ot.a.createElement("div",{className:Hu("sub-content")},Ot.a.createElement("div",{className:Hu("domain")},s),i?Ot.a.createElement("div",{className:Hu("age")},i):null),Ot.a.createElement("div",{className:Hu("text-content")},Ot.a.createElement(Fu,{text:t,warning:r,attrs:{className:Hu("text")}}),r?Ot.a.createElement("div",{className:Hu("warning")},r):null)),c?Ot.a.createElement("div",{className:Hu("button")},"Перейти"):null)}},$u=n(58);var Gu=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=$u.a[t];n?window.open(n,"_blank"):console.warn("directPartnerClickHandler: invalid tld")};const qu=ra("direkt");var Ku=pn((e,{id:t})=>{const n=e.feed.items[t],{tld:r}=e.params,s=ur(e.feed),i=br(e),o=Wn(e),a=o.isExp("rezen_direct_use_wide_images"),c=o.isExp("direct_label_cut"),l=kr(e),d=Xn(e);return Object.assign({tld:r,columnCount:s,hasButton:!0,isRubberyDesign:Boolean(i),isWideImagesExp:a,isRtbFitted:l,isDirectLabelCut:c,isMordaDesktop:!0,theme:d},n)},(e,t)=>({onAdClick(){e(Mc(t.id))},onAdShow(){e(Ac(t.id))}}))(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._sendShowStat=(()=>{Qe(this.props.showUrl).catch(console.error),this.props.onAdShow()}),this._directLinkClickHandler=(e=>{const{tld:t}=this.props;Gu(e,t)}),this._renderLabel=(()=>{const{isDirectLabelCut:e}=this.props,t="Яндекс.Директ";return e?Ot.a.createElement("span",{className:qu("label-container")}):t}),t}_getImageUrl(){const{image:e}=this.props;return e&&e[0]}_onAdClick(e){const{onAdClick:t,url:n}=this.props;t(e),window.open(n,"_blank")}render(){const{rootRef:e,title:t,text:n,image:r,domain:s,age:i,warning:o,isWideImage:a,columnCount:c,hasButton:l,isRubberyDesign:d,isVisible:u,isIntersecting:p,isWideImagesExp:h,isMordaDesktop:m,theme:f}=this.props,g={image:this._getImageUrl(),warning:o,title:t,text:n,domain:s,age:i,columnCount:c,hasButton:l,isRubberyDesign:d,isVisible:u,isIntersecting:p,isMordaDesktop:m,theme:f,renderLabel:this._renderLabel,directLinkClickHandler:this._directLinkClickHandler},_=Ot.a.createElement("div",{className:qu(),onClick:e=>this._onAdClick(e),onAuxClick:this.props.onAdClick,ref:e},a&&h?Ot.a.createElement(Wu,g):Ot.a.createElement(Vu,Dt({},g,{image:r})));return Ot.a.createElement(oc,{isVisible:u,onShow:this._sendShowStat},_)}});n(255);const Yu=ca("channel-card"),Qu=e=>e.length>=8&&/\s/.test(e);class Zu extends Ot.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isTouch:!1},this._onIconClick=(e=>{const{onIconClick:t}=this.props;t&&(e.preventDefault(),e.stopPropagation(),t(e))}),t}componentDidMount(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.setState({isTouch:e})}_renderText(){const{text:e}=this.props;if(!Qu(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return Ot.a.createElement(St.Fragment,null,e.slice(0,n),Ot.a.createElement("br",null),e.slice(n))}render(){const e=this.props,{size:t,status:n,theme:r,image:s,imageBackgroundColor:i,text:o,textColor:a,textBackgroundColor:c,containerRef:l,tag:d,isMobile:u}=e,p=Lt(e,["size","status","theme","image","imageBackgroundColor","text","textColor","textBackgroundColor","containerRef","tag","isMobile"]),h={backgroundColor:i,backgroundImage:`url('${s}')`},m={color:a,backgroundColor:c},{isTouch:f}=this.state,g=sa(Za(p,["onIconClick","isMobile"]),{className:Yu({size:t,status:n,theme:r,isMobile:u,isTouch:f,isButton:"a"===d||"button"===d})});return Ot.a.createElement(d,Dt({ref:l},g),Ot.a.createElement("div",{className:Yu("image"),style:h}),Ot.a.createElement("div",{className:Yu("text",{isLong:Qu(o)}),style:m},Ot.a.createElement("div",{className:Yu("text-wrapper")},this._renderText())),Ot.a.createElement("div",{className:Yu("gradient")}),Ot.a.createElement("div",{className:Yu("icon"),onClick:this._onIconClick}))}}Zu.defaultProps={tag:"div",theme:"white"};var Ju=Object(St.forwardRef)((e,t)=>Ot.a.createElement(Zu,Dt({},e,{containerRef:t})));var Xu=pn(null,{checkSource:e=>({type:"CHECK_SOURCE",payload:{id:e}}),uncheckSource:e=>({type:"UNCHECK_SOURCE",payload:{id:e}})})(class extends St.Component{constructor(...e){var t;return t=super(...e),this._onClick=(()=>{const{logger:e,checkSource:t,uncheckSource:n,channel:r}=this.props,{id:s,userSubscribed:i}=r;(i?n:t)(s),e.log("click",{global:{_i_:s,_s_:String(i?0:1)}}),mt.invalidateCache()}),t}getCardProps(){const{channel:e}=this.props,{image:t,name:n,userSubscribed:r,textBackgroundColor:s,imageBackgroundColor:i,textColor:o}=e;return{image:t,textColor:o,text:n,textBackgroundColor:s,imageBackgroundColor:i,status:r?"subscribed":"add",theme:"black"}}render(){return Ot.a.createElement(Ju,Dt({},this.getCardProps(),{size:"r",onClick:this._onClick,onIconClick:this._onClick,isMobile:this.props.isMobile}))}});n(244);const ep=ra("iceboarding-view");var tp=class extends St.PureComponent{_renderButton(){const{moreButton:e}=this.props;return e?Ot.a.createElement("a",{className:ep("more-sources"),href:e.link},"Показать больше источников"):null}render(){const{sources:e,titleRef:t,view:n,theme:r,logger:s,isMobile:i}=this.props;return Ot.a.createElement("div",{className:ep({view:n,theme:r})},Ot.a.createElement("div",{className:ep("title"),ref:t},"Отметьте интересные источники"),Ot.a.createElement("div",{className:ep("description")},"В ленте будет больше публикаций с этих сайтов"),Ot.a.createElement("div",{className:ep("sources")},e.map((e,t)=>Ot.a.createElement("div",{className:ep("source-item"),key:t},Ot.a.createElement(Xu,{channel:e,logger:s,isMobile:i})))),this._renderButton())}};var np=pn(()=>{const e=_s(),t=Object(_n.createSelector)(e=>e.iceboarding.checkedSources,(e,t)=>e.feed.items[t],e=>ur(e.feed),(e,t,n)=>t.sources.slice(0,30).map(t=>Object.assign({},t,{userSubscribed:e.includes(t.id)})));return(n,{id:r})=>{const s=n.feed.items[r];return Object.assign({},s,{sources:t(n,r),isMobile:n.params.isMobile,theme:Xn(n),logger:e(s)})}})(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onShow=(()=>{const{logger:e,sources:t}=this.props;e.log("show",{info:t.map(({id:e})=>e)})}),t}render(){const{isVisible:e,isMobile:t}=this.props,n=Object.assign({},this.props,{view:t?"mobile":"desktop"});return Ot.a.createElement(oc,{isVisible:e,onShow:this._onShow},Ot.a.createElement(tp,n))}});n(243);const rp=ra("iceboarding-feed-item");var sp=class extends St.PureComponent{render(){const{id:e,rootRef:t,isVisible:n,rowIndex:r}=this.props;return Ot.a.createElement("div",{className:rp(),ref:t},Ot.a.createElement(np,{id:e,isVisible:n,rowIndex:r}))}};n(242),n(241),n(240);const ip=(e,t,n=!1)=>{if(e.length<3||n&&t()>.7)return[e];const r=t()*(e.length-2)+1;return[...ip(e.substr(0,r),t,!0),...ip(e.substr(r),t,!0)]};var op=ip;const ap=e=>{const t=window.Ya&&window.Ya.Rum,n=t&&t.makeSubPage?t.makeSubPage(e,t.getTime()):null;return{sendTimeMark(e=[]){if(!n)return;const r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart(e=[]){this.sendTimeMark(["1724",...e])},onRenderEnd(e=[]){this.sendTimeMark(["2046",...e])}}},cp="https://yastatic.net/partner-code/loaders/context.js",lp="yandexContextAsyncCallbacks";let dp,up=!1;const pp=()=>{if(up)return;up=!0;const e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)};function hp(e,t={},n){t.pcodever&&(window.pcodever=t.pcodever);const r=ap("155");t.isLiteRtb&&pp(),(dp||(dp=new Promise((e,t)=>{window[lp]=window[lp]||[],window[lp].push(()=>{e(window.Ya)}),xn(cp).catch(t)})),dp).then(t=>{r.onLoadStart(),t.Context.AdvManager.render(Object.assign({},e,{onRender:t=>{r.onRenderEnd(["direct"===t.product?"155":"3431"]),e.onRender&&e.onRender(t)}}),n)})}var mp=(e=123456789)=>{let t=e,n=987654321,r=4294967295;return{getNext:()=>{let e=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return.5+(e/=4294967296)},setSeed:(e=123456789)=>{t=e,n=987654321}}};const fp=mp();var gp=e=>{class t extends St.Component{constructor(...e){var t;return t=super(...e),this.state={seed:Math.floor(1e4*fp.getNext()),random:mp()},t}render(){const{seed:t,random:n}=this.state;return n.setSeed(t),Ot.a.createElement(e,Dt({},this.props,{random:n}))}}return t.displayName=`WithRandomSequence(${nc(e)})`,t};const _p=ra("rtb-card");let bp=0;const Ep={reportAdDidntLoad:e=>({type:"REPORT_AD_DIDNT_LOAD",payload:{itemId:e}})},yp=Object(Do.a)(Wd(({zenLogger:e})=>({zenLogger:e})),pn(e=>{const t=Wn(e).isExp("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),n=$n(e).safeGet("rezen_pcode.version",0),{cspNonce:r,adId:s}=e.params,i=Sr(e);return{isRtbFitted:kr(e),isLiteRtb:t,pcodever:n,cspNonce:r,adId:s,withShadows:i}},Ep),gp)(class extends Ot.a.Component{constructor(...e){var t;return t=super(...e),this._reportFailure=(()=>{const{ad:e,id:t,reportAdDidntLoad:n,zenLogger:r}=this.props;r.warn(`No ad: ${JSON.stringify(e)}`),n(t)}),this._renderRtbContainer=(()=>{const{blockId:e,partnerStatId:t,domElemId:n}=this.props.ad;return Ot.a.createElement("div",{"data-block-id":void 0,id:n})}),t}componentDidMount(){const{isLiteRtb:e,pcodever:t}=this.props;hp(this._getRsyaConfig(),{isLiteRtb:e,pcodever:t},this._reportFailure)}_getRsyaConfig(){const{ad:e,cspNonce:t,adId:n}=this.props,{blockId:r,partnerStatId:s,domElemId:i}=e,o={blockId:r,statId:s,pageNumber:bp++,renderTo:i,grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0,cspNonce:t};return null!=n&&(o.extParams=`&mobile-ifa=${n}`),o}shouldComponentUpdate(){return!1}render(){const{isRtbFitted:e,mix:t,random:n,withShadows:r}=this.props,s=e?"_is-rtb-fitted":null,i=op("реклама",n.getNext).reverse().map((e,t)=>Ot.a.createElement("div",{key:t},e));return Ot.a.createElement("div",{className:ra.mix(_p({withShadows:r}),s,t)},Ot.a.createElement("div",{className:"rtb-card__ad-box"},Ot.a.createElement("div",{className:"rtb-card__ad-box-reverse"},i)),Ot.a.createElement("div",{className:"rtb-card__ad"},this._renderRtbContainer()))}});n(239);const vp=pn(e=>({adDomain:e.params.adDomain}))(class extends Ot.a.Component{constructor(...e){var t;return t=super(...e),this._iframeRef=Ot.a.createRef(),this._frameLoad=function(e){let t,n=!1;return function(...r){return n||(n=!0,t=e.apply(this,r)),t}}(()=>{const{adDomain:e,width:t,height:n}=this.props,{client:r,slot:s}=this.props.ad;this._iframeRef.current.contentWindow.postMessage({type:"adsense",client:r,slot:s,width:t,height:n},e)}),t}shouldComponentUpdate(){return!1}componentDidMount(){this._iframeRef.current.addEventListener("load",this._frameLoad)}componentWillUnmount(){this._iframeRef.current.removeEventListener("load",this._frameLoad)}render(){const{adDomain:e}=this.props;return Ot.a.createElement("iframe",{sandbox:"allow-same-origin allow-scripts allow-popups",className:"frame",src:`${e}/adsense.html`,ref:this._iframeRef,scrolling:"no",marginWidth:"0",marginHeight:"0",frameBorder:"0",referrerPolicy:"no-referrer"})}});var kp=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._width=336,this._height=280,this._containerRef=(e=>{if(!e)return;const{width:t,height:n}=e.getBoundingClientRect();this._width=t,this._height=n}),t}_renderAd(){const e=Object.assign({},this.props,{width:this._width,height:this._height}),{ad:{type:t}}=this.props;return"direct"===t?Ot.a.createElement(yp,e):"adsense"===t?Ot.a.createElement(vp,e):null}render(){const{isIntersecting:e}=this.props;return Ot.a.createElement("div",{className:"ad-card",ref:this._containerRef},this._renderAd(),Ot.a.createElement(kd,null))}};n(238);const Cp=ra("similar-doc-card-view");var wp=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderRocket=(()=>{const{rocket:e,image:t,isDark:n}=this.props;return e?Ot.a.createElement("div",{className:Cp("rocket")},Ot.a.createElement(Od,{faint:!t,color:n?"#fff":"#000"})):null}),this._renderClickable=(()=>{const{onClick:e,link:t,rootRef:n}=this.props;return Ot.a.createElement(Ml,{className:Cp("clickable"),ref:n,onClick:e,onAuxClick:e,href:t})}),t}getStyles(){const e={},{image:t,cardColors:n,mainColor:r}=this.props;return t&&(e.backgroundImage=`url(${t})`,e.backgroundPosition="center",e.backgroundSize="cover"),r?e.color=Pc(r).text:n&&(e.color=n.text),e}getCardColor(){const{cardColors:e,mainColor:t}=this.props;return t?Pc(t).card:e?e.card:void 0}getFadesStyle(){const e=this.getCardColor();if(e){const t=Tc(e).join(),n=[`rgba(${t},1) 0%`,`rgba(${t},0.2) 40%`,`rgba(${t},0.3) 56%`,`rgba(${t},0.3) 100%`];return{fade:{background:`linear-gradient(to right, ${[`rgba(${t},0.88) 0%`,`rgba(${t},0.88) 25%`,`rgba(${t},0.79) 40%`,`rgba(${t},0.68) 56%`,`rgba(${t},0.09) 100%`].join()})`},hover:{background:`linear-gradient(to right, ${n.join()})`}}}return{fade:{},hover:{}}}render(){const{title:e,text:t,domainTitle:n,image:r,isMobile:s,isIntersecting:i,feedLink:o,logger:a,linkHoverEnabled:c,theme:l,isMordaDesktop:d}=this.props,u=this.getFadesStyle(),p={hasImage:Boolean(r),mobile:s,linkHoverEnabled:c,theme:l,isMordaDesktop:d};return Ot.a.createElement("div",{className:Cp(p),style:this.getStyles()},this._renderClickable(),Ot.a.createElement("div",{className:Cp("fade"),style:u.fade}),Ot.a.createElement("div",{className:Cp("hover-fade"),style:u.hover}),this._renderRocket(),Ot.a.createElement("div",{className:Cp("content")},Ot.a.createElement("div",{className:Cp("content-wrapper")},Ot.a.createElement(Xl,{className:Cp("title"),isIntersecting:i},e),s?null:Ot.a.createElement(Xl,{className:Cp("text"),isIntersecting:i},t),Ot.a.createElement(Rl,{className:Cp("source-name-holder"),link:o,logger:a},Ot.a.createElement("div",{className:Cp("source-name")},n)))),Ot.a.createElement(kd,null))}};var Sp=Object(Do.a)(al,wa,pn(e=>{return{linkHoverEnabled:Wn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}}))(class extends St.PureComponent{render(){const{isVisible:e,logger:t}=this.props,n=Object.assign({},this.props,{onClick:()=>t.log("click")}),r=this.props.ad?Ot.a.createElement(kp,Dt({},n,{mix:"similar__item-ad-container"})):Ot.a.createElement(wp,n);return Ot.a.createElement(oc,{logger:t,isVisible:e},r)}});n(237);const Op=ra("similar-direkt-card-view");var xp=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._directLinkClickHandler=(e=>{const{tld:t}=this.props;Gu(e,t)}),t}_onAdClick(e){const{onClick:t,url:n}=this.props;t(e),window.open(n,"_blank")}_getImage(){const{image:e}=this.props;return e&&e[0]}_renderBackground(){const e=this._getImage();return e?Ot.a.createElement("div",{className:Op("background-wrapper")},Ot.a.createElement("div",{className:Op("background"),style:{backgroundImage:`url(${e})`}}),Ot.a.createElement("div",{className:Op("background-gradient")}),Ot.a.createElement("div",{className:Op("background-hover")})):null}_renderAge(){const{age:e}=this.props;return e?Ot.a.createElement("div",{className:Op("age")},e):null}_renderWarning(){const{warning:e}=this.props;return e?Ot.a.createElement("div",{className:Op("warning-content")},Ot.a.createElement("div",{className:Op("warning")},e),this._renderAge()):null}render(){const{rootRef:e,title:t,text:n,domain:r,isMobile:s,onClick:i,isMordaDesktop:o,theme:a}=this.props,c=this._getImage(),l={hasImage:Boolean(c),mobile:s,isMordaDesktop:o,theme:a};return Ot.a.createElement("div",{className:Op(l),onClick:e=>this._onAdClick(e),onAuxClick:i,ref:e},Ot.a.createElement("div",{className:Op("label"),onClick:this._directLinkClickHandler}),this._renderBackground(),Ot.a.createElement("div",{className:Op("image"),style:{backgroundImage:`url(${c})`}}),Ot.a.createElement("div",{className:Op("content")},Ot.a.createElement("div",{className:Op("title")},t),Ot.a.createElement("div",{className:Op("domain")},r),Ot.a.createElement("div",{className:Op("text")},n),this._renderWarning()||this._renderAge()),Ot.a.createElement(kd,null))}};var Tp=Object(Do.a)(al,wa,pn(e=>{const{tld:t}=e.params;return{tld:t}}))(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._sendShowStat=(()=>{const{logger:e,showUrl:t}=this.props;e.log("show"),Qe(t).catch(console.error)}),t}render(){const{logger:e,isIntersecting:t,isVisible:n}=this.props,r=Object.assign({},this.props,{onClick:()=>e.log("click")});return Ot.a.createElement(oc,{isVisible:n,onShow:this._sendShowStat},Ot.a.createElement(xp,r))}});const Ip=4,Np=ra("similar");var Rp=pn((e,{id:t})=>{const n=e.feed.items[t],r=yr(e,t),s=Wn(e),i=Xn(e);return Object.assign({pointerPosition:r,experiments:s,isTouch:e.params.isTouch,isMordaDesktop:!0,theme:i},xr(e),n)})(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderFilterMask=(()=>Ot.a.createElement("div",{className:Np("filter-mask")})),this._renderSmallCard=((e,t)=>{const{rowIndex:n,experiments:r,isMordaDesktop:s,theme:i}=this.props,o=r.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),a=r.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing");return Ot.a.createElement("div",{className:Np("card",{isLetterSpacingExp:o,isBigLetterSpacingExp:a}),key:`doc-${t}`},Ot.a.createElement(Sp,Dt({},e,{rowIndex:n,isMordaDesktop:s,theme:i})),this._renderFilterMask())}),this._renderDirectCard=((e,t)=>{const{rowIndex:n,isMordaDesktop:r,theme:s}=this.props;return Ot.a.createElement("div",{className:Np("card"),key:`direct-${t}`},Ot.a.createElement(Tp,Dt({},e,{rowIndex:n,isMordaDesktop:r,theme:s})),this._renderFilterMask())}),t}_getDocs(){const{items:e,columnCount:t,isAdsense:n,isTouch:r}=this.props,{docs:s,direct:i}=e;let o;return n&&!r?s.slice().reverse().slice(0,3).reverse():(o=i.length>0?Ip-1:Ip,i.length,s.slice(0,o))}_renderLeftPointer(e){return e===W.CENTER?null:Ot.a.createElement("div",{className:Np("left-pointer")},Ot.a.createElement("div",{className:Np("left-pointer-spacer")}),e===W.LEFT?Ot.a.createElement("div",{className:Np("left-pointer-elem")}):null)}_renderRightPointer(e){return e===W.CENTER?null:Ot.a.createElement("div",{className:Np("right-pointer")},e===W.RIGHT?Ot.a.createElement("div",{className:Np("right-pointer-elem")}):null,Ot.a.createElement("div",{className:Np("right-pointer-spacer")}))}render(){const{pointerPosition:e,items:t,isAdsense:n}=this.props,r=this._getDocs(),{direct:s}=t;return Ot.a.createElement("div",{className:Np({isAdsense:n})},Ot.a.createElement("div",{className:Np("title")},this._renderLeftPointer(e),Ot.a.createElement("span",{className:Np("title-text")},"Вам может быть интересно"),this._renderRightPointer(e)),Ot.a.createElement("div",{className:Np("cards")},r.map(this._renderSmallCard),s.map(this._renderDirectCard)))}});n(234);const Pp=ra("placeholder-card");var Ap=pn(()=>{const e=_s();return(t,{id:n,rowIndex:r})=>{const s=t.feed.items[n];return{index:_r(t.feed,n),logger:e(Object.assign({},s,{rowIndex:r}))}}})(class extends St.Component{constructor(...e){var t;return t=super(...e),this._containerRef=Ot.a.createRef(),this._getPlaceholderEventParams=(()=>{const{index:e,rowIndex:t,itemIndexInRow:n,logger:r}=this.props;return{index:e,rowIndex:t,itemIndexInRow:n,container:this._containerRef.current,size:this._getPlaceholderSize(),onShow:()=>r.log("partner_show"),onClick:()=>r.log("partner_click")}}),this._triggerRealShow=(()=>{this._containerRef.current&&(ft.emit(gt.PLACEHOLDER_SHOW,this._getPlaceholderEventParams()),this._realShowSent=!0)}),this._getLogger=(()=>{const{logger:e}=this.props,t=this._containerRef.current;return t&&t.hasChildNodes()?e:null}),this._onClick=(()=>{const e=this._getLogger();e&&e.log("click")}),this._getPlaceholderSize=(()=>{const{size:e}=this.props;switch(e){case V:return"big";case z:return"small";case H:return"free";default:return console.error("Unsupported placeholder size: ",e),null}}),t}shouldComponentUpdate(e){const{isVisible:t}=this.props,{isVisible:n}=e;return!this._realShowSent&&!t&&n}componentWillUnmount(){const{index:e}=this.props;ft.emit(gt.PLACEHOLDER_UNMOUNT,{index:e})}componentDidMount(){this._containerRef.current&&ft.emit(gt.PLACEHOLDER,this._getPlaceholderEventParams()),this._getPlaceholderSize()}render(){const{isVisible:e}=this.props,t=this._getLogger(),n=this._getPlaceholderSize(),r=this._containerRef.current,s=!r||!r.hasChildNodes();return Ot.a.createElement(oc,{isVisible:e,onShow:this._triggerRealShow,logger:t},Ot.a.createElement("div",{className:Pp({size:n,needBackground:s})},Ot.a.createElement("div",{className:Pp("background")}),Ot.a.createElement("div",{className:Pp("container"),ref:this._containerRef,onClick:this._onClick})))}});n(233);var Mp={1:{[z]:{[W.LEFT]:{width:"100%"}}},2:{[z]:{[W.LEFT]:{width:"50%",justifyContent:"flex-start"},[W.RIGHT]:{width:"50%",justifyContent:"flex-end"}},[V]:{[W.LEFT]:{width:"100%",justifyContent:"center"}},[H]:{[W.LEFT]:{width:"100%",justifyContent:"center"}}},3:{[z]:{[W.LEFT]:{width:"33.333%",justifyContent:"flex-start"},[W.CENTER]:{width:"33.333%",justifyContent:"center"},[W.RIGHT]:{width:"33.333%",justifyContent:"flex-end"}},[V]:{[W.LEFT]:{width:"66.666%",justifyContent:"flex-start"},[W.RIGHT]:{width:"66.666%",justifyContent:"flex-end"}},[H]:{[W.LEFT]:{width:"100%",justifyContent:"center"}}}};const Dp=ra("user-question-view");const Lp=()=>Ot.a.createElement("div",{className:Dp("response")},"Спасибо за помощь!");var Bp=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._containerRef=(e=>{const{rootRef:t}=this.props;t&&t(e)}),this._renderUserQuestionAnswer=(({id:e,text:t,key:n})=>{const{onCheck:r}=this.props;return Ot.a.createElement("div",{className:Dp("answer"),key:n,onClick:()=>{r(e,n,!0),Ri()}},t)}),t}_getContentSizeParams(){const{position:e,columnCount:t,parentItemSize:n}=this.props;return Mp[t][n][e]}_renderQuestionContent(){const{answers:e,text:t}=this.props;return Ot.a.createElement("div",{ref:this._containerRef},Ot.a.createElement("div",{className:Dp("title")},t),Ot.a.createElement("div",{className:Dp("answers")},e.map(({id:e,text:t,isChecked:n},r)=>this._renderUserQuestionAnswer({id:e,text:t,key:r,isChecked:n}))))}render(){const{width:e,justifyContent:t}=this._getContentSizeParams(),n=this.props.answers.some(e=>e.isChecked);return Ot.a.createElement("div",{className:Dp(),style:{justifyContent:t}},Ot.a.createElement("div",{className:Dp("content"),style:{width:e}},n?Ot.a.createElement(Lp,null):this._renderQuestionContent()))}};const jp={answerUserQuestion:Ri};var Fp=Object(Do.a)(pn((e,{id:t})=>{const{parentId:n}=e.feed.items[t]||{};return{question:ks(e,n),position:yr(e,t),columnCount:ur(e.feed),parentItemSize:vr(e,t)}},jp),rc,wa,xu)(Bp);n(232),n(231);const Up=ra("interest-tag"),zp=e=>{const{component:t,innerComponent:n="span",rootRef:r,title:s}=e,i=Lt(e,["component","innerComponent","rootRef","title"]),o=sa(i,{className:Up()});return Ot.a.createElement(t,Dt({ref:r},o),Ot.a.createElement(n,{className:Up("title")},s))};zp.defaultProps={component:"div"};var Vp=zp;const Hp=Object(Do.a)(Iu,wa,Tu,xu)(e=>{const{title:t,target:n="_blank",feedLink:r,rootRef:s,onClick:i}=e;return Ot.a.createElement(Vp,{rootRef:s,component:Ml,innerComponent:"h3",className:Wp("interest"),style:{backgroundColor:"#dedede"},onClick:i,title:t,href:r,target:n})}),Wp=ra("similar-interests");var $p=pn((e,{id:t,rowIndex:n})=>{const r=e.feed.items[t];return Object.assign({},r,{rowIndex:n})})(class extends St.PureComponent{render(){const{items:e,isMobile:t,itemsTarget:n}=this.props;return 0===e.length?null:Ot.a.createElement("div",{className:Wp({isMobile:t})},Ot.a.createElement("h2",{className:Wp("title")},"Смотрите также"),Ot.a.createElement("div",{className:Wp("interests")},e.map(e=>Ot.a.createElement(Hp,Dt({key:e.id},e,{component:"a",href:e.feedLink,target:n,rel:"noopener",place:"feed",className:Wp("interest")})))))}});const Gp=e=>{class t extends St.PureComponent{render(){const t=this.props,{adDidntLoad:n}=t,r=Lt(t,["adDidntLoad"]);return n?Ot.a.createElement(e,r):Ot.a.createElement(kp,Dt({},r,{mix:"feed__item-ad-container"}))}}t.displayName=`WithAdCard(${nc(e)})`;return pn((e,{id:t})=>{return{adDidntLoad:e.feed.items[t].adDidntLoad}})(t)};n(230),n(229);const qp={top:{oppositeSide:"bottom",sizeType:"height",isPrimarySide:!0},bottom:{oppositeSide:"top",sizeType:"height",isPrimarySide:!1},right:{oppositeSide:"left",sizeType:"width",isPrimarySide:!1},left:{oppositeSide:"right",sizeType:"width",isPrimarySide:!0}},Kp=(e,t,n,r)=>{if(!document.documentElement||"center"===e)return!1;const{oppositeSide:s,sizeType:i,isPrimarySide:o}=qp[e],a="width"===i?document.documentElement.clientWidth:document.documentElement.clientHeight,[c,l]=o?[e,s]:[s,e],d="number"==typeof t[c]?r[c]+t[c]:r[l]-t[l]-n[i];return d<0||d+n[i]>a},Yp=(e,t,n)=>{if(!n.offsetParent)return null;const{y:r,x:s,shifts:i={},shouldOverlap:o=!1,shouldFlip:a=!1}=e,c=n.offsetParent.getBoundingClientRect(),l=t.getBoundingClientRect(),d=n.getBoundingClientRect(),u=((e,t)=>({top:e.top-t.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:e.left-t.left,width:e.width,height:e.height}))(l,c),p={};let h=!1,m=!1;"object"==typeof o?(h=o.x,m=o.y):(h=o,m=o);const f=e=>{const{oppositeSide:t,sizeType:n}=qp[e];p[t]=u[t]+u[n]},g=e=>{const{sizeType:t}=qp[e];p[e]=u[e]+(u[t]-d[t])/2};if("center"===r?g("top"):qp[r]&&(m?p[r]=u[r]:f(r)),"center"===s?g("left"):qp[s]&&(h?p[s]=u[s]:f(s)),Object.keys(i).forEach(e=>{if(qp[e]){const t=i[e],{oppositeSide:n}=qp[e];"number"==typeof t&&("number"==typeof p[e]?p[e]+=t:"number"==typeof p[n]&&(p[n]-=t))}}),!a)return p;const _=Kp(s,p,d,c),b=Kp(r,p,d,c);if(!_&&!b)return p;const E=[[_,"x",s],[b,"y",r]].reduce((e,[t,n,r])=>t?((e,t,n)=>{if("center"===n)return e;const r=Object.assign({},e),{oppositeSide:s}=qp[n];if(r[t]=s,e.shifts){const t=Object.assign({},e.shifts),i=e.shifts[n],o=e.shifts[s];"number"==typeof i&&(t[s]=i,delete t[n]),"number"==typeof o&&(t[n]=o,delete t[s]),r.shifts=t}return r})(e,n,r):e,Object.assign({},e,{shouldFlip:!1}));return Yp(E,t,n)};var Qp=e=>(t,n)=>Yp(e,t,n);n(228),n(227);const Zp=27,Jp=100,Xp=ca("popup-base");class eh extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={position:null,onOpenScroll:null},this._containerElem=null,this._whileOpenListenerStorage=new Qa,this._containerRef=(e=>{this._containerElem=e,e?this._popupDidOpen():this._popupDidClose()}),t}_getCloseOnScrollThreshold(){const{shouldCloseOnScroll:e}=this.props;return"number"==typeof e?e:e?Jp:null}_isNotPopupClick(e){const t=this.props.getTriggerElem();let{target:n}=e;for(;n;){if(!(n instanceof Node)||n===t||n===this._containerElem)return!1;n=n.parentNode}return!0}_popupDidOpen(){const{getPosition:e,getTriggerElem:t}=this.props;this.setState({position:e(t(),this._containerElem),onOpenScroll:window.pageYOffset}),this._whileOpenListenerStorage.add(document,"click",e=>{if(this._isNotPopupClick(e)){const{shouldCloseOnOuterClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===Zp){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}}),this._whileOpenListenerStorage.add(document,"scroll",()=>{const{close:e}=this.props,{onOpenScroll:t}=this.state,n=this._getCloseOnScrollThreshold();"number"==typeof n&&"number"==typeof t&&Math.abs(window.pageYOffset-t)>n&&e()})}_popupDidClose(){this.setState({position:null,onOpenScroll:null}),this._whileOpenListenerStorage.clear()}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){const{position:e}=this.state,t=sa(Za(this.props,["close","getPosition","getTriggerElem","shouldCloseOnEscClick","shouldCloseOnOuterClick","shouldCloseOnScroll"]),{className:Xp(),style:Object.assign({},e,{visibility:e?null:"hidden"})});return Ot.a.createElement("div",Dt({ref:this._containerRef},t))}}eh.defaultProps={shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,shouldCloseOnScroll:!0};var th=eh;const nh=150,rh=ca("popup");class sh extends St.PureComponent{componentDidUpdate(e){const{isOpen:t,onOpen:n,onClose:r}=this.props;!e.isOpen&&t&&"function"==typeof n&&n(),e.isOpen&&!t&&"function"==typeof r&&r()}render(){const e=this.props,{isOpen:t,children:n}=e,r=Lt(e,["isOpen","children"]);let s;if(t){const e=sa(Za(r,["onOpen","onClose"]),{className:rh()});s=Ot.a.createElement(th,Dt({key:"popup"},e),"function"==typeof n?n():n)}else s=null;return Ot.a.createElement(Oa.a,{component:St.Fragment,transitionName:"_transition",transitionEnterTimeout:nh,transitionLeaveTimeout:nh},s)}}sh.defaultProps={isOpen:!1};var ih=sh;const oh={hasTriggerElem:!1};var ah=(e={})=>t=>{const n=Object.assign({},oh,e);class r extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={isOpen:!1},this._triggerRef=Object(St.createRef)(),this._getTriggerElem=(()=>this._triggerRef.current),this._open=(()=>{this.setState({isOpen:!0})}),this._close=(()=>{this.setState({isOpen:!1})}),this._toggle=(()=>{this.state.isOpen?this._close():this._open()}),t}_renderTrigger(){return this.props.renderTrigger({containerRef:this._triggerRef,open:this._open,close:this._close,toggle:this._toggle,isOpen:this.state.isOpen})}_renderContent(){const{hasTriggerElem:e}=n,r=this.props,{renderContent:s,containerRef:i}=r,o=Lt(r,["renderTrigger","renderContent","containerRef"]),{isOpen:a}=this.state,c=e?{ref:i,getTriggerElem:this._getTriggerElem,close:this._close,isOpen:a}:{ref:i,close:this._close,isOpen:a};return Ot.a.createElement(t,Dt({},o,c),()=>s({close:this._close}))}render(){return Ot.a.createElement(St.Fragment,null,this._renderTrigger(),this._renderContent())}}return r.displayName=`WithOpenState(${t.displayName||t.name||"Component"})`,Object(St.forwardRef)((e,t)=>Ot.a.createElement(r,Dt({},e,{containerRef:t})))};var ch=ah({hasTriggerElem:!0})(ih);n(226);const lh=ca("context-menu");function dh(e){let{children:t,component:n="span"}=e,r=Lt(e,["children","component"]);const s=sa(r,{className:lh("item-icon-container")}),i=Ot.a.Children.map(t,e=>Ot.a.isValidElement(e)?Ot.a.cloneElement(e,sa({className:lh("item-icon")},e.props)):e);return Ot.a.createElement(n,s,i)}function uh(e){let{text:t,description:n,component:r="span"}=e,s=Lt(e,["text","description","component"]);const i=sa(s,{className:lh("item-text-container")});return Ot.a.createElement(r,i,Ot.a.createElement("span",{className:lh("item-text")},t),n?Ot.a.createElement("span",{className:lh("item-description")},n):null)}function ph(e){const t=sa(e,{className:lh("divider")});return Ot.a.createElement("hr",t)}function hh(e){const{component:t="button",close:n,children:r,autoClose:s=!0,alignItems:i}=e,o=Lt(e,["component","close","children","autoClose","alignItems"]),a=sa(o,{className:lh("item",{alignItems:i,isClickable:"function"==typeof e.onClick}),onClick:s&&"function"==typeof n?n:void 0});return Ot.a.createElement(t,a,r)}function mh(e){let{children:t,close:n,component:r="div"}=e,s=Lt(e,["children","close","component"]);const i=Ot.a.Children.map(t,e=>Ot.a.isValidElement(e)?Ot.a.cloneElement(e,{close:n}):e),o=sa(s,{className:lh()});return Ot.a.createElement(r,o,i)}const fh={x:"left",y:"bottom",shifts:{bottom:40},shouldOverlap:!0,shouldFlip:!0};function gh(e){let{renderTrigger:t,position:n=fh,children:r}=e,s=Lt(e,["renderTrigger","position","children"]);const i=sa(s,{className:lh("popup")});return Ot.a.createElement(ch,Dt({},i,{getPosition:Qp(n),renderTrigger:t,renderContent:({close:e})=>Ot.a.Children.map(r,t=>Ot.a.isValidElement(t)?Ot.a.cloneElement(t,Object.assign({},t.props,{close:e})):t)}))}n(225);var _h=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};class bh extends St.Component{constructor(...e){var t;return t=super(...e),this.state={scrollbarWidth:null},t}componentDidMount(){this.setState({scrollbarWidth:_h()})}render(){const e=this.props,{component:t,componentRef:n}=e,r=Lt(e,["component","componentRef"]),{scrollbarWidth:s}=this.state;let i;return i="number"==typeof s&&s>0?sa(r,{style:{width:`calc(100vw - ${s}px)`}}):r,Ot.a.createElement(t,Dt({ref:n},i))}}bh.defaultProps={component:"div"};var Eh=Object(St.forwardRef)((e,t)=>Ot.a.createElement(bh,Dt({},e,{componentRef:t})));const yh=27,vh=150,kh=ca("modal");class Ch extends Ot.a.PureComponent{constructor(...e){var t;return t=super(...e),this.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},this._composeInputRefs=Fc(),this._scrollableContainerElem=null,this._scrollbarFixElem=null,this._whileOpenListenerStorage=new Qa,this._scrollableContainerRef=(e=>{this._scrollableContainerElem=e,e?this._modalDidOpen():this._modalDidClose()}),this._scrollbarFixRef=(e=>{this._scrollbarFixElem=e}),t}componentDidUpdate(e){const{isOpen:t,isMobileMenu:n,onOpen:r,onClose:s}=this.props;!e.isOpen&&t&&("function"==typeof r&&r(),n&&this.setState({isJustOpened:!0})),e.isOpen&&!t&&("function"==typeof s&&s(),n&&this.setState({isJustOpened:!1}))}_isNotModalClick(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem}_modalDidOpen(){const{scrollbarWidth:e}=this.state;if(!this._scrollableContainerElem||"number"!=typeof e)return;const{direction:t}=getComputedStyle(this._scrollableContainerElem);this.setState({margin:"rtl"===t?`0 0 0 ${-e}px`:`0 ${-e}px 0 0`}),document.body&&(document.body.style.overflow="hidden");const n=e=>{if(this._isNotModalClick(e)){e.preventDefault();const{shouldCloseOnOuterClick:t,close:n}=this.props;t&&"function"==typeof n&&n()}};this._whileOpenListenerStorage.add(document,"mousedown",n,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",n,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===yh){const{shouldCloseOnEscClick:e,close:t}=this.props;e&&"function"==typeof t&&t()}})}_modalDidClose(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()}_renderChildren(){const{children:e}=this.props;return"function"==typeof e?e():e}_renderModal(){const e=this.props,{isOpen:t,isMobileMenu:n,close:r,containerRef:s,withScrollbarFix:i,withVerticalAlign:o,scrollableContainerRef:a,viewType:c,isClosable:l}=e,d=Lt(e,["isOpen","isMobileMenu","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable"]),{placeholderElem:u,margin:p,scrollbarWidth:h,isJustOpened:m}=this.state,f=i?Eh:"div";if(!t||!u||"number"!=typeof h)return null;const g={margin:p,visibility:p?null:"hidden"},_=sa(Za(d,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:kh("content",{isMobileMenu:n}),style:m?{bottom:0}:null}),b=this._composeInputRefs(this._scrollableContainerRef,a),E=Qo.a.createPortal(Ot.a.createElement("div",{ref:b,className:kh({viewType:c,withVerticalAlign:o}),style:g},Ot.a.createElement(f,{ref:this._scrollbarFixRef,className:kh("scrollbar-fix")},Ot.a.createElement("div",Dt({ref:s},_),this._renderChildren(),l?Ot.a.createElement("div",{className:kh("close-wrapper")},Ot.a.createElement("button",{className:kh("close"),onClick:r})):null))),u);return Ot.a.createElement(St.Fragment,{key:"modal"},E)}componentDidMount(){this.setState({placeholderElem:document.body,scrollbarWidth:_h()})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){return Ot.a.createElement(Oa.a,{component:St.Fragment,transitionName:"_transition",transitionEnterTimeout:vh,transitionLeaveTimeout:vh},this._renderModal())}}Ch.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"};var wh=Ch;var Sh=ah()(wh);const Oh=ra("featuring-menu");class xh extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=((e,t)=>{e(),t.preventDefault(),t.stopPropagation()}),this._onDislike=(e=>{const{onDislike:t,isMobile:n}=this.props;t(e),n&&this._toggleMenu&&this._toggleMenu(),e.preventDefault(),e.stopPropagation()}),this._renderButton=(({containerRef:e,toggle:t})=>{this._toggleMenu=t;const{className:n,color:r}=this.props,s={backgroundColor:r},i=ra.mix(n,Oh());return Ot.a.createElement("div",{className:i,ref:e,onClick:e=>this._onClick(t,e)},Ot.a.createElement("div",{className:Oh("dots")},Ot.a.createElement("div",{className:Oh("dot"),style:s}),Ot.a.createElement("div",{className:Oh("dot"),style:s}),Ot.a.createElement("div",{className:Oh("dot"),style:s})))}),this._renderDislikeItem=(()=>{const e=this._getMenuData("dislike");if(!e)return null;const{isMobile:t}=this.props,{title:n,subtitle:r,icon:s}=e;return Ot.a.createElement(hh,{onClick:this._onDislike},Ot.a.createElement(dh,{className:Oh("dislike-icon",{isMobile:t})},Ot.a.createElement("img",{src:s})),Ot.a.createElement(uh,{text:n,description:t&&r}))}),this._onInfoClick=(e=>{const t=this._getMenuData("info"),{link:n}=t;window.open(n),e.preventDefault(),e.stopPropagation()}),this._renderInfoItem=(()=>{const e=this._getMenuData("info");if(!e)return null;const{isMobile:t}=this.props,{title:n,subtitle:r}=e;return Ot.a.createElement(hh,{onClick:this._onInfoClick},Ot.a.createElement(dh,null),Ot.a.createElement(uh,{text:n,description:t&&r}))}),this._getMenuData=(e=>{const{menu:t}=this.props;if(t){const n=t.find(t=>t.type===e);if(n)return n.enable}return null}),this._renderMenu=(()=>{const{isMobile:e}=this.props,t=e?Ot.a.createElement(ph,null):null;return Ot.a.createElement(mh,{className:Oh("container",{isMobile:e})},this._renderDislikeItem(),t,this._renderInfoItem())}),t}render(){const{isMobile:e}=this.props;return e?Ot.a.createElement(Sh,{isMobileMenu:!0,renderTrigger:this._renderButton,renderContent:this._renderMenu}):Ot.a.createElement(gh,{renderTrigger:this._renderButton,position:{x:"right",y:"bottom",shifts:{top:15,right:190},shouldFlip:!1}},this._renderMenu())}}n(208);const Th=ra("featuring-subscribe-button");class Ih extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onClick=(e=>{const{disabled:t,onToggleSubscribe:n,onClick:r}=this.props;t||(n(),r&&r()),e.preventDefault(),e.stopPropagation()}),t}render(){const{className:e,buttonSize:t,source:n,feedbackButtons:r,subscribedKey:s,unsubscribedKey:i}=this.props,o=r["subscribed"===n.status?i:s],{text:a,textColor:c,backgroundColor:l}=o,d={color:c,backgroundColor:l,borderColor:l};return Ot.a.createElement(tc,{className:ra.mix(e,Th()),style:d,onClick:this._onClick,size:t,viewType:"yellow"},Ot.a.createElement("div",{className:Th("button-text")},a))}}Ih.defaultProps={disabled:!1};var Nh=Ya(Ih);n(207);const Rh=ra("scaled-container");var Ph=class extends St.PureComponent{render(){const{width:e,height:t,rootRef:n,children:r,styles:s={}}=this.props,i=`${t/e*100}%`;return Ot.a.createElement("div",{className:Rh(),style:Object.assign({},s,{paddingBottom:i}),ref:n},Ot.a.createElement("div",{className:Rh("inner")},r))}};n(206);const Ah=ra("card-container"),Mh={NORMAL:"normal",SCALABLE:"scalable"};class Dh extends St.PureComponent{_renderScalable(){const{rootRef:e,children:t,width:n,height:r,isNarrativeFeed:s}=this.props;return Ot.a.createElement("div",{className:Ah({"narrative-feed":s}),ref:e},Ot.a.createElement(Ph,{width:n,height:r},t))}_renderNormal(){const{rootRef:e,children:t,width:n,styles:r,height:s,isFeedbackCard:i,isNarrativeFeed:o}=this.props,a=Object.assign({},r,{width:n,height:s});return Ot.a.createElement("div",{className:Ah({"is-feedback-card":i,"narrative-feed":o}),ref:e,style:a},t)}render(){const{type:e}=this.props;switch(e){case Mh.SCALABLE:return this._renderScalable();case Mh.NORMAL:return this._renderNormal();default:return this.props.children}}}Dh.defaultProps={type:"normal"};var Lh=Dh;const Bh=ra("featuring-promo-card"),jh="#DADADA";class Fh extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderHeader=(()=>{const{header:e,menu:t,onDislike:n,isMobile:r}=this.props,s={textShadow:this._getHeaderTextShadow()};return Ot.a.createElement("div",{className:Bh("header")},Ot.a.createElement("div",{className:Bh("promo-text"),style:s},e),Ot.a.createElement("div",{className:Bh("menu-button")},Ot.a.createElement(xh,{menu:t,onDislike:n,color:jh,isMobile:r})))}),this._renderChannelInfo=(()=>{const{source:{logo:e,title:t},description:n}=this.props,r={backgroundImage:`url(${e})`},s=this._getTextStyle();return Ot.a.createElement("div",{className:Bh("info")},Ot.a.createElement("div",{className:Bh("logo"),style:r},this._renderVerified()),Ot.a.createElement("div",{className:Bh("title"),style:s},t),Ot.a.createElement(Xl,{className:Bh("description"),style:s,isIntersecting:!0},n))}),this._renderSubscribe=(()=>{const{feedbackProps:e,feedbackButtons:t,logger:n}=this.props;return Ot.a.createElement(Nh,Dt({subscribedKey:"subscribe_promo",unsubscribedKey:"unsubscribe",className:Bh("subscribe-button"),feedbackButtons:t,logger:n,buttonSize:"m"},e))}),this._renderFeedback=(()=>{const{logger:e,feedback:t,feedbackProps:n,onFeedbackClick:r}=this.props;return"disliked"!==t?null:Ot.a.createElement("div",{className:Bh("feedback"),onClick:r},Ot.a.createElement(xc,Dt({logger:e,cancelExtendFeedbackPopupExp:!0},n)))}),this._renderBackground=(()=>{const{background:e,mainColor:t,blurredPreview:n,theme:r}=this.props,s={image:e,cardBackgroundImage:e,cardBackgroundWhiteImage:e,forcedMode:"bci",color:t,blurredPreview:n,theme:r,isRead:!1,size:"small",imageStyle:{backgroundPosition:"0px 0px",backgroundSize:"cover"}};return Ot.a.createElement("div",{className:Bh("background")},Ot.a.createElement(Sl,s))}),this._renderVerified=(()=>{const{source:{verified:e}}=this.props;if(!e)return null;const{label:t,icon:n}=e,r={backgroundImage:`url(${n})`};return Ot.a.createElement("div",{className:Bh("verified"),title:t,style:r})}),this._getHeaderTextShadow=(()=>{const{textColor:e}=this.props,[t,n,r]=Tc(e);return`0 0 10px rgba(${t}, ${n}, ${r}, 0.55)`}),this._getTextStyle=(()=>{const{textColor:e}=this.props;return{color:e,textDecoration:"none"}}),t}render(){const{source:{feedLink:e},mainColor:t,onClick:n,isMobile:r,rootRef:s}=this.props,i=Object.assign({},this._getTextStyle(),{backgroundColor:t});return Ot.a.createElement(Lh,null,Ot.a.createElement(Ml,{className:Bh({isMobile:r}),href:e,onClick:n,style:i,ref:s},this._renderBackground(),Ot.a.createElement("div",{className:Bh("content")},this._renderHeader(),this._renderChannelInfo(),this._renderSubscribe()),this._renderFeedback()))}}const Uh=Object(Do.a)(pn((e,{source:t})=>{const{bulkParams:n,statEvents:r}=t;return{bulkParams:n,statEvents:r,isMobile:!1}}),al,Ya,xu,Tu)(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),t}render(){const{header:e,description:t,mainColor:n,textColor:r,background:s,blurredPreview:i,menu:o,source:a,isMobile:c,feedback:l,feedbackProps:d,feedbackButtons:u,logger:p,onClick:h,onDislikeClick:m,rootRef:f}=this.props,g={header:e,description:t,mainColor:n,textColor:r,background:s,blurredPreview:i,menu:o,source:a,isMobile:c,feedback:l,feedbackProps:d,feedbackButtons:u,logger:p,rootRef:f,onClick:h,onFeedbackClick:this._onFeedbackClick,onDislike:m};return Ot.a.createElement(Fh,g)}});const zh=Object(Do.a)(pn(()=>{const e=Rs(),t=As(),n=Ts();return(r,{id:s})=>{const{sources:i,feed:o}=r,a=Xn(r),c=o.items[s],l=i[c.source],d=(or(r)?t:e)(r,s),u=n(r,s);return Object.assign({},c,{theme:a,source:l,feedbackProps:d,feedbackMittensProps:u})}}),cl,wa,xu)(class extends St.PureComponent{render(){return Ot.a.createElement(Uh,this.props)}});n(205),n(204);const Vh=ra("zen-carousel"),Hh=300,Wh=.8,$h={s:12,m:10,l:8};class Gh extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._scrollPosition=0,this._scrollStep=0,this._itemWidth=0,this.state={isMinScrolled:!0,isMaxScrolled:!0,scrollStep:0},this._scrollWrapperRef=(e=>{this._scrollWrapper=e,this._scrollStep=e?.8*e.clientWidth:0,e&&!this.props.hiddenArrows&&(this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility())}),this._scrollListRef=(e=>{this._scrollList=e}),this._itemRef=(e=>{const{size:t}=this.props;e&&!this._itemWidth&&(this._itemWidth=e.clientWidth+$h[t]),e&&e.addEventListener("transitionend",()=>{const{clientWidth:e,scrollLeft:t,scrollWidth:n}=this._scrollWrapper,r=n-e-t;r<0&&this._animateScroll(r)},!1)}),this._arrowRef=(e=>t=>{"left"===e?this._leftArrow=t:this._rightArrow=t}),this._toggleLeftArrowVisibility=(()=>{const{isMinScrolled:e}=this.state,t=0===this._scrollPosition;e!==t&&this.setState({isMinScrolled:t})}),this._toggleRightArrowVisibility=(()=>{const{isMaxScrolled:e}=this.state,{scrollWidth:t,scrollLeft:n,clientWidth:r}=this._scrollWrapper,s=t-n-r==0;e!==s&&this.setState({isMaxScrolled:s})}),this._animateScroll=(e=>{this._cancelSaveScroll||(this._cancelSaveScroll=!0,this._scrollPosition=Math.round(this._scrollPosition+e),this._scrollList.style.transitionDuration="0.3s",this._scrollList.style.transform=`translateX(${-e}px)`,$e(Hh).then(()=>{this._scrollList.style.transitionDuration="0s",this._scrollList.style.transform="",this._scrollWrapper.scrollLeft=this._scrollPosition,this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility(),this._cancelSaveScroll=!1}))}),this._onArrowClick=(e=>{const{size:t}=this.props;return()=>{const{scrollWidth:n,scrollLeft:r,clientWidth:s}=this._scrollWrapper,i="left"===e?n-s-r:r,o=n-i-s,a=this._itemWidth,c=i+s,l=Math.ceil(c/a),d=(c%a/a>Wh?l:l-1)*a-(s%a+$h[t])/2-i,u=o<d?o:d;this._animateScroll("left"===e?-u:u)}}),this._onScroll=(e=>{this._cancelSaveScroll||(this._scrollPosition=e.target.scrollLeft),this.props.hiddenArrows||(this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility()),e.preventDefault(),e.stopPropagation()}),this._onWheel=(e=>{const{isMinScrolled:t,isMaxScrolled:n}=this.state;if(0!==e.deltaY)return;const r=t&&e.deltaX<=0,s=n&&e.deltaX>=0;(r||s)&&(e.preventDefault(),e.stopPropagation())}),this._renderArrows=(()=>{const{leftArrow:e,rightArrow:t,isMobile:n}=this.props,{isMinScrolled:r,isMaxScrolled:s}=this.state;return e&&t?n?null:Ot.a.createElement(St.Fragment,null,r?null:e,s?null:t):n?null:["right","left"].map(e=>{const t=this._arrowRef(e),n=this._onArrowClick(e),i="left"===e?r:s;return Ot.a.createElement("div",{className:Vh("arrow",{type:e,hidden:i}),ref:t,onClick:n,key:e},Ot.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},Ot.a.createElement("path",{transform:"left"===e?"rotate(180) translate(-24, -24)":"",d:"M16.747 11l-.75-.588-4.704-4.705 1.414-1.414L20.414 12l-7.707 7.707-1.414-1.414 4.709-4.709.748-.584H4v-2h12.747z",fill:"#000"})))})}),this._renderChildren=(()=>{const{children:e=[]}=this.props;return St.Children.map(e,e=>{const{hidden:t}=e.props;return Ot.a.cloneElement(e,{className:Vh("item",{hidden:t}),carouselRef:this._itemRef})})}),t}componentDidUpdate(){if(this._scrollWrapper&&this._itemWidth){const{isMinScrolled:e,isMaxScrolled:t}=this.state,{children:n=[]}=this.props,{clientWidth:r}=this._scrollWrapper,s=St.Children.toArray(n).filter(e=>!e.props.hidden).length,i=Math.floor(r/this._itemWidth);s<=i&&!e&&this.setState({isMinScrolled:!0}),s<=i&&!t&&this.setState({isMaxScrolled:!0})}}render(){const{isMobile:e,className:t,contentPadding:n}=this.props,r=ra.mix(t,Vh({isMobile:e}));return Ot.a.createElement("div",{className:r},this._renderArrows(),Ot.a.createElement("div",{className:Vh("container")},Ot.a.createElement("div",{className:Vh("scroll-wrapper"),ref:this._scrollWrapperRef,onWheel:this._onWheel,onScroll:this._onScroll},Ot.a.createElement("div",{className:Vh("scroll-list",{contentPadding:n}),ref:this._scrollListRef},this._renderChildren()))))}}n(203);var qh=new Hl.a({id:"featuring-close--inline",use:"featuring-close--inline-usage",viewBox:"0 0 13 13",content:'<symbol viewBox="0 0 13 13" id="featuring-close--inline">\n    <path d="M1.90384 0.424561L0.489624 1.83887L5.08583 6.43506L0.489624 11.0312L1.90383 12.4453L6.50003 7.84912L11.0962 12.4453L12.5104 11.0312L7.91423 6.43506L12.5104 1.83887L11.0962 0.424561L6.50003 5.02075L1.90384 0.424561Z" />\n</symbol>'}),Kh=($l.a.add(qh),qh);const Yh="featuring_channel_large",Qh="featuring_channel_small",Zh=ra("featuring-carousel-card");class Jh extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderClose=(()=>{const{color:e,cardType:t,onCloseClick:n}=this.props,{id:r,viewBox:s}=Kh;return Ot.a.createElement("div",{className:Zh("close-button",{cardType:t}),onClick:n},Ot.a.createElement("svg",{width:"13",height:"13",viewBox:s},Ot.a.createElement("use",{style:{fill:e},xlinkHref:`#${r}`})))}),this._renderLogo=(()=>{const{logo:e,cardType:t}=this.props,n={backgroundImage:`url(${e})`};return t===Qh?null:Ot.a.createElement("div",{className:Zh("logo",{cardType:t}),style:n})}),this._renderTitle=(()=>{const{title:e,color:t,cardType:n}=this.props,r={color:t};switch(n){case Yh:return Ot.a.createElement("div",{className:Zh("title",{cardType:n}),style:r},e);case Qh:return Ot.a.createElement(Xl,{className:Zh("title",{cardType:n}),style:r,isIntersecting:!0},e);default:return null}}),this._renderDescription=(()=>{const{description:e,color:t,cardType:n}=this.props;if(n===Qh)return null;const r={color:t};return Ot.a.createElement(Xl,{className:Zh("description"),style:r,isIntersecting:!0},e)}),this._renderSubscribe=(()=>{const{cardType:e,feedbackProps:t,feedbackButtons:n,logger:r,onSubscribeClick:s,subscribeDisabled:i}=this.props,o=e===Yh?"m":"s";return Ot.a.createElement(Nh,Dt({subscribedKey:"subscribe",unsubscribedKey:"unsubscribe",className:Zh("subscribe"),feedbackButtons:n,logger:r,buttonSize:o,onClick:s,disabled:i},t))}),this._renderBackground=(()=>{const{background:e,framedLogo:t,cardType:n}=this.props,r={backgroundImage:`url(${n===Yh?e:t})`};return Ot.a.createElement("div",{className:Zh("background"),style:r})}),this._ref=(e=>{const{rootRef:t,carouselRef:n}=this.props;t(e),n(e)}),t}render(){const{className:e,link:t,cardType:n,onClick:r,hidden:s,isAnimationDelay:i}=this.props,o=ra.mix(e,Zh({cardType:n,hidden:s,isAnimationDelay:i}));return Ot.a.createElement(Ml,{className:o,href:t,ref:this._ref,onClick:r},this._renderBackground(),Ot.a.createElement("div",{className:Zh("content",{cardType:n})},this._renderLogo(),this._renderTitle(),this._renderDescription(),this._renderSubscribe()),this._renderClose())}}const Xh={closeCarouselItem:(e,t,n)=>({type:"CLOSE_CAROUSEL_ITEM",payload:{id:e,index:t,isAnimationDelay:n}})},em=Object(Do.a)(pn(()=>{const e=Rs(),t=As();return(n,r)=>{const{sources:s}=n,{source:i,parentId:o,index:a,textColor:c,cardType:l}=r,d=(or(n)?t:e)(n,o,a),u=s[i],{logo:p,framedLogo:h,title:m,feedLink:f,logoBackgroundColor:g,titleColor:_,status:b}=u;return{logo:p,framedLogo:h,title:m,link:f,mainColor:g,color:l===Yh?c:_,feedbackProps:d,subscribeDisabled:"subscribed"===b}}},Xh),al,cl,wa,xu,Tu)(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._componentRef=(e=>{this.setState({itemNode:e})}),this._onSubscribeClick=(()=>{const{parentId:e,index:t,closeCarouselItem:n}=this.props;n(e,t,!0)}),this._onCloseClick=(e=>{const{parentId:t,index:n,closeCarouselItem:r,itemDislike:s}=this.props;s(),r(t,n),e.preventDefault(),e.stopPropagation()}),t}componentDidUpdate(){const{root:e,rootRef:t,isContainerVisible:n}=this.props,{itemNode:r}=this.state;e&&r&&n&&t(r)}render(){const e=Object.assign({},this.props,{rootRef:this._componentRef,onCloseClick:this._onCloseClick,onSubscribeClick:this._onSubscribeClick});return Ot.a.createElement(Jh,e)}}),tm=ra("featuring-carousel");class nm extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderChildren=(()=>{const{id:e,carouselType:t,items:n,rootNode:r,isVisible:s}=this.props;return n.map((n,i)=>{const o=Object.assign({},n,{index:i,parentId:e,visibilityThreshold:.99,cardType:t,root:r,isContainerVisible:s});return Ot.a.createElement(em,Dt({key:i},o))})}),this._renderHeader=(()=>{const{menu:e,title:t,subtitle:n,onDislike:r,isMobile:s}=this.props,i=s&&n?Ot.a.createElement("div",{className:tm("subtitle")},n):null;return Ot.a.createElement("div",{className:tm("header-wrapper")},Ot.a.createElement("div",{className:tm("header")},Ot.a.createElement("div",{className:tm("title")},t),Ot.a.createElement(xh,{className:tm("menu"),color:"#000000",menu:e,onDislike:r,isMobile:s})),i)}),t}render(){const{hidden:e,componentRef:t,isMobile:n}=this.props,r=this._renderChildren();return Ot.a.createElement("div",{className:tm({hidden:e,isMobile:n}),ref:t},this._renderHeader(),Ot.a.createElement(Gh,{className:tm("content"),isMobile:n,size:"m"},r))}}const rm={closeCarousel:e=>({type:"CLOSE_CAROUSEL",payload:{id:e}})},sm=Object(Do.a)(pn(()=>(e,{id:t})=>{const{feed:n}=e,r=n.items[t];return Object.assign({},r,{isMobile:!1})},rm),al,cl,wa,xu)(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={},this._componentRef=(e=>{const{rootRef:t}=this.props;t(e),this.setState({rootNode:e})}),this._onDislike=(()=>{const{id:e,closeCarousel:t,itemDislike:n}=this.props;n(),t(e)}),t}render(){const{id:e,title:t,subtitle:n,items:r,carouselType:s,menu:i,hidden:o,isMobile:a,logger:c,isVisible:l}=this.props,{rootNode:d}=this.state,u={id:e,title:t,subtitle:n,carouselType:s,menu:i,hidden:o,isMobile:a,items:r,rootNode:d,logger:c,isVisible:l,componentRef:this._componentRef,onDislike:this._onDislike};return Ot.a.createElement(nm,u)}}),im=(Object(_n.createSelector)((e,t)=>e.feed.items[t],e=>e.sources,(e,t)=>e.items.map(e=>{const{status:n,feedback:r}=t[e.source],s="subscribed"===n||"disliked"===r;return Object.assign({},e,{hidden:s,hasDislikeButton:!0})})),e=>Object(_n.createSelector)(e,e=>e.sources,(e,t)=>e.items.map(e=>{const{status:n,feedback:r}=t[e.source],s="subscribed"===n||"disliked"===r;return Object.assign({},e,{hidden:s,hasDislikeButton:!0})}))),om=e=>Object(_n.createSelector)(im(e),e=>0===e.filter(({hidden:e})=>!e).length);n(202),n(201);var am=new Hl.a({id:"cross--inline",use:"cross--inline-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" id="cross--inline"><path d="m13.0208153 11.0208153v-7.50000002h-2v7.50000002h-7.50000002v2h7.50000002v7.5h2v-7.5h7.5v-2z" fill-rule="evenodd" transform="matrix(.70710678 -.70710678 .70710678 .70710678 -9.979185 7.020815)" /></symbol>'}),cm=($l.a.add(am),am);const lm=ra("source-card2-view"),dm={s:10,m:10,l:16};class um extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderClose=(()=>{const{color:e,onCloseClick:t,hasDislikeButton:n}=this.props,{id:r,viewBox:s}=cm;return n?St.createElement("div",{className:lm("close-button"),onClick:t},St.createElement("svg",{width:"12",height:"12",viewBox:s},St.createElement("use",{style:{fill:e},xlinkHref:`#${r}`}))):null}),this._renderTitle=(()=>{const{title:e,size:t,color:n}=this.props,r={color:n},s=Object.assign({size:t},this._hasLongWord(e,dm[t]));return St.createElement("div",{className:lm("title",s),style:r},e)}),this._renderSubscribe=(()=>{const{buttonSize:e,sourceStatus:t,onToggleSubscribe:n}=this.props,r="subscribed"===t,s={color:"#000000",backgroundColor:r?"#FFFFFF":"#FFCC00"},i=r?"Отписаться":"Подписаться";return St.createElement(tc,{className:lm("subscribe-button"),style:s,onClick:n,size:e},St.createElement("div",{className:lm("subscribe-button-text")},i))}),this._renderContentHeader=(()=>St.createElement("div",{className:lm("header")},this._renderClose())),this._renderBackground=(()=>{const{image:e,mainColor:t}=this.props,n={backgroundColor:t,backgroundImage:`url(${e})`};return St.createElement("div",{className:lm("background"),style:n})}),t}_hasLongWord(e,t){return{lineCount:e.split(" ").length>1&&e.length>t?2:1}}render(){const{className:e,link:t,size:n,onClick:r,hidden:s,rootRef:i,isMobile:o}=this.props,a=ra.mix(e,lm({size:n,hidden:s,isMobile:o}));return St.createElement(Ml,{className:a,href:t,ref:i,onClick:r},this._renderBackground(),St.createElement("div",{className:lm("content-box")},this._renderContentHeader(),this._renderTitle(),this._renderSubscribe()))}}const pm={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_212x280_1x"},hm={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_202x260_1x"},mm=$d(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._componentRef=(e=>{const{rootRef:t,carouselRef:n}=this.props;n&&n(e),t(e)}),this._onToggleSubscribe=(e=>{const{onToggleSubscribe:t}=this.props;t(),e.preventDefault(),e.stopPropagation()}),this._onCloseClick=(e=>{const{onDislike:t}=this.props;t(),e.preventDefault(),e.stopPropagation()}),t}render(){const{className:e,size:t,title:n,color:r,mainColor:s,image:i,link:o,hidden:a,onClick:c,sourceStatus:l,hasDislikeButton:d,isVisible:u,logger:p,isMobile:h}=this.props,m={className:e,title:n,color:r,mainColor:s,link:o,hidden:a,size:t,image:i,onClick:c,sourceStatus:l,rootRef:this._componentRef,onCloseClick:this._onCloseClick,onToggleSubscribe:this._onToggleSubscribe,buttonSize:"s"===t?"s":"m",hasDislikeButton:d,isMobile:h};return St.createElement(oc,{logger:p,isVisible:u},St.createElement(um,m))}}).to(Tu).to(wa).to(Ya).to(pn(()=>{const e=_s();return(t,n)=>{const{sources:r}=t,{source:s,size:i,isMobile:o}=n,a=o?hm:pm,c=r[s],l=e(n),{logoSizes:d,title:u,feedLink:p,logoBackgroundColor:h,titleColor:m,status:f}=c;return{title:u,link:p,mainColor:h,source:c,sourceStatus:f,logger:l,color:m,image:d[a[i]],isMobile:o}}})).value;n(200);var fm=n(4),gm=n.n(fm),_m=n(37),bm=n.n(_m);n(3),n(22);function Em(e){return"/"===e.charAt(0)}function ym(e,t){for(var n=t,r=n+1,s=e.length;r<s;n+=1,r+=1)e[n]=e[r];e.pop()}var vm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],s=e&&Em(e),i=t&&Em(t),o=s||i;if(e&&Em(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a=void 0;if(r.length){var c=r[r.length-1];a="."===c||".."===c||""===c}else a=!1;for(var l=0,d=r.length;d>=0;d--){var u=r[d];"."===u?ym(r,d):".."===u?(ym(r,d),l++):l&&(ym(r,d),l--)}if(!o)for(;l--;l)r.unshift("..");!o||""===r[0]||r[0]&&Em(r[0])||r.unshift("");var p=r.join("/");return a&&"/"!==p.substr(-1)&&(p+="/"),p};"function"==typeof Symbol&&Symbol.iterator;var km=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm=function(e,t,n,r){var s=void 0;"string"==typeof e?(s=function(e){var t=e||"/",n="",r="",s=t.indexOf("#");-1!==s&&(r=t.substr(s),t=t.substr(0,s));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(s=km({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),r?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=vm(s.pathname,r.pathname)):s.pathname=r.pathname:s.pathname||(s.pathname="/"),s},wm=("undefined"==typeof window||!window.document||window.document.createElement,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function Sm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Om=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},xm=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=r=Sm(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!Om(e)){e.preventDefault();var t=r.context.router.history,n=r.props,s=n.replace,i=n.to;s?t.replace(i):t.push(i)}},Sm(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);bm()(this.context.router,"You should not use <Link> outside a <Router>"),bm()(void 0!==t,'You must specify the "to" property');var s=this.context.router.history,i="string"==typeof t?Cm(t,null,null,s.location):t,o=s.createHref(i);return Ot.a.createElement("a",wm({},r,{onClick:this.handleClick,href:o,ref:n}))},t}(Ot.a.Component);xm.propTypes={onClick:gm.a.func,target:gm.a.string,replace:gm.a.bool,to:gm.a.oneOfType([gm.a.string,gm.a.object]).isRequired,innerRef:gm.a.oneOfType([gm.a.string,gm.a.func])},xm.defaultProps={replace:!1},xm.contextTypes={router:gm.a.shape({history:gm.a.shape({push:gm.a.func.isRequired,replace:gm.a.func.isRequired,createHref:gm.a.func.isRequired}).isRequired}).isRequired};var Tm=xm;pn(e=>({location:e.router.location}))(e=>{let{location:t,to:n}=e,r=Lt(e,["location","to","dispatch"]);const s=((e,t)=>{const{search:n}=e;let r,s;return r=t&&"string"==typeof t.search?o(Object.assign({},i(n),i(t.search))):n,s="string"==typeof t?{pathname:t,search:r}:Object.assign({},t,{search:r})})(t,n);return St.createElement(Tm,Dt({to:s},r))});const Im=e=>St.createElement(Ml,e),Nm=ra("personal-carousel-stub-view");class Rm extends St.PureComponent{render(){const{size:e,className:t,platform:n,searchLink:r,theme:s}=this.props;return St.createElement("div",{className:ra.mix(Nm({size:e,platform:n}),t)},St.createElement("span",{className:Nm("icon",{theme:s})}),St.createElement("div",{className:Nm("content",{platform:n})},St.createElement("div",{className:Nm("text",{theme:s})},"Новых рекомендаций пока нет"),St.createElement(Im,{className:Nm("more-link"),href:r},"Найти другие темы и каналы")))}}var Pm=new Hl.a({id:"right-arrow--inline",use:"right-arrow--inline-usage",viewBox:"0 0 11 18",content:'<symbol viewBox="0 0 11 18" fill="none" id="right-arrow--inline">\n<path d="M1 17L9 9L1 1" stroke-width="2" />\n</symbol>'}),Am=($l.a.add(Pm),Pm);const Mm=ra("personal-carousel-view");class Dm extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderCarouselItem=(()=>{const{id:e,size:t,items:n,isMobile:r}=this.props;return n.map((n,s)=>{const{statEvents:i,bulkParams:o,source:a,hidden:c}=n,l={size:t,index:s,source:a,statEvents:i,bulkParams:o,hidden:c,key:s,parentId:e,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:r};return St.createElement(mm,l)})}),this._renderMore=(()=>{const{showMoreLink:e}=this.props,{id:t,viewBox:n}=Am;if(e)return St.createElement("div",{className:Mm("more-link")},St.createElement("div",{className:Mm("more-link-text")},"Показать больше тем"),St.createElement("svg",{className:Mm("more-link-icon"),width:"13",height:"13",viewBox:n},St.createElement("use",{xlinkHref:`#${t}`})))}),this._renderHeader=(()=>{const{background:e}=this.props;return St.createElement("div",{className:Mm("header",{background:e})},this._renderHeaderTop(),this._renderSubtitle())}),this._renderBody=(()=>{const{size:e,hidden:t,background:n,searchLink:r,isMobile:s,theme:i}=this.props,o=this._renderCarouselItem(),a={size:e,searchLink:r,platform:"desktop",theme:i};if(t)return St.createElement(Rm,a);const c="grey"===n?"s":null;return St.createElement(Gh,{className:Mm("carousel",{contentPadding:c}),size:e,isMobile:s},o)}),t}_renderHeaderTop(){const{title:e,mode:t,theme:n}=this.props;return"pinned-lib"===t?null:St.createElement("div",{className:Mm("header-top")},St.createElement("div",{className:Mm("title",{theme:n})},e),this._renderMore())}_renderSubtitle(){const{subtitle:e,mode:t,theme:n}=this.props;return e?St.createElement("div",{className:Mm("subtitle",{mode:t,theme:n})},e):null}render(){const{className:e,background:t,componentRef:n}=this.props;return St.createElement("div",{className:ra.mix(Mm(),e),ref:n},St.createElement("div",{className:Mm("wrapper",{background:t})},this._renderHeader(),this._renderBody()))}}n(197);const Lm=ra("personal-carousel-view-mobile");class Bm extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderCarouselItem=(()=>{const{id:e,size:t,items:n,isMobile:r}=this.props;return n.map((n,s)=>{const{statEvents:i,bulkParams:o,source:a,hidden:c}=n,l={size:t,index:s,source:a,statEvents:i,bulkParams:o,hidden:c,key:s,parentId:e,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:r};return St.createElement(mm,l)})}),this._renderHeader=(()=>{const{mode:e,title:t,subtitle:n,background:r}=this.props,s="feed"===e||"pinned-lib"===e,i="feed"===e||"pinned"===e,o={background:r};return St.createElement("div",{className:Lm("header",o)},i?St.createElement("div",{className:Lm("header-top")},St.createElement("div",{className:Lm("title")},t)):null,s?St.createElement("div",{className:Lm("subtitle")},n):null)}),this._renderBody=(()=>{const{mode:e,size:t,hidden:n,isMobile:r,background:s,searchLink:i}=this.props,o=this._renderCarouselItem(),a={size:t,className:Lm("stub"),platform:"mobile",searchLink:i};if(n)return St.createElement(Rm,a);const c="pinned"===e||"feed"===e&&"white"===s?"24":"default";return St.createElement(Gh,{className:Lm("carousel",{}),size:t,isMobile:r,contentPadding:c},o)}),t}render(){const{className:e,background:t,componentRef:n,mode:r}=this.props;return St.createElement("div",{className:ra.mix(Lm({mode:r}),e),ref:n},St.createElement("div",{className:Lm("wrapper",{background:t})},this._renderHeader(),this._renderBody()))}}const jm=$d(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._componentRef=(e=>{this.props.rootRef(e)}),this._setPackShown=(()=>{const{packId:e}=this.props;mt.packShown(e)}),this._onShow=(()=>{this._setPackShown()}),t}_renderPersonalCarousel(){const{id:e,title:t,items:n,hidden:r,background:s,subtitle:i,size:o,isMobile:a,logger:c,className:l,showMoreLink:d,searchLink:u,mode:p,theme:h}=this.props,m={id:e,title:t,subtitle:i,size:o,hidden:r,isMobile:a,items:n,logger:c,background:s,className:l,showMoreLink:d,searchLink:u,componentRef:this._componentRef,mode:p,theme:h};return a?St.createElement(Bm,m):St.createElement(Dm,m)}render(){const{isVisible:e,logger:t}=this.props;return St.createElement(oc,{logger:t,isVisible:e,onShow:this._onShow},this._renderPersonalCarousel())}}).to(wa).to(pn(()=>e=>{const{host:t}=e.params;return{isMobile:!1,searchLink:`${(e=>"/"===e[e.length-1]?e.slice(0,-1):e)(t)}/search`,theme:Xn(e)}})).value,Fm=pn(()=>{const e=_s(),t=(e,t)=>e.feed.items[t],n=om(t),r=im(t);return(s,{id:i})=>{const o=t(s,i),a=r(s,i),c=n(s,i),l=e(o);return Object.assign({},o,{items:a,hidden:c,logger:l,mode:"feed"})}})(jm);n(195);const Um=ra("feed-item-header"),zm=37,Vm="…";const Hm=pn(()=>(e,{id:t})=>{const{feed:n,params:r}=e,s=n.items[t],i=e.sources[s.source];return{type:s.type,actionTime:s.actionTime,source:i,isMobile:r.isMobile}})(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderAction=(()=>{const{type:e,isMobile:t}=this.props,n=e===F,r=n?`${"Комментарий к статье"} `:"Понравилось";return St.createElement("span",{className:Um("action",{isMobile:t,shift:!n})},r)}),this._maybeRenderArticleTitle=(()=>{const{type:e,source:t,isMobile:n}=this.props,r=e===F?"a":"span",s={};let i=t.title.slice(0,zm);return e===F&&t.title?(e===F&&(s.href=t.link,s.target="_blank",s.rel="noreferrer noopener"),i.length<t.title.length&&(i=`${i}${Vm}`),St.createElement(r,Dt({className:Um("title",{isMobile:n})},s),i)):null}),this._maybeRenderActionTime=(()=>{const{actionTime:e,isMobile:t,type:n}=this.props,r=n===F||t?"span":"div";return e?St.createElement(r,{className:Um("date")},e):null}),t}render(){const{isMobile:e}=this.props;return St.createElement("div",{className:Um("",{isMobile:e})},this._renderAction(),this._maybeRenderArticleTitle(),this._maybeRenderActionTime())}});n(194);const Wm=ra("comment-doc"),$m="12",Gm="13",qm="M11.22 5.387h.001c.43 0 .779.353.779.789v.031a12.111 12.111 0 0 1-.579 3.031l-.002.007A12.035 12.035 0 0 1 9.5 12.863l-.001.001-.113.136H3.468V6.28l3.433-4.141.002-.003a3.41 3.41 0 0 0 .547-1.031l.002-.005c.09-.276.147-.568.166-.87a.771.771 0 0 1 .55-.23c.402 0 .675.27.839.73.195.55.178 1.17.178 1.17a3.46 3.46 0 0 1-.737 2.14h.002L7.319 5.388h3.901zM2.312 13H0V6.279h2.312v6.72z";const Km=pn(()=>(e,{id:t})=>{const{feed:n}=e,r=n.items[t],s=e.sources[r.source],i=e.user||{};return Object.assign({},r,{user:{avatarUrl:i.avatar,displayName:i.displayName},isMobile:e.params.isMobile,source:s})})(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderComment=(()=>{const{comment:e}=this.props;return St.createElement("div",{className:Wm("comment")},e.text)}),this._renderLikes=(()=>{const{comment:e}=this.props;return St.createElement("div",{className:Wm("likes")},St.createElement("svg",{width:$m,height:Gm,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Wm("likes-icon")},St.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:qm})),St.createElement("span",{className:Wm("likes-count")},e.likeCount))}),this._renderAuthor=(()=>{const{user:e}=this.props,t={backgroundImage:`url(${e.avatarUrl})`};return St.createElement("div",{className:Wm("user")},St.createElement("div",{className:Wm("user-avatar")},St.createElement("div",{className:Wm("user-avatar-image"),style:t})),St.createElement("div",{className:Wm("user-name")},e.displayName))}),this._renderLinkToAllComments=(()=>{const{source:e}=this.props;return St.createElement("div",{className:Wm("all-comments-wrap")},St.createElement("a",{href:`${e.link}#comments_data=p_root`,target:"_blank",rel:"noreferrer noopener",className:Wm("all-comments")},"Все комментарии"))}),t}render(){const{comment:e,isMobile:t}=this.props;return St.createElement("div",{className:Wm()},this._renderAuthor(),St.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",className:Wm("bubble")},St.createElement("div",{className:Wm("comment",{isMobile:t})},e.text)),St.createElement("div",{className:Wm("footer")},this._renderLikes(),this._renderLinkToAllComments()))}});n(193);const Ym=ra("profile-onboarding-card");const Qm=pn(()=>(e,{id:t})=>{const{feed:n,params:r}=e,s=n.items[t],{isMobile:i}=r;return Object.assign({},s,{isMobile:i})})(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._renderInterestsCard=(()=>St.createElement("div",{className:Ym("title")},"При желании активность или интересы можно скрыть в настройках")),this._renderLikesCard=(()=>St.createElement(St.Fragment,null,St.createElement("div",{className:Ym("title")},"Здесь будут размещаться ваши лайки, публикации и комментарии"))),this._renderContent=(()=>{const{mode:e}=this.props;return"likes"===e?this._renderLikesCard():this._renderInterestsCard()}),t}render(){const{mode:e,isMobile:t}=this.props;return St.createElement("div",{className:Ym({mode:e,isMobile:t})},this._renderContent())}});let Zm,Jm;!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.LOG="LOG"}(Zm||(Zm={})),function(e){e.RUNTIME="RUNTIME",e.LONGTERM="LONGTERM",e.IGNORE="IGNORE"}(Jm||(Jm={}));const Xm={storageLevel:Jm.IGNORE},ef=({grid:e,displayedRowsNumber:t,zenLogger:n})=>{const r=[].concat(...e.rows.slice(0,t)),s=r.length<3,i=r.every(e=>e.ad||"ad"===e.type);s?n.error({message:"Feed failed to mount",details:{reason:"Not enough cards",cardsNumber:r.length}},Xm):i?n.error({message:"Feed failed to mount",details:{reason:"Only ads in feed"}},Xm):n.log({message:"Feed successfully mounted"},Xm)},tf=({item:e,error:t,zenLogger:n})=>{n.error({message:"Card failed to mount",details:{reason:t.message,itemId:e.id}},Xm)},nf={[I]:Qd,[D]:Qd,[M]:Ou,[R]:Ku,similar:Rp,[P]:sp,hint_eula:Ru,"card-placeholder":Ap,placeholder:Ap,"user-feedback-question":Fp,similar_interests:$p,[L]:zh,[B]:sm,[j]:Fm,[F]:Km,[U]:Qm},rf={[I]:Gp(Qd),[D]:Gp(Qd),[M]:Gp(Ou)},sf=ra("feed");var of=class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this.state={hasError:!1},t}componentDidCatch(e){const{item:t,zenLogger:n}=this.props;this.setState({hasError:!0}),tf({item:t,error:e,zenLogger:n})}_maybeRenderFeedItemHeader(){const{isActivityFeed:e,size:t,item:{id:n,type:r}}=this.props;return e&&r!==U?Ot.a.createElement("div",{className:sf("item-header",{size:t})},Ot.a.createElement(Hm,{id:n})):null}render(){if(this.state.hasError)return null;const{isVisible:e,isIntersecting:t,rowIndex:n,scrollToID:r,itemIndexInRow:s,intersectionRatio:i,item:{id:o,type:a,size:c,ad:l},styles:{feedItem:d},disableScrollToCard:u}=this.props,p=l&&(c===z||l.isBig)&&rf[a]||nf[a];if(!p)return null;const h={zenScrollToTarget:r===o,heightFree:a===F,size:c},m={id:o,size:c,ad:l,rowIndex:n,itemIndexInRow:s,isVisible:e,isIntersecting:t,intersectionRatio:i,disableScrollToCard:u};return Ot.a.createElement("div",{className:sf("item-wrap",{size:c})},this._maybeRenderFeedItemHeader(),Ot.a.createElement("div",{className:sf("item",h),style:d},Ot.a.createElement(p,m)))}};const af=ra("feed");var cf=class extends St.PureComponent{render(){const{row:e,rowIndex:t,rootRef:n,scrollToID:r,isVisible:s,isIntersecting:i,styles:o,intersectionRatio:a,isActivityFeed:c,zenLogger:l,disableScrollToCard:d}=this.props,u=e.hasPlaceholder;let p=o.feedRow;return u&&(p=Object.assign({},p,{marginBottom:0})),Ot.a.createElement("div",{className:af("row"),ref:n,style:p},e.map((e,n)=>Ot.a.createElement(of,{key:e.id,item:e,rowIndex:t,itemIndexInRow:n,scrollToID:r,isVisible:s,isIntersecting:i,intersectionRatio:a,styles:o,isActivityFeed:c,zenLogger:l,disableScrollToCard:d})))}};n(192);const lf=ra("feed-empty");function df({size:e="m"}){return Ot.a.createElement("h2",{className:lf({size:e})},"Нет публикаций")}let uf,pf;uf=pf=wa(cf);var hf=class extends St.PureComponent{componentDidMount(){this.props.onChange(null,this.props)}componentDidUpdate(e){this.props.onChange(e,this.props)}render(){const{grid:e,displayedRowsNumber:t,className:n,scrollToID:r,styles:s,visibilityThreshold:i,setFeedListContainer:o,isActivityFeed:a,zenLogger:c,disableScrollToCard:l}=this.props,d=e.rows.slice(0,t).map((e,t)=>{const n=e.reduce((e,{id:t})=>e+t,""),o=0===t?pf:uf;return Ot.a.createElement(o,{key:n,row:e,visibilityThreshold:i,rowIndex:t,scrollToID:r,styles:s,isActivityFeed:a,zenLogger:c,disableScrollToCard:l})});return Ot.a.createElement("div",{ref:o,className:n,style:s.feed},0===e.rows.length?Ot.a.createElement(df,null):d)}};n(191);const mf=600;var ff=wa(class extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._lastSessionId=null,t}_updateIfIntersecting(e=(this._lastSessionId=Math.random()),t=1){const{isIntersecting:n,onFeedEndReach:r}=this.props;n&&e===this._lastSessionId&&t<=5&&r().then(n=>{n&&setTimeout(()=>{this._updateIfIntersecting(e,t+1)},200)})}componentDidMount(){this._updateIfIntersecting()}componentDidUpdate(e){e.isIntersecting||this._updateIfIntersecting()}render(){const{rootRef:e}=this.props;return Ot.a.createElement("div",{className:"more-mark-wrapper"},Ot.a.createElement("div",{className:"more-mark",ref:e,style:{height:`${mf}px`}}))}});const gf=30,_f=ra("feed");const bf={switchMoreButtonOffsetMode:Jr,drawMoreItems:()=>(e,t)=>{const n=t(),{feed:r}=n,{displayedRowsNumber:s,gridType:i,countRowsBeforeBlock:o}=r,{rows:a}=fr(r),c=s+ar(i,"rowDisplayStep"),l=[];if(c>a.length?l.push(new Promise(t=>{e(xi({onAfterPackInsert:t}))})):l.push(Promise.resolve(!1)),s<=a.length){const n=Ir();e(Ni(s<=o&&o<=c?o:c)),l.push(n(t()).then(()=>!0))}else l.push(Promise.resolve(!1));return Promise.all(l).then(([e,t])=>e||t)},setCommentsCounts:(e={})=>async t=>{const{elements:n={}}=e,r=[];if(Object.keys(n).forEach(e=>{const t=n[e]&&n[e].commentsDocumentId;t&&!Ai.includes(t)&&(r.push(t),Ai.push(t))}),!r.length)return null;const s=await mt.getCommentsCounters(r);s&&t({type:"SET_COMMENTS_COUNTS",payload:s})}};var Ef=$d(class extends St.Component{constructor(...e){var t;return t=super(...e),this._emitRowsChanged=(e=>{const{rows:t}=this.props.grid,{displayedRowsNumber:n}=this.props,r=T.get(e,"grid.rows"),s=e&&e.displayedRowsNumber;(!e||r!==t||s!==n)&&ft.emit(gt.ROWS_CHANGED,mr(t,n))}),this._onFeedListChange=((e,t)=>{const{experiments:n,setCommentsCounts:r}=this.props;e&&e.grid===t.grid&&e.displayedRowsNumber===t.displayedRowsNumber||(Et.emit(yt.FEED_CHANGED,t.grid,t.displayedRowsNumber),(n.isExp("ab:rezen_comments_counter:rezen_comments_counter")||n.isExp("zen_comments"))&&r(t.grid)),this._emitRowsChanged(e)}),t}initScrollEvents(){const{switchMoreButtonOffsetMode:e,scrollToID:t}=this.props;li(),t&&oi({delta:gf,direction:1,once:!0},()=>{e("normal")})}componentDidMount(){const{grid:e,displayedRowsNumber:t,scrollToID:n,switchMoreButtonOffsetMode:r,hasPinnedCarousel:s,zenLogger:i}=this.props;this.initScrollEvents(),s?r("pinned-carousel"):n&&r("header"),ef({grid:e,displayedRowsNumber:t,zenLogger:i})}render(){const{grid:e,columnCount:t,rubberyType:n,isAdsense:r,scrollToID:s,displayedRowsNumber:i,setFeedListContainer:o,styles:a,visibilityThreshold:c,drawMoreItems:l,isActivityFeed:d,isInFrame:u,isYabroMordaThirdExp:p,zenLogger:h,disableScrollToCard:m,isMordaDesktop:f}=this.props,g=_f({columnCount:t,rubberyType:n,isAdsense:r,isActivityFeed:d,isInFrame:u,isMordaDesktop:f,isYabroMordaThirdExp:p,isMordaDesktop:f});return Ot.a.createElement(Ot.a.Fragment,null,Ot.a.createElement(hf,{className:g,grid:e,displayedRowsNumber:i,scrollToID:s,onChange:this._onFeedListChange,setFeedListContainer:o,styles:a,visibilityThreshold:c,isActivityFeed:d,zenLogger:h,disableScrollToCard:m}),Ot.a.createElement(ff,{onFeedEndReach:l}),Ot.a.createElement(Ca,null))}}).to(Wd(({zenLogger:e})=>({zenLogger:e}))).to(pn(()=>{const e=((e,t,n)=>{const r=Object.keys(e);return Object(_n.createSelector)(Wn,s=>{for(let n of r){const r=`${t}:${n}`;if(s.isExp(r))return e[n]}return n})})({50:.5},"ab:rezen_item_visibility_threshold"),t={};return n=>{const{isMoreButtonVisible:r}=n.iface,{scrollToID:s}=n.shared,{displayedRowsNumber:i}=n.feed,o=qn(n),a=Boolean(T.get(n,"pinnedCarousel.id"));return Object.assign({isMoreButtonVisible:r,scrollToID:s,displayedRowsNumber:i,grid:fr(n.feed)},xr(n),{styles:T.get(n,"params.styles")||t,visibilityThreshold:e(n),experiments:Wn(n),isActivityFeed:o,hasPinnedCarousel:a})}},bf)).value,yf=(n(190),n(34));n(189),n(188),n(187),n(186);const vf=ra("info-button");var kf=({isVisible:e,position:t,theme:n})=>{const r=vf({visible:e,position:t,theme:n});return Ot.a.createElement("div",{className:r},Ot.a.createElement("a",{className:vf("link"),href:"https://zen.yandex.com/about",target:"_blank"}))};const Cf=()=>Ot.a.createElement("div",{className:vf("spacer")}),wf=ra("more-button");class Sf extends St.PureComponent{_renderInfoButton(){const{needInfoButton:e,theme:t}=this.props;return e?Ot.a.createElement(kf,{theme:t}):null}_renderInfoButtonSpacer(){const{needInfoButton:e}=this.props;return e?Ot.a.createElement(Cf,null):null}render(){const{moreButtonOffsetMode:e,isMoreButtonVisible:t,position:n,isNavbarAtBottom:r,theme:s,onClick:i,offsetBottom:o}=this.props,a={visible:t,offsetMode:e,isNavbarAtBottom:r,offsetBottom:o,position:n,theme:s},c="bottom"===n?{bottom:o}:{};return Ot.a.createElement("div",{style:c,className:wf(a)},this._renderInfoButton(),Ot.a.createElement("div",{className:wf("container")},Ot.a.createElement("div",{className:wf("content"),onClick:i},Ot.a.createElement("div",{className:wf("icon")}),Ot.a.createElement("div",{className:wf("text")},"новые публикации"))),this._renderInfoButtonSpacer())}}Sf.defaultProps={moreButtonOffsetMode:"normal",needInfoButton:!1};var Of=Sf;n(185),n(184);const xf=ra("error-message");var Tf=e=>{const{isErrorMessageVisible:t,moreButtonOffsetMode:n,position:r,onClick:s,isNavbarAtBottom:i,offsetBottom:o,theme:a="black"}=e,c={visible:t,position:r,theme:a,isNavbarAtBottom:i,offsetMode:n},l="bottom"===r?{bottom:o}:{};return Ot.a.createElement("div",{style:l,className:xf(c),onClick:s},Ot.a.createElement("div",{className:xf("container")},Ot.a.createElement("div",{className:xf("content")},Ot.a.createElement("div",{className:xf("icon")}),Ot.a.createElement("div",{className:xf("text")},"Новых публикаций пока нет"))))};const If=parseInt(yf.header.height),Nf=parseInt(yf.zenOne.header.height),Rf=ra("notifiers"),Pf={s:200,m:248,l:352};class Af extends St.PureComponent{constructor(...e){var t;return t=super(...e),this._onMoreButtonClick=(()=>{const{getMore:e,hideMoreButton:t,logger:n,shouldRefreshFeed:r}=this.props;gs("more-button")(n).log("client_click"),t(),e({insertOnTop:!0,onAfterPackInsert:wi,shouldRefreshFeed:r})}),this._onErrorMessageClick=(()=>{const{getMore:e,hideErrorMessage:t}=this.props;e(),t()}),t}_addMoreButtonScrollEvents(){const{showMoreButton:e,hideMoreButton:t,switchMoreButtonOffsetMode:n,moreButtonResponsiveness:r,isZenOneEnabled:s,pinnedCarouselSize:i}=this.props;oi({delta:r,direction:-1,onceDebounce:!0},e),oi({delta:r,direction:1,onceDebounce:!0},t);const o=(s?If:Nf)-30;ii({scroll:i?Pf[i]+30:o,precise:!0},({state:e})=>{n(0===e?i?"pinned-carousel":"header":"normal")})}_renderErrorMessage(){const{theme:e,position:t,needErrorMessage:n,isNativeFeed:r,isErrorMessageVisible:s,isNavbarAtBottom:i,offsetBottom:o,moreButtonOffsetMode:a}=this.props;if(!n||r)return null;const c={theme:e,position:t,isErrorMessageVisible:s,isNavbarAtBottom:i,offsetBottom:o,moreButtonOffsetMode:a,onClick:this._onErrorMessageClick};return Ot.a.createElement(Tf,c)}_renderMoreButton(){const{position:e,needMoreButton:t,isMoreButtonVisible:n,moreButtonOffsetMode:r,needInfoButton:s,theme:i,isNativeFeed:o,offsetBottom:a,isNavbarAtBottom:c}=this.props;if(!t||o)return null;const l={position:e,moreButtonOffsetMode:r,isMoreButtonVisible:n,needInfoButton:s,theme:i,isNavbarAtBottom:c,offsetBottom:a,onClick:this._onMoreButtonClick};return Ot.a.createElement(Of,l)}componentDidMount(){const{needMoreButton:e,enableNotifiers:t,disableNotifiers:n}=this.props;e&&this._addMoreButtonScrollEvents(),_t.on(bt.NOTIFIERS_ENABLED,()=>{t()}),_t.on(bt.NOTIFIERS_DISABLED,()=>{n()})}render(){const{position:e,withScrollbarFix:t}=this.props,n=t?Eh:"div";return Ot.a.createElement(n,{className:Rf({position:e})},Ot.a.createElement("div",{className:Rf("container")},this._renderMoreButton(),this._renderErrorMessage()))}}Af.defaultProps={theme:"black",position:"top",needErrorMessage:!0,moreButtonResponsiveness:30};var Mf=pn((e,t)=>{const n=rr(e),r=Hn(e),s=Es(),{pinnedCarousel:i}=e,{moreButtonOffsetMode:o,isErrorMessageVisible:a,isMoreButtonVisible:c,offsetBottom:l}=e.iface,d=t&&t.location&&t.location.pathname,u=Wn(e),p=gs("notifiers")(s(e)),h=u.isExp("ab:rezen_unified:bottom"),m=u.isExp("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed");return{offsetBottom:l,moreButtonOffsetMode:o,needMoreButton:Gn(e)&&(!n||void 0===d||(e=>"/"===e||!!e.match(/^\/people\/[a-z]+\/?$/))(d)),isNativeFeed:r,isErrorMessageVisible:a,isMoreButtonVisible:c,isNavbarAtBottom:h,isZenOneEnabled:n,logger:p,shouldRefreshFeed:m,pinnedCarouselSize:i.size}},{getMore:xi,showMoreButton:()=>(e,t)=>{const n=t(),{isSpinnerVisible:r,isErrorMessageVisible:s,isNotifiersDisabled:i}=n.iface;r||s||i||e({type:"SHOW_MORE_BUTTON",payload:null})},hideMoreButton:Zr,switchMoreButtonOffsetMode:Jr,hideErrorMessage:Xr,disableNotifiers:()=>e=>{e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})}),e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"DISABLE_NOTIFIERS",payload:null})},enableNotifiers:()=>({type:"ENABLE_NOTIFIERS",payload:null})},null,{pure:!1})(Af);n(182);const Df=pn(()=>{const e=_s(),t=e=>e.pinnedCarousel,n=om(t),r=im(t);return s=>{const i=t(s),o=r(s),a=n(s),c=e(i);return Object.assign({},i,{items:o,hidden:a,logger:c})}})(jm),Lf=ra("zen-app-header-desktop"),Bf=pn(e=>Object.assign({pinnedCarousel:e.pinnedCarousel},xr(e)))(({pinnedCarousel:e,columnCount:t,rubberyType:n,isAdsense:r})=>{const s=Lf({columnCount:t,rubberyType:n,isAdsense:r});return e.id?St.createElement("div",{className:s},St.createElement(Df,{className:Lf("pinned-carousel"),mode:"pinned-lib"})):null});n(178);const jf=ra("floating-links"),Ff=pn((e,t)=>{const{isProfileScreen:n}=t,{withFloatingLinks:r,countryCode:s,host:i}=e.params,{columnCount:o}=xr(e);return{host:i,countryCode:s,columnCount:o,advertisersLink:$n(e).safeGet("rezen_advertisers_link",""),isVisible:!n&&r}})(e=>{const{advertisersLink:t,isVisible:n,columnCount:r,countryCode:s="",host:i=""}=e;return n&&"ru"===s&&""!==t?St.createElement("div",{className:jf({columnCount:r})},St.createElement("div",{className:jf("container")},St.createElement(Ml,{className:jf("link"),href:t,target:"_blank",host:i},"Рекламодателям"))):null}),Uf=ra("zen-page");const zf=Object(Do.a)(pn(e=>({theme:Xn(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition})),(e=>t=>{const n=async t=>{(await Pn(e)).reachGoal(t)};return pn((e,{disableMetrika:t})=>{const n=Wn(e),r=n.isExp("rezen_disable_metrika");return{experiments:n,disableMetrika:t||r}})(class extends St.Component{constructor(...e){var t;return t=super(...e),this._reachMetrikaGoal=(e=>{const{disableMetrika:t}=this.props;return t?null:n(e)}),t}render(){return St.createElement(t,Dt({},this.props,{reachMetrikaGoal:this._reachMetrikaGoal}))}})})({id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0}))(class extends St.Component{componentDidMount(){const{reachMetrikaGoal:e}=this.props;e&&e("LIB_SHOWED")}render(){const{theme:e,libType:t,notifiersPosition:n}=this.props,r={theme:e,libType:t};return Ot.a.createElement("div",{className:Uf(r)},Ot.a.createElement("div",{className:"zen-app"},n?Ot.a.createElement(Mf,{position:n}):null,Ot.a.createElement(Bf,null),Ot.a.createElement(Ef,null),Ot.a.createElement(Ff,null)))}});var Vf=e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const{branchName:e,branchState:r}=n.payload,s=Object.keys(r).reduce((e,t)=>(void 0!==r[t]&&(e[t]=r[t]),e),{});return T.set(t,[e],e=>Object.assign({},e,s))}default:return e(t,n)}};const Hf={feedback:null,complaints:null,complaintsSendedAt:null};var Wf=(e=Hf,t)=>{switch(t.type){case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":{const{isMittensJumping:n}=t.payload;return Object.assign({},e,{isMittensJumping:n})}case"ITEM_FEEDBACK_ANSWER_TOGGLE":{const{targetKey:n,questionType:r}=t.payload,{questions:s=[]}=e.customUserFeedbackData,i=s.findIndex(({type:e})=>e===r);if(i<0)return e;const o=["customUserFeedbackData","questions",i,"answers",n,"isChecked"],a=T.get(e,o);return T.set(e,o,!a)}case"ITEM_FEEDBACK_ANSWERS_UNCHECK":{const{questions:t=[]}=e.customUserFeedbackData,n=t.findIndex(({type:e})=>"extended_dislike_feedback"===e);if(n<0)return e;const r=["customUserFeedbackData","questions",n,"answers"],s=(T.get(e,r)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return T.set(e,r,s)}default:return e}};var $f=Gi(Wf,(e={},t)=>{switch(t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}});var Gf=Gi(Wf,(e={},t)=>{switch(t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const{paused:n,isFullScreen:r}=t.payload;return Object.assign({},e,{started:!0,paused:n,isFullScreen:r})}default:return e}});const qf={hidden:!1,items:[]};var Kf=Gi(Wf,(e=qf,t)=>{switch(t.type){case"CLOSE_CAROUSEL_ITEM":{const{items:n,hidden:r}=e,{index:s,isAnimationDelay:i}=t.payload,o=n[s],a=[...n];return a[s]=Object.assign({},o,{hidden:!0,isAnimationDelay:i}),Object.assign({},e,{hidden:r||a.every(e=>e.hidden),items:a})}case"CLOSE_CAROUSEL":return Object.assign({},e,{hidden:!0});default:return e}});var Yf=(e,t)=>{switch(e.type){case D:case I:case N:case L:return $f(e,t);case M:return Gf(e,t);case B:case j:return Kf(e,t);default:return e}};var Qf=(e,t)=>t.reduce((e,[t,...n])=>T[t](e,...n),e);const Zf={gridType:"two_column",items:{},itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1},Jf=(e,t,n,r=!0)=>{const s=e.indexOf(n),i=Number(r);if(-1===s)throw new Error("Array not contains item.");return e.slice(0,s+i).concat(t,e.slice(s+i))},Xf=(e,t,n)=>Jf(e,t,n,!1),eg=(e,t,n)=>Jf(e,t,n,!0),tg={moreButtonOffsetMode:"header",offsetBottom:null,isMoreButtonVisible:!1,isSpinnerVisible:!1,isErrorMessageVisible:!1,isNotifiersDisabled:!1,isBodyScrollEnabled:!0,isVideoAutoplayEnabled:null,isOpenCardScrollEnabled:!0,channelTooltipVisible:!1,subsTooltipVisible:!1,feedLoadingProgressVisible:!1,smsTooltipVisible:!1,blockFeedBannerVisible:!1};var ng=(e=tg,t)=>{switch(t.type){case"SHOW_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!0});case"HIDE_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!1});case"SET_OFFSET_BOTTOM":{const{offsetBottom:n}=t.payload;return Object.assign({},e,{offsetBottom:n})}case"SWITCH_MORE_BUTTON_OFFSET_MODE":{const{offsetMode:n}=t.payload;return Object.assign({},e,{moreButtonOffsetMode:n})}case"SHOW_SPINNER":return Object.assign({},e,{isSpinnerVisible:!0});case"HIDE_SPINNER":return Object.assign({},e,{isSpinnerVisible:!1});case"SHOW_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!0});case"HIDE_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!1});case"ENABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!1});case"DISABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!0});case"DISABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!1});case"ENABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!0});case"VIDEO_AUTOPLAY_ON":return Object.assign({},e,{isVideoAutoplayEnabled:!0});case"VIDEO_AUTOPLAY_OFF":return Object.assign({},e,{isVideoAutoplayEnabled:!1});case"DISABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!1});case"ENABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!0});case"SET_CHANNEL_TOOLTIP_VISIBLE":{const{payload:n}=t,{smsTooltipVisible:r}=e;return r?e:Object.assign({},e,{channelTooltipVisible:Boolean(n),subsTooltipVisible:!1,smsTooltipVisible:!1})}case"SET_SUBS_TOOLTIP_VISIBLE":{const{payload:n}=t;return Object.assign({},e,{subsTooltipVisible:Boolean(n),channelTooltipVisible:!1,smsTooltipVisible:!1})}case"SET_FEED_LOADING_PROGRESS_VISIBLE":{const{payload:n}=t;return Object.assign({},e,{subsTooltipVisible:!1,smsTooltipVisible:!1,channelTooltipVisible:!1,feedLoadingProgressVisible:Boolean(n)})}case"SET_SMS_TOOLTIP_VISIBLE":{const{payload:n}=t;return Object.assign({},e,{smsTooltipVisible:Boolean(n),channelTooltipVisible:!1,subsTooltipVisible:!1})}case"SET_BLOCK_FEED_BANNER_OPEN":{const{payload:n}=t;return Object.assign({},e,{blockFeedBannerVisible:Boolean(n),channelTooltipVisible:!1,subsTooltipVisible:!1})}default:return e}};const rg={checkedSources:[]};var sg=(e=rg,t)=>{switch(t.type){case"CHECK_SOURCE":{const{id:n}=t.payload,{checkedSources:r}=e;return{checkedSources:[...r,n]}}case"UNCHECK_SOURCE":{const{id:n}=t.payload,{checkedSources:r}=e,s=r.slice(0);return s.splice(r.indexOf(n),1),{checkedSources:s}}default:return e}};const ig=Lr("categories",()=>mt.getCategories(),e=>e.categories,({sources:e,list:t})=>({sources:e&&e.map(e=>e.id),list:t})),og=(Dr(()=>async(e,t)=>{const n=t(),{zenApi:r}=qr(n);e({type:ig.succeed,payload:await r.getCategories()})}),(e,t)=>new Promise((n,r)=>{e.then(n,r),setTimeout(()=>{r(new Error("Request timeout."))},t)})),ag=e=>({type:"suggest-set-filter",payload:e}),cg=((e,t,n=Ar,r=1e3)=>{const s=Mr(e,t,n),{action:i}=s,o=Lt(s,["action"]);return Object.assign({action:Dr(i,r)},o)})("suggest",async(e,t)=>{if(""!==e)return og(t?mt.getBlockedSuggest(e):mt.getSuggest(e),1e4)},e=>e&&e.map(e=>e.id),500),lg=Object.assign({},cg,{action:(e,t=!1)=>n=>{n(ag(e)),n(cg.action(e,t))},retryAction:e=>(t,n)=>{const r=n(),{filter:s}=r.search;t(cg.action(s,e))}});let dg;Dr((e,t=!1)=>async n=>{if(""===e)return void n({type:lg.succeed,payload:void 0});const r=dg=og(t?mt.getBlockedSuggest(e):mt.getSuggest(e),1e4),s=await r;r===dg&&n({type:lg.succeed,payload:s})},500);const ug=Lr("category",e=>mt.getCategory(e),(e,t)=>e.category[t]||{status:"pending"},({sources:e,category:t})=>({sources:e&&e.map(e=>e.id),category:t})),pg=(Dr(e=>t=>mt.getCategory(e).then(n=>{t({type:ug.succeed,payload:n,meta:e})})),{});var hg=Gi((e=pg,t)=>{switch(t.type){case hn:case mn:case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==Di.SUCCESS)return e;const n=t.payload.value,r=t.__data__&&t.__data__.selfUserId,s=!([hn,mn].includes(t.type)&&t.payload.id===r);let i;return i=s?e:Object.keys(e).reduce((t,n)=>{const r=e[n];return"not_subscribed"===r.status?t[n]=r:t[n]=Object.assign({},r,{status:"not_subscribed"}),t},{}),n?n.reduce((e,t)=>{const n=s?i[t.id]?i[t.id].status:"not_subscribed":t.status;return e[t.id]=Object.assign({},t,{status:n}),e},Object.assign({},i)):i}case"USER_PROFILE_REQUEST":{if(t.payload.status!==Di.SUCCESS)return e;const{source:n}=t.payload.value,r=e[n.id]?e[n.id].status:"not_subscribed";return Object.assign({},e,{[n.id]:Object.assign({},n,{status:r})})}case ug.succeed:case ig.succeed:{const{sources:n}=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case lg.succeed:{const n=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"APPLY_EXPORT_DATA":{const{exportData:n}=t.payload,{onboardingInterests:r,pinnedCarousel:s}=n;return[...r?r.sources:[],...s?s.items.map(e=>e.source):[]].reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e))}case"VIDEO_MODAL_SET_SOURCES":{const{sources:n=[]}=t.payload;return Object.assign({},e,n)}case"RECEIVE_ITEMS":{const{items:n=[]}=t.payload,r=n.reduce((t,{type:n,items:r,source:s,statEvents:i,bulkParams:o})=>(n!==B&&n!==j||r.forEach(({source:n})=>{n&&!e[n.id]&&(t[n.id]=Object.assign({},n,{statEvents:n.statEvents||i,bulkParams:n.bulkParams||o}))}),!s||e[s.id]?t:(t[s.id]=Object.assign({},s,{statEvents:s.statEvents||i,bulkParams:s.bulkParams||o}),t)),{});return Object.assign({},e,r)}case"RECEIVE_SIMILAR":{const{similar:n={}}=t.payload,{items:r={}}=n,{sources:s=[]}=r,i=s.reduce((e,t)=>(e[t.id]=Object.assign({},t),e),{});return Object.assign({},e,i)}case"SOURCE_MERGE":{const n=t.payload;return Object.assign({},e,{[n.id]:n})}default:return e}},((e,t)=>(n={},r)=>{const s=e(r);if(void 0===s)return n;const i=t(n[s],r);return n[s]!==i?Object.assign({},n,{[s]:i}):n})(e=>e.payload&&e.payload.id,(e,t)=>{if(!e)return e;switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case"SOURCE_DISLIKE":return Object.assign({},e,{feedback:"disliked"});default:return e}}));const mg={openedItemId:null,videoFeed:{}};const fg={};var gg=(e=fg,t)=>{switch(t.type){case"SET_COMMENTS_COUNTS":return Object.assign({},e,t.payload);case"INIT_COMMENTS":return Object.assign({},e,{commentsContent:t.payload});default:return e}};const _g={id:null,type:null,size:null,title:null,subtitle:null,background:null,items:[],statEvents:null,bulkParams:null,showMoreLink:null};var bg=(e={})=>t=>void 0===t?"function"==typeof e?e():e:t;const Eg=bg({onboarding:null,more:null,bulk:null}),yg=bg({host:"https://zen.yandex.ru/",clid:null,countryCode:null,integration:null,product:null,tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{},withFloatingLinks:!1}),vg=bg({scrollToID:null}),kg=bg({}),Cg=(bg({}),bg({})),wg={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},Sg=Object(Do.a)(Vf,Wi.a)({sessionId:(e="",t)=>{switch(t.type){case"SET_SESSION_ID":return t.payload;default:return e}},feed:(e=Zf,t)=>{switch(t.type){case"PREPEND_ITEM":{const{item:n}=t.payload;return Qf(e,[["set",["items",n.id],n],["set","itemsOrder",e=>[n.id].concat(e)]])}case"APPEND_ITEM":{const{item:n}=t.payload;return Qf(e,[["set",["items",n.id],n],["set","itemsOrder",e=>e.concat(n.id)]])}case"INSERT_ITEM_BEFORE":{const{item:n,beforeId:r}=t.payload;return Qf(e,[["set",["items",n.id],n],["set","itemsOrder",e=>Xf(e,n.id,r)]])}case"INSERT_ITEM_AFTER":{const{item:n,afterId:r}=t.payload;return Qf(e,[["set",["items",n.id],n],["set","itemsOrder",e=>eg(e,n.id,r)]])}case"REMOVE_ITEM":{const{itemId:n}=t.payload,r=e.itemsOrder.indexOf(n);return Qf(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"REPLACE_ITEM":{const{item:n,replaceId:r}=t.payload,s=e.itemsOrder.indexOf(r);return Qf(e,[["del",["items",r]],["set",["items",n.id],n],["set",["itemsOrder",s],n.id]])}case"RECEIVE_ITEMS":{const{items:n,insertOnTop:r,shouldRefreshFeed:s}=t.payload,{zenLogger:i}=Kr(t),o=Object.keys(e.items),a={},c=[];if(n.forEach(e=>{let t,{source:n}=e,r=Lt(e,["source"]);o.includes(r.id)||c.includes(r.id)?(i.warn({message:"Non-unique item",details:{itemId:r.id,itemTitle:r.title}}),t=`${r.id}_${Date.now()}`):t=r.id,a[t]=Object.assign({},r,{id:t,source:n?n.id:void 0}),r.type!==B&&r.type!==j||(a[t].items=r.items.map(e=>{const{source:t}=e;return Object.assign({},e,{source:t.id})})),c.push(t)}),s)return Object.assign({},e,{items:a,itemsOrder:c});const l=Object.assign({},e.items,a),d=r?c.concat(e.itemsOrder):e.itemsOrder.concat(c);return Object.assign({},e,{items:l,itemsOrder:d})}case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":{const{itemId:n}=t.payload,r=["items",n,"isSimilarRequested"],s="REQUEST_SIMILAR"===t.type;return T.set(e,r,s)}case"LINK_CHILD_ITEM":{const{itemId:n,childItemId:r}=t.payload;return Qf(e,[["set",["items",n,"childItemId"],r],["set",["items",r,"parentId"],n]])}case"UNLINK_CHILD_ITEM":{const{itemId:n}=t.payload,{childItemId:r}=e.items[n];return Qf(e,[["del",["items",n,"childItemId"]],["del",["items",r,"parentId"]]])}case"REPORT_AD_DIDNT_LOAD":{const{itemId:n}=t.payload;return Qf(e,[["set",["items",n,"adDidntLoad"],!0]])}case"ANSWER_USER_QUESTION":{const{id:n,parentId:r}=t.payload;return Qf(e,[["set",["items",n,"isAnswered"],!0],["set",["items",r,"isUserQuestionAnswered"],!0]])}case"SET_GRID_TYPE":{const{gridType:n}=t.payload;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const{displayedRowsNumber:n}=t.payload;return Object.assign({},e,{displayedRowsNumber:n})}case"SET_IS_CHILD_WINDOW":{const{isChildWindow:n}=t.payload;return Object.assign({},e,{isChildWindow:n})}case"CLEAR_FEED":return Zf;case"SET_COUNT_ROWS_BEFORE_BLOCK":{const{countRowsBeforeBlock:n}=t.payload;return Object.assign({},e,{countRowsBeforeBlock:n})}default:{const n=t.payload&&t.payload.id,r=t.payload&&t.payload.ids;if(n&&e.items[n]){const r=e.items[n];if(!r)return e;const s=Yf(r,t);return r!==s?T.set(e,["items",n],s):e}if(Array.isArray(r)){const n=e.items,s={};let i=!1;for(let e=0;e<r.length;e++){const o=r[e],a=n[o];a&&a!==(s[o]=Yf(a,t))&&(i=!0)}return i?Object.assign({},e,{items:Object.assign({},n,s)}):e}return e}}},iface:ng,iceboarding:sg,links:Eg,params:yg,shared:vg,context:kg,user:(e=wg,t)=>{switch(t.type){case"APPLY_EXPORT_DATA":{const{exportData:n,currentTime:r}=t.payload,{user:s}=n,{serverTime:i}=s;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,s.lastSawFeed),serverTime:i,serverTimeDiff:i?i-r:0})}case"INIT_FROM_STATE":{const{currentTime:n}=t.payload,{serverTime:r}=e;return Object.assign({},e,{serverTimeDiff:r?r-n:0})}default:return e}},sources:hg,request:Cg,videoCards:(e=ku,t)=>{switch(t.type){case"VIDEO_CARD_CHANGE_VISIBILITY":{const n=Cu(e,t,"visibleCardIndices","visible"),{id:r,visible:s,index:i}=t.payload,{visibleCardIndices:o}=n,{interactionCardId:a,activeCard:c}=e;if(!a){if(!s&&c.id===r)return Object.assign({},n,{activeCard:Object.assign({},ku.activeCard)});const e=i===Math.min(...Object.values(o));if(s&&e)return Object.assign({},n,{activeCard:Object.assign({},ku.activeCard,{id:r})})}return n}case"VIDEO_CARD_CHANGE_INTERSECTING":{const n=Cu(e,t,"intersectingCardIndices","intersecting"),{interactionCardId:r}=e,{id:s,intersecting:i}=t.payload;return i||s!==r?n:Object.assign({},n,{interactionCardId:null})}case"VIDEO_CARD_CHANGE_INTERACTION":return Object.assign({},e,{interactionCardId:t.payload.id});case"VIDEO_CHANGE_ACTIVE_CARD":return Object.assign({},e,{activeCard:t.payload});default:return e}},videoModal:(e=mg,t)=>{switch(t.type){case"VIDEO_MODAL_TOGGLE":{const{openedItem:e}=t.payload;if(!e)return mg;const n=e.id;return{openedItemId:n,videoFeed:{[n]:e}}}case"VIDEO_MODAL_CHANGE":{const{openedItemId:n}=t.payload;return Object.assign({},e,{openedItemId:n})}case"VIDEO_MODAL_GET_RECOMMEND":{const{videoFeed:n}=t.payload;return Object.assign({},e,{videoFeed:Object.assign({},e.videoFeed,n)})}default:{const n=t.payload&&t.payload.id;if(!n||!e.videoFeed[n])return e;const r=e.videoFeed[n],s=Yf(r,t);return r!==s?T.set(e,["videoFeed",n],s):e}}},commentsData:gg,pinnedCarousel:(e=_g,t)=>{switch(t.type){case"APPLY_EXPORT_DATA":{const{exportData:n}=t.payload,{pinnedCarousel:r}=n;if(r){const t=r.items.map(e=>Object.assign({},e,{source:e.source.id}));return Object.assign({},e,r,{items:t})}return e}}return e}});t.default=new class{constructor(e,t){this._app=null,this._store=null,this._App=e,this._reducer=t}init(e,t){const n={product:kt,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:!1,isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika,cspNonce:e.cspNonce,withFloatingLinks:e.withFloatingLinks,adId:e.adId};let r;e.userInfo&&(r={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId,avatar:e.userInfo.avatarUrl,displayName:e.userInfo.displayName});const{app:s,store:i}=qo({settings:{exportData:t,params:n,user:r,initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},App:this._App,reducer:this._reducer,middlewares:zo,sessionContext:{zenApi:mt},nativeZenApiMethods:e.nativeZenApiMethods});Xo(mt,i),mt.configure(t=>Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,referrerPlace:e.referrerPlace,referrerClid:e.referrerClid,isAdblockEnabled:e.isAdblock})),mt.addListener(Ae.BULK_EVENT_LOGGED,({event:e,statMeta:t})=>{ft.emit(gt.STAT,{eventName:e,statMeta:t})}),mt.addListener(Ae.NOT_SHOWN_PACK_UPDATED,(e,t)=>{ft.emit(gt.CACHE_PUT,t)}),mt.packUsed(i.getState().request.rid),this._app=s,this._store=i}render(e){Zo(this._app,e)}setParams(e){Ko(e,this._store)}on(e,t,n){ft.on(e,t,n)}off(e,t){ft.off(e,t)}addListener(...e){return this.on(...e)}removeListener(...e){return this.off(...e)}trigger(e,...t){_t.emit(e,t)}}(zf,Sg)},,,,,,,,,function(e,t,n){var r=n(17),s=n(12),i=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(45)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(80)("wks"),s=n(50),i=n(12).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:s)("Symbol."+e))}).store=r},function(e,t,n){t.f=n(81)},function(e,t,n){var r=n(12),s=n(17),i=n(45),o=n(82),a=n(51).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:o.f(e)})}},function(e,t,n){n(83)("asyncIterator")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",s=void 0,i=void 0,o=void 0,a=void 0,c=void 0,l=void 0,d=void 0,u=void 0,p=void 0,h=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(48)).default){var f=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,s=void 0,i="",o=0;o<n.length;o++){var a=n[o];if(a+"TransitionProperty"in e){i="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),s=t[a]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!s&&"animationName"in e&&(s="animationend");return e=null,{animationEnd:s,transitionEnd:r,prefix:i}}();s=f.prefix,t.transitionEnd=i=f.transitionEnd,t.animationEnd=o=f.animationEnd,t.transform=r=s+"-"+r,t.transitionProperty=a=s+"-transition-property",t.transitionDuration=c=s+"-transition-duration",t.transitionDelay=d=s+"-transition-delay",t.transitionTiming=l=s+"-transition-timing-function",t.animationName=u=s+"-animation-name",t.animationDuration=p=s+"-animation-duration",t.animationTiming=h=s+"-animation-delay",t.animationDelay=m=s+"-animation-timing-function"}t.transform=r,t.transitionProperty=a,t.transitionTiming=l,t.transitionDelay=d,t.transitionDuration=c,t.transitionEnd=i,t.animationName=u,t.animationDuration=p,t.animationTiming=h,t.animationDelay=m,t.animationEnd=o,t.default={transform:r,end:i,property:a,timing:l,delay:d,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(48));var s,i="clearTimeout",o=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=a(e,"request");if(t in window)return i=a(e,"cancel"),o=function(e){return window[t](e)}});var c=(new Date).getTime();(s=function(e){return o(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)},t.default=s,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(88));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=p(n(89)),i=p(n(87)),o=p(n(86)),a=n(85),c=p(n(0)),l=p(n(18)),d=n(9),u=n(47);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];a.transitionEnd&&m.push(a.transitionEnd),a.animationEnd&&m.push(a.animationEnd);l.default.node,u.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,d.findDOMNode)(this);if(r){var o=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||o+"-active",l=null,u=void 0;(0,s.default)(r,o),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),u&&u(),(0,i.default)(r,o),(0,i.default)(r,c),u&&u(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):a.transitionEnd&&(u=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,o.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,s.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},s=[];for(var i in e)t.hasOwnProperty(i)?s.length&&(r[i]=s,s=[]):s.push(i);var o=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(o=0;o<r[c].length;o++){var l=r[c][o];a[r[c][o]]=n(l)}a[c]=n(c)}for(o=0;o<s.length;o++)a[s[o]]=n(s[o]);return a};var r=n(0)},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=c(n(92)),i=c(n(0)),o=c(n(18)),a=(c(n(3)),n(91));function c(e){return e&&e.__esModule?e:{default:e}}o.default.any,o.default.func,o.default.node;var l=function(e){function t(n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,s));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},i.childRefs=Object.create(null),i.state={children:(0,a.getChildMapping)(n.children)},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var s=n&&n.hasOwnProperty(r);!t[r]||s||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var o=t&&t.hasOwnProperty(i);!n[i]||o||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var o="string"!=typeof r.ref,a=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};a===r&&o&&(c=(0,s.default)(r.ref,c)),t.push(i.default.cloneElement(a,{key:n,ref:c}))}};for(var o in this.state.children)n(o);var a=r({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,i.default.createElement(this.props.component,a,t)},t}(i.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=l(n(0)),i=l(n(18)),o=l(n(93)),a=l(n(90)),c=n(47);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,i.default.bool,i.default.bool,i.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=d(this,e.call.apply(e,[this].concat(o))),r._wrapChild=function(e){return s.default.createElement(a.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return s.default.createElement(o.default,r({},this.props,{childFactory:this._wrapChild}))},t}(s.default.Component);u.displayName="CSSTransitionGroup",u.propTypes={},u.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(96);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(49);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,s){return e.call(t,n,r,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(12),s=n(52),i=n(99),o=n(50)("src"),a=Function.toString,c=(""+a).split("toString");n(17).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(i(n,"name")||s(n,"name",t)),e[t]!==n&&(l&&(i(n,o)||s(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(28);e.exports=function(e,t){if(!r(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!r(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!r(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(28),s=n(12).document,i=r(s)&&r(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},function(e,t,n){e.exports=!n(27)&&!n(16)(function(){return 7!=Object.defineProperty(n(103)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(28);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(12),s=n(17),i=n(52),o=n(100),a=n(98),c=function(e,t,n){var l,d,u,p,h=e&c.F,m=e&c.G,f=e&c.S,g=e&c.P,_=e&c.B,b=m?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,E=m?s:s[t]||(s[t]={}),y=E.prototype||(E.prototype={});for(l in m&&(n=t),n)u=((d=!h&&b&&void 0!==b[l])?b:n)[l],p=_&&d?a(u,r):g&&"function"==typeof u?a(Function.call,u):u,b&&o(b,l,u,e&c.U),E[l]!=u&&i(E,l,p),g&&y[l]!=u&&(y[l]=u)};r.core=s,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";var r=n(106),s=n(49),i=n(97),o=n(16),a=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n(95)(a)),"Array",{sort:function(e){return void 0===e?a.call(i(this)):a.call(i(this),s(e))}})},,function(e,t,n){"use strict";var r=n(2).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},,function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,s,i,o,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,s,i,o,a,c],u=0;(l=new Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var s=function(){};s.thatReturns=r,s.thatReturnsFalse=r(!1),s.thatReturnsTrue=r(!0),s.thatReturnsNull=r(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},e.exports=s},function(e,t,n){"use strict";var r=n(113),s=n(112),i=n(111);e.exports=function(){function e(e,t,n,r,o,a){a!==i&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(116);function s(){}function i(){}i.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,i,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case u:case o:case c:case a:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case i:return t}}}function _(e){return g(e)===u}t.typeOf=g,t.AsyncMode=u,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=s,t.ForwardRef=p,t.Fragment=o,t.Profiler=c,t.Portal=i,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===c||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return _(e)},t.isConcurrentMode=_,t.isContextConsumer=function(e){return g(e)===d},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===c},t.isPortal=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===a}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(119);function s(){}e.exports=function(){function e(e,t,n,s,i,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=s,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var s,i=function(e){return e&&e.__esModule?e:{default:e}}(n(121));s="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=(0,i.default)(s);t.default=o}).call(this,n(19),n(122)(e))},function(e,t){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}))},function(e,t,n){"use strict";n.r(t);n(124)},function(e,t,n){n(125),n(70),e.exports=n(71)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r="@@router/CALL_HISTORY_METHOD";function s(e){return function(){for(var t=arguments.length,n=Array(t),s=0;s<t;s++)n[s]=arguments[s];return{type:r,payload:{method:e,args:n}}}}s("push");var i=s("replace");s("go"),s("goBack"),s("goForward")},,,function(e,t){},,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]).default;if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.1428");}